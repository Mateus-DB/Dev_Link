(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function uA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var um={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function cA(){if(I_)return Gl;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var C_;function hA(){return C_||(C_=1,um.exports=cA()),um.exports}var fe=hA(),cm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function fA(){if(D_)return qe;D_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,$={};function j(M,se,ce){this.props=M,this.context=se,this.refs=$,this.updater=ce||I}j.prototype.isReactComponent={},j.prototype.setState=function(M,se){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,se,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=j.prototype;function re(M,se,ce){this.props=M,this.context=se,this.refs=$,this.updater=ce||I}var oe=re.prototype=new W;oe.constructor=re,V(oe,j.prototype),oe.isPureReactComponent=!0;var ge=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function O(M,se,ce,le,Ae,Le){return ce=Le.ref,{$$typeof:r,type:M,key:se,ref:ce!==void 0?ce:null,props:Le}}function A(M,se){return O(M.type,se,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function N(M){var se={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ce){return se[ce]})}var L=/\/+/g;function U(M,se){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):se.toString(36)}function D(){}function Dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(se){M.status==="pending"&&(M.status="fulfilled",M.value=se)},function(se){M.status==="pending"&&(M.status="rejected",M.reason=se)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ze(M,se,ce,le,Ae){var Le=typeof M;(Le==="undefined"||Le==="boolean")&&(M=null);var xe=!1;if(M===null)xe=!0;else switch(Le){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(M.$$typeof){case r:case e:xe=!0;break;case _:return xe=M._init,ze(xe(M._payload),se,ce,le,Ae)}}if(xe)return Ae=Ae(M),xe=le===""?"."+U(M,0):le,ge(Ae)?(ce="",xe!=null&&(ce=xe.replace(L,"$&/")+"/"),ze(Ae,se,ce,"",function(wt){return wt})):Ae!=null&&(R(Ae)&&(Ae=A(Ae,ce+(Ae.key==null||M&&M.key===Ae.key?"":(""+Ae.key).replace(L,"$&/")+"/")+xe)),se.push(Ae)),1;xe=0;var Lt=le===""?".":le+":";if(ge(M))for(var gt=0;gt<M.length;gt++)le=M[gt],Le=Lt+U(le,gt),xe+=ze(le,se,ce,Le,Ae);else if(gt=S(M),typeof gt=="function")for(M=gt.call(M),gt=0;!(le=M.next()).done;)le=le.value,Le=Lt+U(le,gt++),xe+=ze(le,se,ce,Le,Ae);else if(Le==="object"){if(typeof M.then=="function")return ze(Dt(M),se,ce,le,Ae);throw se=String(M),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Z(M,se,ce){if(M==null)return M;var le=[],Ae=0;return ze(M,le,"","",function(Le){return se.call(ce,Le,Ae++)}),le}function de(M){if(M._status===-1){var se=M._result;se=se(),se.then(function(ce){(M._status===0||M._status===-1)&&(M._status=1,M._result=ce)},function(ce){(M._status===0||M._status===-1)&&(M._status=2,M._result=ce)}),M._status===-1&&(M._status=0,M._result=se)}if(M._status===1)return M._result.default;throw M._result}var Te=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function je(){}return qe.Children={map:Z,forEach:function(M,se,ce){Z(M,function(){se.apply(this,arguments)},ce)},count:function(M){var se=0;return Z(M,function(){se++}),se},toArray:function(M){return Z(M,function(se){return se})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},qe.Component=j,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=re,qe.StrictMode=a,qe.Suspense=p,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,qe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return k.H.useMemoCache(M)}},qe.cache=function(M){return function(){return M.apply(null,arguments)}},qe.cloneElement=function(M,se,ce){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=V({},M.props),Ae=M.key,Le=void 0;if(se!=null)for(xe in se.ref!==void 0&&(Le=void 0),se.key!==void 0&&(Ae=""+se.key),se)!me.call(se,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&se.ref===void 0||(le[xe]=se[xe]);var xe=arguments.length-2;if(xe===1)le.children=ce;else if(1<xe){for(var Lt=Array(xe),gt=0;gt<xe;gt++)Lt[gt]=arguments[gt+2];le.children=Lt}return O(M.type,Ae,void 0,void 0,Le,le)},qe.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},qe.createElement=function(M,se,ce){var le,Ae={},Le=null;if(se!=null)for(le in se.key!==void 0&&(Le=""+se.key),se)me.call(se,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Ae[le]=se[le]);var xe=arguments.length-2;if(xe===1)Ae.children=ce;else if(1<xe){for(var Lt=Array(xe),gt=0;gt<xe;gt++)Lt[gt]=arguments[gt+2];Ae.children=Lt}if(M&&M.defaultProps)for(le in xe=M.defaultProps,xe)Ae[le]===void 0&&(Ae[le]=xe[le]);return O(M,Le,void 0,void 0,null,Ae)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(M){return{$$typeof:m,render:M}},qe.isValidElement=R,qe.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:de}},qe.memo=function(M,se){return{$$typeof:g,type:M,compare:se===void 0?null:se}},qe.startTransition=function(M){var se=k.T,ce={};k.T=ce;try{var le=M(),Ae=k.S;Ae!==null&&Ae(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(je,Te)}catch(Le){Te(Le)}finally{k.T=se}},qe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},qe.use=function(M){return k.H.use(M)},qe.useActionState=function(M,se,ce){return k.H.useActionState(M,se,ce)},qe.useCallback=function(M,se){return k.H.useCallback(M,se)},qe.useContext=function(M){return k.H.useContext(M)},qe.useDebugValue=function(){},qe.useDeferredValue=function(M,se){return k.H.useDeferredValue(M,se)},qe.useEffect=function(M,se,ce){var le=k.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(M,se)},qe.useId=function(){return k.H.useId()},qe.useImperativeHandle=function(M,se,ce){return k.H.useImperativeHandle(M,se,ce)},qe.useInsertionEffect=function(M,se){return k.H.useInsertionEffect(M,se)},qe.useLayoutEffect=function(M,se){return k.H.useLayoutEffect(M,se)},qe.useMemo=function(M,se){return k.H.useMemo(M,se)},qe.useOptimistic=function(M,se){return k.H.useOptimistic(M,se)},qe.useReducer=function(M,se,ce){return k.H.useReducer(M,se,ce)},qe.useRef=function(M){return k.H.useRef(M)},qe.useState=function(M){return k.H.useState(M)},qe.useSyncExternalStore=function(M,se,ce){return k.H.useSyncExternalStore(M,se,ce)},qe.useTransition=function(){return k.H.useTransition()},qe.version="19.1.0",qe}var O_;function op(){return O_||(O_=1,cm.exports=fA()),cm.exports}var K=op();const ys=uA(K);var hm={exports:{}},Kl={},fm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function dA(){return N_||(N_=1,function(r){function e(Z,de){var Te=Z.length;Z.push(de);e:for(;0<Te;){var je=Te-1>>>1,M=Z[je];if(0<o(M,de))Z[je]=de,Z[Te]=M,Te=je;else break e}}function n(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var de=Z[0],Te=Z.pop();if(Te!==de){Z[0]=Te;e:for(var je=0,M=Z.length,se=M>>>1;je<se;){var ce=2*(je+1)-1,le=Z[ce],Ae=ce+1,Le=Z[Ae];if(0>o(le,Te))Ae<M&&0>o(Le,le)?(Z[je]=Le,Z[Ae]=Te,je=Ae):(Z[je]=le,Z[ce]=Te,je=ce);else if(Ae<M&&0>o(Le,Te))Z[je]=Le,Z[Ae]=Te,je=Ae;else break e}}return de}function o(Z,de){var Te=Z.sortIndex-de.sortIndex;return Te!==0?Te:Z.id-de.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,b=null,S=3,I=!1,V=!1,$=!1,j=!1,W=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function ge(Z){for(var de=n(g);de!==null;){if(de.callback===null)a(g);else if(de.startTime<=Z)a(g),de.sortIndex=de.expirationTime,e(p,de);else break;de=n(g)}}function k(Z){if($=!1,ge(Z),!V)if(n(p)!==null)V=!0,me||(me=!0,U());else{var de=n(g);de!==null&&ze(k,de.startTime-Z)}}var me=!1,O=-1,A=5,R=-1;function N(){return j?!0:!(r.unstable_now()-R<A)}function L(){if(j=!1,me){var Z=r.unstable_now();R=Z;var de=!0;try{e:{V=!1,$&&($=!1,re(O),O=-1),I=!0;var Te=S;try{t:{for(ge(Z),b=n(p);b!==null&&!(b.expirationTime>Z&&N());){var je=b.callback;if(typeof je=="function"){b.callback=null,S=b.priorityLevel;var M=je(b.expirationTime<=Z);if(Z=r.unstable_now(),typeof M=="function"){b.callback=M,ge(Z),de=!0;break t}b===n(p)&&a(p),ge(Z)}else a(p);b=n(p)}if(b!==null)de=!0;else{var se=n(g);se!==null&&ze(k,se.startTime-Z),de=!1}}break e}finally{b=null,S=Te,I=!1}de=void 0}}finally{de?U():me=!1}}}var U;if(typeof oe=="function")U=function(){oe(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Dt=D.port2;D.port1.onmessage=L,U=function(){Dt.postMessage(null)}}else U=function(){W(L,0)};function ze(Z,de){O=W(function(){Z(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var de=3;break;default:de=S}var Te=S;S=de;try{return Z()}finally{S=Te}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(Z,de){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Te=S;S=Z;try{return de()}finally{S=Te}},r.unstable_scheduleCallback=function(Z,de,Te){var je=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?je+Te:je):Te=je,Z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Te+M,Z={id:_++,callback:de,priorityLevel:Z,startTime:Te,expirationTime:M,sortIndex:-1},Te>je?(Z.sortIndex=Te,e(g,Z),n(p)===null&&Z===n(g)&&($?(re(O),O=-1):$=!0,ze(k,Te-je))):(Z.sortIndex=M,e(p,Z),V||I||(V=!0,me||(me=!0,U()))),Z},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Z){var de=S;return function(){var Te=S;S=de;try{return Z.apply(this,arguments)}finally{S=Te}}}}(dm)),dm}var M_;function mA(){return M_||(M_=1,fm.exports=dA()),fm.exports}var mm={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function pA(){if(x_)return dn;x_=1;var r=op();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},dn.flushSync=function(p){var g=h.T,_=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=_,a.d.f()}},dn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},dn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},dn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:I}):_==="script"&&a.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},dn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin);a.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},dn.requestFormReset=function(p){a.d.r(p)},dn.unstable_batchedUpdates=function(p,g){return p(g)},dn.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},dn.useFormStatus=function(){return h.H.useHostTransitionStatus()},dn.version="19.1.0",dn}var V_;function B0(){if(V_)return mm.exports;V_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mm.exports=pA(),mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function gA(){if(P_)return Kl;P_=1;var r=mA(),e=op(),n=B0();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),t;if(d===l)return m(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===s){E=!0,s=f,l=d;break}if(T===l){E=!0,l=f,s=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===s){E=!0,s=d,l=f;break}if(T===l){E=!0,l=d,s=f;break}T=T.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case j:return"Profiler";case $:return"StrictMode";case k:return"Suspense";case me:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case oe:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:Dt(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Dt(t(i))}catch{}}return null}var ze=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},je=[],M=-1;function se(t){return{current:t}}function ce(t){0>M||(t.current=je[M],je[M]=null,M--)}function le(t,i){M++,je[M]=t.current,t.current=i}var Ae=se(null),Le=se(null),xe=se(null),Lt=se(null);function gt(t,i){switch(le(xe,i),le(Le,t),le(Ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?t_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=t_(i),t=n_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ce(Ae),le(Ae,t)}function wt(){ce(Ae),ce(Le),ce(xe)}function _n(t){t.memoizedState!==null&&le(Lt,t);var i=Ae.current,s=n_(i,t.type);i!==s&&(le(Le,t),le(Ae,s))}function Qn(t){Le.current===t&&(ce(Ae),ce(Le)),Lt.current===t&&(ce(Lt),jl._currentValue=Te)}var ei=Object.prototype.hasOwnProperty,En=r.unstable_scheduleCallback,ti=r.unstable_cancelCallback,Pa=r.unstable_shouldYield,La=r.unstable_requestPaint,Cn=r.unstable_now,Qo=r.unstable_getCurrentPriorityLevel,ka=r.unstable_ImmediatePriority,ki=r.unstable_UserBlockingPriority,Tn=r.unstable_NormalPriority,ni=r.unstable_LowPriority,ri=r.unstable_IdlePriority,ii=r.log,Vn=r.unstable_setDisableYieldValue,at=null,st=null;function rn(t){if(typeof ii=="function"&&Vn(t),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(at,t)}catch{}}var Xt=Math.clz32?Math.clz32:Ir,Pn=Math.log,Ms=Math.LN2;function Ir(t){return t>>>=0,t===0?32:31-(Pn(t)/Ms|0)|0}var Cr=256,ai=4194304;function Dn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dr(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Dn(l):(E&=T,E!==0?f=Dn(E):s||(s=T&~t,s!==0&&(f=Dn(s))))):(T=l&~d,T!==0?f=Dn(T):E!==0?f=Dn(E):s||(s=l&~t,s!==0&&(f=Dn(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function Dr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function si(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ua(){var t=Cr;return Cr<<=1,(Cr&4194048)===0&&(Cr=256),t}function Ui(){var t=ai;return ai<<=1,(ai&62914560)===0&&(ai=4194304),t}function mr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Yn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Or(t,i,s,l,f,d){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,F=t.hiddenUpdates;for(s=E&~s;0<s;){var J=31-Xt(s),ne=1<<J;T[J]=0,C[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var Q=G[J];Q!==null&&(Q.lane&=-536870913)}s&=~ne}l!==0&&bn(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function bn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Xt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function za(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Xt(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function Nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function x(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function B(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function Y(t,i){var s=de.p;try{return de.p=t,i()}finally{de.p=s}}var ee=Math.random().toString(36).slice(2),ue="__reactFiber$"+ee,ye="__reactProps$"+ee,be="__reactContainer$"+ee,we="__reactEvents$"+ee,Re="__reactListeners$"+ee,pe="__reactHandles$"+ee,Se="__reactResources$"+ee,Ce="__reactMarker$"+ee;function Be(t){delete t[ue],delete t[ye],delete t[we],delete t[Re],delete t[pe]}function ot(t){var i=t[ue];if(i)return i;for(var s=t.parentNode;s;){if(i=s[be]||s[ue]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=s_(t);t!==null;){if(s=t[ue])return s;t=s_(t)}return i}t=s,s=t.parentNode}return null}function Tt(t){if(t=t[ue]||t[be]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ut(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Ke(t){var i=t[Se];return i||(i=t[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function He(t){t[Ce]=!0}var $n=new Set,Xn={};function Mt(t,i){kt(t,i),kt(t+"Capture",i)}function kt(t,i){for(Xn[t]=i,t=0;t<i.length;t++)$n.add(i[t])}var zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},wn={};function oi(t){return ei.call(wn,t)?!0:ei.call(Mr,t)?!1:zi.test(t)?wn[t]=!0:(Mr[t]=!0,!1)}function Ln(t,i,s){if(oi(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Ye(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function et(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var Wn,xr;function ht(t){if(Wn===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Wn=i&&i[1]||"",xr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wn+t+xr}var kn=!1;function li(t,i){if(!t||kn)return"";kn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var G=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){G=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),F=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===F.length)for(l=C.length-1,f=F.length-1;1<=l&&0<=f&&C[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==F[f]){var J=`
`+C[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{kn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ht(s):""}function ja(t){switch(t.tag){case 26:case 27:case 5:return ht(t.type);case 16:return ht("Lazy");case 13:return ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return li(t.type,!1);case 11:return li(t.type.render,!1);case 1:return li(t.type,!0);case 31:return ht("Activity");default:return""}}function xs(t){try{var i="";do i+=ja(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function df(t){var i=Yo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Vs(t){t._valueTracker||(t._valueTracker=df(t))}function $o(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Yo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mf=/[\n"\\]/g;function Ut(t){return t.replace(mf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Un(t,i,s,l,f,d,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Sn(i)):t.value!==""+Sn(i)&&(t.value=""+Sn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?ji(t,E,Sn(i)):s!=null?ji(t,E,Sn(s)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Sn(T):t.removeAttribute("name")}function Ha(t,i,s,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+Sn(s):"",i=i!=null?""+Sn(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function ji(t,i,s){i==="number"&&Ba(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ui(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Sn(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function yt(t,i,s){if(i!=null&&(i=""+Sn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Sn(s):""}function qa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(ze(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Sn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Zn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Fa.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Xo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Pu(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Pu(t,d,i[d])}function Wo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(t){return gf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ci=null;function Jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function Zo(t){var i=Tt(t);if(i&&(t=i.stateNode)){var s=t[ye]||null;e:switch(t=i.stateNode,i.type){case"input":if(Un(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ut(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[ye]||null;if(!f)throw Error(a(90));Un(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&$o(l)}break e;case"textarea":yt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ui(t,!!s.multiple,i,!1)}}}var Vr=!1;function Lu(t,i,s){if(Vr)return t(i,s);Vr=!0;try{var l=t(i);return l}finally{if(Vr=!1,(hi!==null||fi!==null)&&(Dc(),hi&&(i=hi,t=fi,fi=hi=null,Zo(i),t)))for(i=0;i<t.length;i++)Zo(t[i])}}function Ga(t,i){var s=t.stateNode;if(s===null)return null;var l=s[ye]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=!1;if(pr)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){er=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{er=!1}var Pr=null,Bi=null,di=null;function Jo(){if(di)return di;var t,i=Bi,s=i.length,l,f="value"in Pr?Pr.value:Pr.textContent,d=f.length;for(t=0;t<s&&i[t]===f[t];t++);var E=s-t;for(l=1;l<=E&&i[s-l]===f[d-l];l++);return di=f.slice(t,1<l?1-l:void 0)}function Lr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function kr(){return!0}function el(){return!1}function Wt(t){function i(s,l,f,d,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?kr:el,this.isPropagationStopped=el,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),i}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=Wt(ft),Qa=_({},ft,{view:0,detail:0}),ku=Wt(Qa),ks,Us,Ur,Ya=_({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ur&&(Ur&&t.type==="mousemove"?(ks=t.screenX-Ur.screenX,Us=t.screenY-Ur.screenY):Us=ks=0,Ur=t),ks)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),tr=Wt(Ya),Uu=_({},Ya,{dataTransfer:0}),yf=Wt(Uu),$a=_({},Qa,{relatedTarget:0}),zs=Wt($a),tl=_({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),js=Wt(tl),zu=_({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bs=Wt(zu),vf=_({},ft,{data:0}),nl=Wt(vf),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bu[t])?!!i[t]:!1}function Wa(){return rl}var Hu=_({},Qa,{key:function(t){if(t.key){var i=Xa[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hs=Wt(Hu),qu=_({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Wt(qu),mi=_({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Fu=Wt(mi),Gu=_({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=Wt(Gu),Qu=_({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qs=Wt(Qu),An=_({},ft,{newState:0,oldState:0}),Yu=Wt(An),$u=[9,13,27,32],zr=pr&&"CompositionEvent"in window,c=null;pr&&"documentMode"in document&&(c=document.documentMode);var y=pr&&"TextEvent"in window&&!c,v=pr&&(!zr||c&&8<c&&11>=c),w=" ",H=!1;function X(t,i){switch(t){case"keyup":return $u.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Ft(t,i){switch(t){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(H=!0,w);case"textInput":return t=i.data,t===w&&H?null:t;default:return null}}function nt(t,i){if(tt)return t==="compositionend"||!zr&&X(t,i)?(t=Jo(),di=Bi=Pr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Zt[t.type]:i==="textarea"}function pi(t,i,s,l){hi?fi?fi.push(l):fi=[l]:hi=l,i=Pc(i,"onChange"),0<i.length&&(s=new Ls("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var an=null,jr=null;function al(t){Xv(t,0)}function Xu(t){var i=ut(t);if($o(i))return t}function yg(t,i){if(t==="change")return i}var vg=!1;if(pr){var _f;if(pr){var Ef="oninput"in document;if(!Ef){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Ef=typeof _g.oninput=="function"}_f=Ef}else _f=!1;vg=_f&&(!document.documentMode||9<document.documentMode)}function Eg(){an&&(an.detachEvent("onpropertychange",Tg),jr=an=null)}function Tg(t){if(t.propertyName==="value"&&Xu(jr)){var i=[];pi(i,jr,t,Jn(t)),Lu(al,i)}}function zw(t,i,s){t==="focusin"?(Eg(),an=i,jr=s,an.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function jw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(jr)}function Bw(t,i){if(t==="click")return Xu(i)}function Hw(t,i){if(t==="input"||t==="change")return Xu(i)}function qw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var zn=typeof Object.is=="function"?Object.is:qw;function sl(t,i){if(zn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!ei.call(i,f)||!zn(t[f],i[f]))return!1}return!0}function bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,i){var s=bg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=bg(s)}}function Sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ba(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Ba(t.document)}return i}function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Fw=pr&&"documentMode"in document&&11>=document.documentMode,Fs=null,bf=null,ol=null,wf=!1;function Rg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;wf||Fs==null||Fs!==Ba(l)||(l=Fs,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&sl(ol,l)||(ol=l,l=Pc(bf,"onSelect"),0<l.length&&(i=new Ls("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Fs)))}function Za(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Gs={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},Sf={},Ig={};pr&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Ja(t){if(Sf[t])return Sf[t];if(!Gs[t])return t;var i=Gs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ig)return Sf[t]=i[s];return t}var Cg=Ja("animationend"),Dg=Ja("animationiteration"),Og=Ja("animationstart"),Gw=Ja("transitionrun"),Kw=Ja("transitionstart"),Qw=Ja("transitioncancel"),Ng=Ja("transitionend"),Mg=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function gr(t,i){Mg.set(t,i),Mt(i,[t])}var xg=new WeakMap;function nr(t,i){if(typeof t=="object"&&t!==null){var s=xg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:xs(i)},xg.set(t,i),i)}return{value:t,source:i,stack:xs(i)}}var rr=[],Ks=0,Rf=0;function Wu(){for(var t=Ks,i=Rf=Ks=0;i<t;){var s=rr[i];rr[i++]=null;var l=rr[i];rr[i++]=null;var f=rr[i];rr[i++]=null;var d=rr[i];if(rr[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Vg(s,f,d)}}function Zu(t,i,s,l){rr[Ks++]=t,rr[Ks++]=i,rr[Ks++]=s,rr[Ks++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,i,s,l){return Zu(t,i,s,l),Ju(t)}function Qs(t,i){return Zu(t,null,null,i),Ju(t)}function Vg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-Xt(s),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function Ju(t){if(50<Ml)throw Ml=0,xd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ys={};function Yw(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,i,s,l){return new Yw(t,i,s,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,i){var s=t.alternate;return s===null?(s=jn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Pg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ec(t,i,s,l,f,d){var E=0;if(l=t,typeof t=="function")Cf(t)&&(E=1);else if(typeof t=="string")E=XS(t,s,Ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=jn(31,s,i,f),t.elementType=R,t.lanes=d,t;case V:return es(s.children,f,d,i);case $:E=8,f|=24;break;case j:return t=jn(12,s,i,f|2),t.elementType=j,t.lanes=d,t;case k:return t=jn(13,s,i,f),t.elementType=k,t.lanes=d,t;case me:return t=jn(19,s,i,f),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case oe:E=10;break e;case re:E=9;break e;case ge:E=11;break e;case O:E=14;break e;case A:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=jn(E,s,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function es(t,i,s,l){return t=jn(7,t,l,i),t.lanes=s,t}function Df(t,i,s){return t=jn(6,t,null,i),t.lanes=s,t}function Of(t,i,s){return i=jn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $s=[],Xs=0,tc=null,nc=0,ir=[],ar=0,ts=null,yi=1,vi="";function ns(t,i){$s[Xs++]=nc,$s[Xs++]=tc,tc=t,nc=i}function Lg(t,i,s){ir[ar++]=yi,ir[ar++]=vi,ir[ar++]=ts,ts=t;var l=yi;t=vi;var f=32-Xt(l)-1;l&=~(1<<f),s+=1;var d=32-Xt(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,yi=1<<32-Xt(i)+f|s<<f|l,vi=d+t}else yi=1<<d|s<<f|l,vi=t}function Nf(t){t.return!==null&&(ns(t,1),Lg(t,1,0))}function Mf(t){for(;t===tc;)tc=$s[--Xs],$s[Xs]=null,nc=$s[--Xs],$s[Xs]=null;for(;t===ts;)ts=ir[--ar],ir[ar]=null,vi=ir[--ar],ir[ar]=null,yi=ir[--ar],ir[ar]=null}var Rn=null,Ot=null,ct=!1,rs=null,Br=!1,xf=Error(a(519));function is(t){var i=Error(a(418,""));throw cl(nr(i,t)),xf}function kg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[ue]=t,i[ye]=l,s){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(s=0;s<Vl.length;s++)Xe(Vl[s],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),Ha(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vs(i);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),qa(i,l.value,l.defaultValue,l.children),Vs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||e_(i.textContent,s)?(l.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),l.onScroll!=null&&Xe("scroll",i),l.onScrollEnd!=null&&Xe("scrollend",i),l.onClick!=null&&(i.onclick=Lc),i=!0):i=!1,i||is(t)}function Ug(t){for(Rn=t.return;Rn;)switch(Rn.tag){case 5:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:Rn=Rn.return}}function ll(t){if(t!==Rn)return!1;if(!ct)return Ug(t),ct=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||$d(t.type,t.memoizedProps)),s=!s),s&&Ot&&is(t),Ug(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Ot=vr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Ot=null}}else i===27?(i=Ot,ra(t.type)?(t=Jd,Jd=null,Ot=t):Ot=i):Ot=Rn?vr(t.stateNode.nextSibling):null;return!0}function ul(){Ot=Rn=null,ct=!1}function zg(){var t=rs;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),rs=null),t}function cl(t){rs===null?rs=[t]:rs.push(t)}var Vf=se(null),as=null,_i=null;function Hi(t,i,s){le(Vf,i._currentValue),i._currentValue=s}function Ei(t){t._currentValue=Vf.current,ce(Vf)}function Pf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Lf(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Pf(d.return,s,t),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),Pf(E,s,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function hl(t,i,s,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var T=f.type;zn(f.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(f===Lt.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}f=f.return}t!==null&&Lf(i,t,s,l),i.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){as=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return jg(as,t)}function ic(t,i){return as===null&&ss(t),jg(t,i)}function jg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},_i===null){if(t===null)throw Error(a(308));_i=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else _i=_i.next=i;return s}var $w=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Xw=r.unstable_scheduleCallback,Ww=r.unstable_NormalPriority,Kt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new $w,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&Xw(Ww,function(){t.controller.abort()})}var dl=null,Uf=0,Ws=0,Zs=null;function Zw(t,i){if(dl===null){var s=dl=[];Uf=0,Ws=jd(),Zs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Uf++,i.then(Bg,Bg),i}function Bg(){if(--Uf===0&&dl!==null){Zs!==null&&(Zs.status="fulfilled");var t=dl;dl=null,Ws=0,Zs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Jw(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Hg=Z.S;Z.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Zw(t,i),Hg!==null&&Hg(t,i)};var os=se(null);function zf(){var t=os.current;return t!==null?t:St.pooledCache}function ac(t,i){i===null?le(os,os.current):le(os,i.pool)}function qg(){var t=zf();return t===null?null:{parent:Kt._currentValue,pool:t}}var ml=Error(a(460)),Fg=Error(a(474)),sc=Error(a(542)),jf={then:function(){}};function Gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function oc(){}function Kg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(oc,oc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t;default:if(typeof i.status=="string")i.then(oc,oc);else{if(t=St,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t}throw pl=i,ml}}var pl=null;function Qg(){if(pl===null)throw Error(a(459));var t=pl;return pl=null,t}function Yg(t){if(t===ml||t===sc)throw Error(a(483))}var qi=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(mt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Ju(t),Vg(t,null,s),i}return Zu(t,l,i,s),Ju(t)}function gl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,za(t,s)}}function qf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Ff=!1;function yl(){if(Ff){var t=Zs;if(t!==null)throw t}}function vl(t,i,s,l){Ff=!1;var f=t.updateQueue;qi=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,F=C.next;C.next=null,E===null?d=F:E.next=F,E=C;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==E&&(T===null?J.firstBaseUpdate=F:T.next=F,J.lastBaseUpdate=C))}if(d!==null){var ne=f.baseState;E=0,J=F=C=null,T=d;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(rt&G)===G:(l&G)===G){G!==0&&G===Ws&&(Ff=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ve=t,Oe=T;G=i;var Et=s;switch(Oe.tag){case 1:if(Ve=Oe.payload,typeof Ve=="function"){ne=Ve.call(Et,ne,G);break e}ne=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Oe.payload,G=typeof Ve=="function"?Ve.call(Et,ne,G):Ve,G==null)break e;ne=_({},ne,G);break e;case 2:qi=!0}}G=T.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(F=J=Q,C=ne):J=J.next=Q,E|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);J===null&&(C=ne),f.baseState=C,f.firstBaseUpdate=F,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Ji|=E,t.lanes=E,t.memoizedState=ne}}function $g(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Xg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)$g(s[t],i)}var Js=se(null),lc=se(0);function Wg(t,i){t=Ii,le(lc,t),le(Js,i),Ii=t|i.baseLanes}function Gf(){le(lc,Ii),le(Js,Js.current)}function Kf(){Ii=lc.current,ce(Js),ce(lc)}var Ki=0,Fe=null,vt=null,zt=null,uc=!1,eo=!1,ls=!1,cc=0,_l=0,to=null,eS=0;function xt(){throw Error(a(321))}function Qf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!zn(t[s],i[s]))return!1;return!0}function Yf(t,i,s,l,f,d){return Ki=d,Fe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Z.H=t===null||t.memoizedState===null?Vy:Py,ls=!1,d=s(l,f),ls=!1,eo&&(d=Jg(i,s,l,f)),Zg(t),d}function Zg(t){Z.H=gc;var i=vt!==null&&vt.next!==null;if(Ki=0,zt=vt=Fe=null,uc=!1,_l=0,to=null,i)throw Error(a(300));t===null||Jt||(t=t.dependencies,t!==null&&rc(t)&&(Jt=!0))}function Jg(t,i,s,l){Fe=t;var f=0;do{if(eo&&(to=null),_l=0,eo=!1,25<=f)throw Error(a(301));if(f+=1,zt=vt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=oS,d=i(s,l)}while(eo);return d}function tS(){var t=Z.H,i=t.useState()[0];return i=typeof i.then=="function"?El(i):i,t=t.useState()[0],(vt!==null?vt.memoizedState:null)!==t&&(Fe.flags|=1024),i}function $f(){var t=cc!==0;return cc=0,t}function Xf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Wf(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}Ki=0,zt=vt=Fe=null,eo=!1,_l=cc=0,to=null}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Fe.memoizedState=zt=t:zt=zt.next=t,zt}function jt(){if(vt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var i=zt===null?Fe.memoizedState:zt.next;if(i!==null)zt=i,vt=t;else{if(t===null)throw Fe.alternate===null?Error(a(467)):Error(a(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},zt===null?Fe.memoizedState=zt=t:zt=zt.next=t}return zt}function Zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var i=_l;return _l+=1,to===null&&(to=[]),t=Kg(to,t,i),i=Fe,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,Z.H=i===null||i.memoizedState===null?Vy:Py),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===oe)return fn(t)}throw Error(a(438,String(t)))}function Jf(t){var i=null,s=Fe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Zf(),Fe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=N;return i.index++,s}function Ti(t,i){return typeof i=="function"?i(t):i}function fc(t){var i=jt();return ed(i,vt,t)}function ed(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var T=E=null,C=null,F=i,J=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(rt&ne)===ne:(Ki&ne)===ne){var G=F.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===Ws&&(J=!0);else if((Ki&G)===G){F=F.next,G===Ws&&(J=!0);continue}else ne={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(T=C=ne,E=d):C=C.next=ne,Fe.lanes|=G,Ji|=G;ne=F.action,ls&&s(d,ne),d=F.hasEagerState?F.eagerState:s(d,ne)}else G={lane:ne,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(T=C=G,E=d):C=C.next=G,Fe.lanes|=ne,Ji|=ne;F=F.next}while(F!==null&&F!==i);if(C===null?E=d:C.next=T,!zn(d,t.memoizedState)&&(Jt=!0,J&&(s=Zs,s!==null)))throw s;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var i=jt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);zn(d,i.memoizedState)||(Jt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function ey(t,i,s){var l=Fe,f=jt(),d=ct;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!zn((vt||f).memoizedState,s);E&&(f.memoizedState=s,Jt=!0),f=f.queue;var T=ry.bind(null,l,f,t);if(Tl(2048,8,T,[t]),f.getSnapshot!==i||E||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,no(9,dc(),ny.bind(null,l,f,s,i),null),St===null)throw Error(a(349));d||(Ki&124)!==0||ty(l,i,s)}return s}function ty(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Fe.updateQueue,i===null?(i=Zf(),Fe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function ny(t,i,s,l){i.value=s,i.getSnapshot=l,iy(i)&&ay(t)}function ry(t,i,s){return s(function(){iy(i)&&ay(t)})}function iy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!zn(t,s)}catch{return!0}}function ay(t){var i=Qs(t,2);i!==null&&Gn(i,t,2)}function nd(t){var i=On();if(typeof t=="function"){var s=t;if(t=s(),ls){rn(!0);try{s()}finally{rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},i}function sy(t,i,s,l){return t.baseState=s,ed(t,vt,typeof l=="function"?l:Ti)}function nS(t,i,s,l,f){if(pc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Z.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,oy(i,d)):(d.next=s.next,i.pending=s.next=d)}}function oy(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=Z.T,E={};Z.T=E;try{var T=s(f,l),C=Z.S;C!==null&&C(E,T),ly(t,i,T)}catch(F){rd(t,i,F)}finally{Z.T=d}}else try{d=s(f,l),ly(t,i,d)}catch(F){rd(t,i,F)}}function ly(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){uy(t,i,l)},function(l){return rd(t,i,l)}):uy(t,i,s)}function uy(t,i,s){i.status="fulfilled",i.value=s,cy(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,oy(t,s)))}function rd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,cy(i),i=i.next;while(i!==l)}t.action=null}function cy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function hy(t,i){return i}function fy(t,i){if(ct){var s=St.formState;if(s!==null){e:{var l=Fe;if(ct){if(Ot){t:{for(var f=Ot,d=Br;f.nodeType!==8;){if(!d){f=null;break t}if(f=vr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ot=vr(f.nextSibling),l=f.data==="F!";break e}}is(l)}l=!1}l&&(i=s[0])}}return s=On(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:i},s.queue=l,s=Ny.bind(null,Fe,l),l.dispatch=s,l=nd(!1),d=ld.bind(null,Fe,!1,l.queue),l=On(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=nS.bind(null,Fe,f,d,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function dy(t){var i=jt();return my(i,vt,t)}function my(t,i,s){if(i=ed(t,i,hy)[0],t=fc(Ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(E){throw E===ml?sc:E}else l=i;i=jt();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Fe.flags|=2048,no(9,dc(),rS.bind(null,f,s),null)),[l,d,t]}function rS(t,i){t.action=i}function py(t){var i=jt(),s=vt;if(s!==null)return my(i,s,t);jt(),i=i.memoizedState,s=jt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function no(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Fe.updateQueue,i===null&&(i=Zf(),Fe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function dc(){return{destroy:void 0,resource:void 0}}function gy(){return jt().memoizedState}function mc(t,i,s,l){var f=On();l=l===void 0?null:l,Fe.flags|=t,f.memoizedState=no(1|i,dc(),s,l)}function Tl(t,i,s,l){var f=jt();l=l===void 0?null:l;var d=f.memoizedState.inst;vt!==null&&l!==null&&Qf(l,vt.memoizedState.deps)?f.memoizedState=no(i,d,s,l):(Fe.flags|=t,f.memoizedState=no(1|i,d,s,l))}function yy(t,i){mc(8390656,8,t,i)}function vy(t,i){Tl(2048,8,t,i)}function _y(t,i){return Tl(4,2,t,i)}function Ey(t,i){return Tl(4,4,t,i)}function Ty(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function by(t,i,s){s=s!=null?s.concat([t]):null,Tl(4,4,Ty.bind(null,i,t),s)}function id(){}function wy(t,i){var s=jt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Qf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Sy(t,i){var s=jt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Qf(i,l[1]))return l[0];if(l=t(),ls){rn(!0);try{t()}finally{rn(!1)}}return s.memoizedState=[l,i],l}function ad(t,i,s){return s===void 0||(Ki&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=Iv(),Fe.lanes|=t,Ji|=t,s)}function Ay(t,i,s,l){return zn(s,i)?s:Js.current!==null?(t=ad(t,s,l),zn(t,i)||(Jt=!0),t):(Ki&42)===0?(Jt=!0,t.memoizedState=s):(t=Iv(),Fe.lanes|=t,Ji|=t,i)}function Ry(t,i,s,l,f){var d=de.p;de.p=d!==0&&8>d?d:8;var E=Z.T,T={};Z.T=T,ld(t,!1,i,s);try{var C=f(),F=Z.S;if(F!==null&&F(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=Jw(C,l);bl(t,i,J,Fn(t))}else bl(t,i,l,Fn(t))}catch(ne){bl(t,i,{then:function(){},status:"rejected",reason:ne},Fn())}finally{de.p=d,Z.T=E}}function iS(){}function sd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=Iy(t).queue;Ry(t,f,i,Te,s===null?iS:function(){return Cy(t),s(l)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:Te},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Cy(t){var i=Iy(t).next.queue;bl(t,i,{},Fn())}function od(){return fn(jl)}function Dy(){return jt().memoizedState}function Oy(){return jt().memoizedState}function aS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Fn();t=Fi(s);var l=Gi(i,t,s);l!==null&&(Gn(l,i,s),gl(l,i,s)),i={cache:kf()},t.payload=i;return}i=i.return}}function sS(t,i,s){var l=Fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},pc(t)?My(i,s):(s=If(t,i,s,l),s!==null&&(Gn(s,t,l),xy(s,i,l)))}function Ny(t,i,s){var l=Fn();bl(t,i,s,l)}function bl(t,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(pc(t))My(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,T=d(E,s);if(f.hasEagerState=!0,f.eagerState=T,zn(T,E))return Zu(t,i,f,0),St===null&&Wu(),!1}catch{}finally{}if(s=If(t,i,f,l),s!==null)return Gn(s,t,l),xy(s,i,l),!0}return!1}function ld(t,i,s,l){if(l={lane:2,revertLane:jd(),action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(i)throw Error(a(479))}else i=If(t,s,l,2),i!==null&&Gn(i,t,2)}function pc(t){var i=t.alternate;return t===Fe||i!==null&&i===Fe}function My(t,i){eo=uc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function xy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,za(t,s)}}var gc={readContext:fn,use:hc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},Vy={readContext:fn,use:hc,useCallback:function(t,i){return On().memoizedState=[t,i===void 0?null:i],t},useContext:fn,useEffect:yy,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,mc(4194308,4,Ty.bind(null,i,t),s)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var s=On();i=i===void 0?null:i;var l=t();if(ls){rn(!0);try{t()}finally{rn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=On();if(s!==void 0){var f=s(i);if(ls){rn(!0);try{s(i)}finally{rn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=sS.bind(null,Fe,t),[l.memoizedState,t]},useRef:function(t){var i=On();return t={current:t},i.memoizedState=t},useState:function(t){t=nd(t);var i=t.queue,s=Ny.bind(null,Fe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:id,useDeferredValue:function(t,i){var s=On();return ad(s,t,i)},useTransition:function(){var t=nd(!1);return t=Ry.bind(null,Fe,t.queue,!0,!1),On().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Fe,f=On();if(ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),St===null)throw Error(a(349));(rt&124)!==0||ty(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,yy(ry.bind(null,l,d,t),[t]),l.flags|=2048,no(9,dc(),ny.bind(null,l,d,s,i),null),s},useId:function(){var t=On(),i=St.identifierPrefix;if(ct){var s=vi,l=yi;s=(l&~(1<<32-Xt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=cc++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=eS++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:od,useFormState:fy,useActionState:fy,useOptimistic:function(t){var i=On();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=ld.bind(null,Fe,!0,s),s.dispatch=i,[t,i]},useMemoCache:Jf,useCacheRefresh:function(){return On().memoizedState=aS.bind(null,Fe)}},Py={readContext:fn,use:hc,useCallback:wy,useContext:fn,useEffect:vy,useImperativeHandle:by,useInsertionEffect:_y,useLayoutEffect:Ey,useMemo:Sy,useReducer:fc,useRef:gy,useState:function(){return fc(Ti)},useDebugValue:id,useDeferredValue:function(t,i){var s=jt();return Ay(s,vt.memoizedState,t,i)},useTransition:function(){var t=fc(Ti)[0],i=jt().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:ey,useId:Dy,useHostTransitionStatus:od,useFormState:dy,useActionState:dy,useOptimistic:function(t,i){var s=jt();return sy(s,vt,t,i)},useMemoCache:Jf,useCacheRefresh:Oy},oS={readContext:fn,use:hc,useCallback:wy,useContext:fn,useEffect:vy,useImperativeHandle:by,useInsertionEffect:_y,useLayoutEffect:Ey,useMemo:Sy,useReducer:td,useRef:gy,useState:function(){return td(Ti)},useDebugValue:id,useDeferredValue:function(t,i){var s=jt();return vt===null?ad(s,t,i):Ay(s,vt.memoizedState,t,i)},useTransition:function(){var t=td(Ti)[0],i=jt().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:ey,useId:Dy,useHostTransitionStatus:od,useFormState:py,useActionState:py,useOptimistic:function(t,i){var s=jt();return vt!==null?sy(s,vt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:Oy},ro=null,wl=0;function yc(t){var i=wl;return wl+=1,ro===null&&(ro=[]),Kg(ro,t,i)}function Sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function vc(t,i){throw i.$$typeof===b?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ly(t){var i=t._init;return i(t._payload)}function ky(t){function i(z,P){if(t){var q=z.deletions;q===null?(z.deletions=[P],z.flags|=16):q.push(P)}}function s(z,P){if(!t)return null;for(;P!==null;)i(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=gi(z,P),z.index=0,z.sibling=null,z}function d(z,P,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<P?(z.flags|=67108866,P):q):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function E(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,P,q,te){return P===null||P.tag!==6?(P=Df(q,z.mode,te),P.return=z,P):(P=f(P,q),P.return=z,P)}function C(z,P,q,te){var Ee=q.type;return Ee===V?J(z,P,q.props.children,te,q.key):P!==null&&(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Ly(Ee)===P.type)?(P=f(P,q.props),Sl(P,q),P.return=z,P):(P=ec(q.type,q.key,q.props,null,z.mode,te),Sl(P,q),P.return=z,P)}function F(z,P,q,te){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Of(q,z.mode,te),P.return=z,P):(P=f(P,q.children||[]),P.return=z,P)}function J(z,P,q,te,Ee){return P===null||P.tag!==7?(P=es(q,z.mode,te,Ee),P.return=z,P):(P=f(P,q),P.return=z,P)}function ne(z,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Df(""+P,z.mode,q),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return q=ec(P.type,P.key,P.props,null,z.mode,q),Sl(q,P),q.return=z,q;case I:return P=Of(P,z.mode,q),P.return=z,P;case A:var te=P._init;return P=te(P._payload),ne(z,P,q)}if(ze(P)||U(P))return P=es(P,z.mode,q,null),P.return=z,P;if(typeof P.then=="function")return ne(z,yc(P),q);if(P.$$typeof===oe)return ne(z,ic(z,P),q);vc(z,P)}return null}function G(z,P,q,te){var Ee=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ee!==null?null:T(z,P,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===Ee?C(z,P,q,te):null;case I:return q.key===Ee?F(z,P,q,te):null;case A:return Ee=q._init,q=Ee(q._payload),G(z,P,q,te)}if(ze(q)||U(q))return Ee!==null?null:J(z,P,q,te,null);if(typeof q.then=="function")return G(z,P,yc(q),te);if(q.$$typeof===oe)return G(z,P,ic(z,q),te);vc(z,q)}return null}function Q(z,P,q,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(q)||null,T(P,z,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return z=z.get(te.key===null?q:te.key)||null,C(P,z,te,Ee);case I:return z=z.get(te.key===null?q:te.key)||null,F(P,z,te,Ee);case A:var Qe=te._init;return te=Qe(te._payload),Q(z,P,q,te,Ee)}if(ze(te)||U(te))return z=z.get(q)||null,J(P,z,te,Ee,null);if(typeof te.then=="function")return Q(z,P,q,yc(te),Ee);if(te.$$typeof===oe)return Q(z,P,q,ic(P,te),Ee);vc(P,te)}return null}function Ve(z,P,q,te){for(var Ee=null,Qe=null,Ie=P,Ne=P=0,tn=null;Ie!==null&&Ne<q.length;Ne++){Ie.index>Ne?(tn=Ie,Ie=null):tn=Ie.sibling;var lt=G(z,Ie,q[Ne],te);if(lt===null){Ie===null&&(Ie=tn);break}t&&Ie&&lt.alternate===null&&i(z,Ie),P=d(lt,P,Ne),Qe===null?Ee=lt:Qe.sibling=lt,Qe=lt,Ie=tn}if(Ne===q.length)return s(z,Ie),ct&&ns(z,Ne),Ee;if(Ie===null){for(;Ne<q.length;Ne++)Ie=ne(z,q[Ne],te),Ie!==null&&(P=d(Ie,P,Ne),Qe===null?Ee=Ie:Qe.sibling=Ie,Qe=Ie);return ct&&ns(z,Ne),Ee}for(Ie=l(Ie);Ne<q.length;Ne++)tn=Q(Ie,z,Ne,q[Ne],te),tn!==null&&(t&&tn.alternate!==null&&Ie.delete(tn.key===null?Ne:tn.key),P=d(tn,P,Ne),Qe===null?Ee=tn:Qe.sibling=tn,Qe=tn);return t&&Ie.forEach(function(la){return i(z,la)}),ct&&ns(z,Ne),Ee}function Oe(z,P,q,te){if(q==null)throw Error(a(151));for(var Ee=null,Qe=null,Ie=P,Ne=P=0,tn=null,lt=q.next();Ie!==null&&!lt.done;Ne++,lt=q.next()){Ie.index>Ne?(tn=Ie,Ie=null):tn=Ie.sibling;var la=G(z,Ie,lt.value,te);if(la===null){Ie===null&&(Ie=tn);break}t&&Ie&&la.alternate===null&&i(z,Ie),P=d(la,P,Ne),Qe===null?Ee=la:Qe.sibling=la,Qe=la,Ie=tn}if(lt.done)return s(z,Ie),ct&&ns(z,Ne),Ee;if(Ie===null){for(;!lt.done;Ne++,lt=q.next())lt=ne(z,lt.value,te),lt!==null&&(P=d(lt,P,Ne),Qe===null?Ee=lt:Qe.sibling=lt,Qe=lt);return ct&&ns(z,Ne),Ee}for(Ie=l(Ie);!lt.done;Ne++,lt=q.next())lt=Q(Ie,z,Ne,lt.value,te),lt!==null&&(t&&lt.alternate!==null&&Ie.delete(lt.key===null?Ne:lt.key),P=d(lt,P,Ne),Qe===null?Ee=lt:Qe.sibling=lt,Qe=lt);return t&&Ie.forEach(function(lA){return i(z,lA)}),ct&&ns(z,Ne),Ee}function Et(z,P,q,te){if(typeof q=="object"&&q!==null&&q.type===V&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var Ee=q.key;P!==null;){if(P.key===Ee){if(Ee=q.type,Ee===V){if(P.tag===7){s(z,P.sibling),te=f(P,q.props.children),te.return=z,z=te;break e}}else if(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Ly(Ee)===P.type){s(z,P.sibling),te=f(P,q.props),Sl(te,q),te.return=z,z=te;break e}s(z,P);break}else i(z,P);P=P.sibling}q.type===V?(te=es(q.props.children,z.mode,te,q.key),te.return=z,z=te):(te=ec(q.type,q.key,q.props,null,z.mode,te),Sl(te,q),te.return=z,z=te)}return E(z);case I:e:{for(Ee=q.key;P!==null;){if(P.key===Ee)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){s(z,P.sibling),te=f(P,q.children||[]),te.return=z,z=te;break e}else{s(z,P);break}else i(z,P);P=P.sibling}te=Of(q,z.mode,te),te.return=z,z=te}return E(z);case A:return Ee=q._init,q=Ee(q._payload),Et(z,P,q,te)}if(ze(q))return Ve(z,P,q,te);if(U(q)){if(Ee=U(q),typeof Ee!="function")throw Error(a(150));return q=Ee.call(q),Oe(z,P,q,te)}if(typeof q.then=="function")return Et(z,P,yc(q),te);if(q.$$typeof===oe)return Et(z,P,ic(z,q),te);vc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(s(z,P.sibling),te=f(P,q),te.return=z,z=te):(s(z,P),te=Df(q,z.mode,te),te.return=z,z=te),E(z)):s(z,P)}return function(z,P,q,te){try{wl=0;var Ee=Et(z,P,q,te);return ro=null,Ee}catch(Ie){if(Ie===ml||Ie===sc)throw Ie;var Qe=jn(29,Ie,null,z.mode);return Qe.lanes=te,Qe.return=z,Qe}finally{}}}var io=ky(!0),Uy=ky(!1),sr=se(null),Hr=null;function Qi(t){var i=t.alternate;le(Qt,Qt.current&1),le(sr,t),Hr===null&&(i===null||Js.current!==null||i.memoizedState!==null)&&(Hr=t)}function zy(t){if(t.tag===22){if(le(Qt,Qt.current),le(sr,t),Hr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Hr=t)}}else Yi()}function Yi(){le(Qt,Qt.current),le(sr,sr.current)}function bi(t){ce(sr),Hr===t&&(Hr=null),ce(Qt)}var Qt=se(0);function _c(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Zd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ud(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:_({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var cd={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Fn(),f=Fi(l);f.payload=i,s!=null&&(f.callback=s),i=Gi(t,f,l),i!==null&&(Gn(i,t,l),gl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Fn(),f=Fi(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=Gi(t,f,l),i!==null&&(Gn(i,t,l),gl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Fn(),l=Fi(s);l.tag=2,i!=null&&(l.callback=i),i=Gi(t,l,s),i!==null&&(Gn(i,t,s),gl(i,t,s))}};function jy(t,i,s,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!sl(s,l)||!sl(f,d):!0}function By(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&cd.enqueueReplaceState(i,i.state,null)}function us(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=_({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hy(t){Ec(t)}function qy(t){console.error(t)}function Fy(t){Ec(t)}function Tc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Gy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hd(t,i,s){return s=Fi(s),s.tag=3,s.payload={element:null},s.callback=function(){Tc(t,i)},s}function Ky(t){return t=Fi(t),t.tag=3,t}function Qy(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Gy(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Gy(i,s,l),typeof f!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function lS(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&hl(i,s,f,!0),s=sr.current,s!==null){switch(s.tag){case 13:return Hr===null?Pd():s.alternate===null&&Nt===0&&(Nt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===jf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),kd(t,l,f)),!1;case 22:return s.flags|=65536,l===jf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),kd(t,l,f)),!1}throw Error(a(435,s.tag))}return kd(t,l,f),Pd(),!1}if(ct)return i=sr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==xf&&(t=Error(a(422),{cause:l}),cl(nr(t,s)))):(l!==xf&&(i=Error(a(423),{cause:l}),cl(nr(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=nr(l,s),f=hd(t.stateNode,l,f),qf(t,f),Nt!==4&&(Nt=2)),!1;var d=Error(a(520),{cause:l});if(d=nr(d,s),Nl===null?Nl=[d]:Nl.push(d),Nt!==4&&(Nt=2),i===null)return!0;l=nr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=hd(s.stateNode,l,t),qf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ea===null||!ea.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Ky(f),Qy(f,t,s,l),qf(s,f),!1}s=s.return}while(s!==null);return!1}var Yy=Error(a(461)),Jt=!1;function sn(t,i,s,l){i.child=t===null?Uy(i,null,s,l):io(i,t.child,s,l)}function $y(t,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return ss(i),l=Yf(t,i,s,E,d,f),T=$f(),t!==null&&!Jt?(Xf(t,i,f),wi(t,i,f)):(ct&&T&&Nf(i),i.flags|=1,sn(t,i,l,f),i.child)}function Xy(t,i,s,l,f){if(t===null){var d=s.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Wy(t,i,d,l,f)):(t=ec(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!_d(t,f)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:sl,s(E,l)&&t.ref===i.ref)return wi(t,i,f)}return i.flags|=1,t=gi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Wy(t,i,s,l,f){if(t!==null){var d=t.memoizedProps;if(sl(d,l)&&t.ref===i.ref)if(Jt=!1,i.pendingProps=l=d,_d(t,f))(t.flags&131072)!==0&&(Jt=!0);else return i.lanes=t.lanes,wi(t,i,f)}return fd(t,i,s,l,f)}function Zy(t,i,s){var l=i.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(f=i.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Jy(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,d!==null?d.cachePool:null),d!==null?Wg(i,d):Gf(),zy(i);else return i.lanes=i.childLanes=536870912,Jy(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(ac(i,d.cachePool),Wg(i,d),Yi(),i.memoizedState=null):(t!==null&&ac(i,null),Gf(),Yi());return sn(t,i,f,s),i.child}function Jy(t,i,s,l){var f=zf();return f=f===null?null:{parent:Kt._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&ac(i,null),Gf(),zy(i),t!==null&&hl(t,i,l,!0),null}function bc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function fd(t,i,s,l,f){return ss(i),s=Yf(t,i,s,l,void 0,f),l=$f(),t!==null&&!Jt?(Xf(t,i,f),wi(t,i,f)):(ct&&l&&Nf(i),i.flags|=1,sn(t,i,s,f),i.child)}function ev(t,i,s,l,f,d){return ss(i),i.updateQueue=null,s=Jg(i,l,s,f),Zg(t),l=$f(),t!==null&&!Jt?(Xf(t,i,d),wi(t,i,d)):(ct&&l&&Nf(i),i.flags|=1,sn(t,i,s,d),i.child)}function tv(t,i,s,l,f){if(ss(i),i.stateNode===null){var d=Ys,E=s.contextType;typeof E=="object"&&E!==null&&(d=fn(E)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),E=s.contextType,d.context=typeof E=="object"&&E!==null?fn(E):Ys,d.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(ud(i,s,E,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&cd.enqueueReplaceState(d,d.state,null),vl(i,l,d,f),yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=us(s,T);d.props=C;var F=d.context,J=s.contextType;E=Ys,typeof J=="object"&&J!==null&&(E=fn(J));var ne=s.getDerivedStateFromProps;J=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==E)&&By(i,d,l,E),qi=!1;var G=i.memoizedState;d.state=G,vl(i,l,d,f),yl(),F=i.memoizedState,T||G!==F||qi?(typeof ne=="function"&&(ud(i,s,ne,l),F=i.memoizedState),(C=qi||jy(i,s,C,l,G,F,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Hf(t,i),E=i.memoizedProps,J=us(s,E),d.props=J,ne=i.pendingProps,G=d.context,F=s.contextType,C=Ys,typeof F=="object"&&F!==null&&(C=fn(F)),T=s.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ne||G!==C)&&By(i,d,l,C),qi=!1,G=i.memoizedState,d.state=G,vl(i,l,d,f),yl();var Q=i.memoizedState;E!==ne||G!==Q||qi||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof T=="function"&&(ud(i,s,T,l),Q=i.memoizedState),(J=qi||jy(i,s,J,l,G,Q,C)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=C,l=J):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=io(i,t.child,null,f),i.child=io(i,null,s,f)):sn(t,i,s,f),i.memoizedState=d.state,t=i.child):t=wi(t,i,f),t}function nv(t,i,s,l){return ul(),i.flags|=256,sn(t,i,s,l),i.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(t){return{baseLanes:t,cachePool:qg()}}function pd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=or),t}function rv(t,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(ct){if(f?Qi(i):Yi(),ct){var T=Ot,C;if(C=T){e:{for(C=T,T=Br;C.nodeType!==8;){if(!T){T=null;break e}if(C=vr(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:ts!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},C=jn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,Rn=i,Ot=null,C=!0):C=!1}C||is(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Zd(T)?i.lanes=32:i.lanes=536870912,null;bi(i)}return T=l.children,l=l.fallback,f?(Yi(),f=i.mode,T=wc({mode:"hidden",children:T},f),l=es(l,f,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=md(s),f.childLanes=pd(t,E,s),i.memoizedState=dd,l):(Qi(i),gd(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Qi(i),i.flags&=-257,i=yd(t,i,s)):i.memoizedState!==null?(Yi(),i.child=t.child,i.flags|=128,i=null):(Yi(),f=l.fallback,T=i.mode,l=wc({mode:"visible",children:l.children},T),f=es(f,T,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,io(i,t.child,null,s),l=i.child,l.memoizedState=md(s),l.childLanes=pd(t,E,s),i.memoizedState=dd,i=f);else if(Qi(i),Zd(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(a(419)),l.stack="",l.digest=E,cl({value:l,source:null,stack:null}),i=yd(t,i,s)}else if(Jt||hl(t,i,s,!1),E=(s&t.childLanes)!==0,Jt||E){if(E=St,E!==null&&(l=s&-s,l=(l&42)!==0?1:Nr(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Qs(t,l),Gn(E,t,l),Yy;T.data==="$?"||Pd(),i=yd(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,Ot=vr(T.nextSibling),Rn=i,ct=!0,rs=null,Br=!1,t!==null&&(ir[ar++]=yi,ir[ar++]=vi,ir[ar++]=ts,yi=t.id,vi=t.overflow,ts=i),i=gd(i,l.children),i.flags|=4096);return i}return f?(Yi(),f=l.fallback,T=i.mode,C=t.child,F=C.sibling,l=gi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,F!==null?f=gi(F,f):(f=es(f,T,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=t.child.memoizedState,T===null?T=md(s):(C=T.cachePool,C!==null?(F=Kt._currentValue,C=C.parent!==F?{parent:F,pool:F}:C):C=qg(),T={baseLanes:T.baseLanes|s,cachePool:C}),f.memoizedState=T,f.childLanes=pd(t,E,s),i.memoizedState=dd,l):(Qi(i),s=t.child,t=s.sibling,s=gi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function gd(t,i){return i=wc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function wc(t,i){return t=jn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function yd(t,i,s){return io(i,t.child,null,s),t=gd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function iv(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Pf(t.return,i,s)}function vd(t,i,s,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=f)}function av(t,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(sn(t,i,l.children,s),l=Qt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,s,i);else if(t.tag===19)iv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(le(Qt,l),f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&_c(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),vd(i,!1,f,s,d);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&_c(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}vd(i,!0,s,null,d);break;case"together":vd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function wi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Ji|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(hl(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=gi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=gi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function _d(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function uS(t,i,s){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),Hi(i,Kt,t.memoizedState.cache),ul();break;case 27:case 5:_n(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:Hi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Qi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?rv(t,i,s):(Qi(i),t=wi(t,i,s),t!==null?t.sibling:null);Qi(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(hl(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return av(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Qt,Qt.current),l)break;return null;case 22:case 23:return i.lanes=0,Zy(t,i,s);case 24:Hi(i,Kt,t.memoizedState.cache)}return wi(t,i,s)}function sv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Jt=!0;else{if(!_d(t,s)&&(i.flags&128)===0)return Jt=!1,uS(t,i,s);Jt=(t.flags&131072)!==0}else Jt=!1,ct&&(i.flags&1048576)!==0&&Lg(i,nc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Cf(l)?(t=us(l,t),i.tag=1,i=tv(null,i,l,t,s)):(i.tag=0,i=fd(null,i,l,t,s));else{if(l!=null){if(f=l.$$typeof,f===ge){i.tag=11,i=$y(null,i,l,t,s);break e}else if(f===O){i.tag=14,i=Xy(null,i,l,t,s);break e}}throw i=Dt(l)||l,Error(a(306,i,""))}}return i;case 0:return fd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=us(l,i.pendingProps),tv(t,i,l,f,s);case 3:e:{if(gt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Hf(t,i),vl(i,l,null,s);var E=i.memoizedState;if(l=E.cache,Hi(i,Kt,l),l!==d.cache&&Lf(i,[Kt],s,!0),yl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=nv(t,i,l,s);break e}else if(l!==f){f=nr(Error(a(424)),i),cl(f),i=nv(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ot=vr(t.firstChild),Rn=i,ct=!0,rs=null,Br=!0,s=Uy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ul(),l===f){i=wi(t,i,s);break e}sn(t,i,l,s)}i=i.child}return i;case 26:return bc(t,i),t===null?(s=c_(i.type,null,i.pendingProps,null))?i.memoizedState=s:ct||(s=i.type,t=i.pendingProps,l=kc(xe.current).createElement(s),l[ue]=i,l[ye]=t,ln(l,s,t),He(l),i.stateNode=l):i.memoizedState=c_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _n(i),t===null&&ct&&(l=i.stateNode=o_(i.type,i.pendingProps,xe.current),Rn=i,Br=!0,f=Ot,ra(i.type)?(Jd=f,Ot=vr(l.firstChild)):Ot=f),sn(t,i,i.pendingProps.children,s),bc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ct&&((f=l=Ot)&&(l=kS(l,i.type,i.pendingProps,Br),l!==null?(i.stateNode=l,Rn=i,Ot=vr(l.firstChild),Br=!1,f=!0):f=!1),f||is(i)),_n(i),f=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,$d(f,d)?l=null:E!==null&&$d(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Yf(t,i,tS,null,null,s),jl._currentValue=f),bc(t,i),sn(t,i,l,s),i.child;case 6:return t===null&&ct&&((t=s=Ot)&&(s=US(s,i.pendingProps,Br),s!==null?(i.stateNode=s,Rn=i,Ot=null,t=!0):t=!1),t||is(i)),null;case 13:return rv(t,i,s);case 4:return gt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=io(i,null,l,s):sn(t,i,l,s),i.child;case 11:return $y(t,i,i.type,i.pendingProps,s);case 7:return sn(t,i,i.pendingProps,s),i.child;case 8:return sn(t,i,i.pendingProps.children,s),i.child;case 12:return sn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Hi(i,i.type,l.value),sn(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ss(i),f=fn(f),l=l(f),i.flags|=1,sn(t,i,l,s),i.child;case 14:return Xy(t,i,i.type,i.pendingProps,s);case 15:return Wy(t,i,i.type,i.pendingProps,s);case 19:return av(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=wc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=gi(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Zy(t,i,s);case 24:return ss(i),l=fn(Kt),t===null?(f=zf(),f===null&&(f=St,d=kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},Bf(i),Hi(i,Kt,f)):((t.lanes&s)!==0&&(Hf(t,i),vl(i,null,null,s),yl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Hi(i,Kt,l)):(l=d.cache,Hi(i,Kt,l),l!==f.cache&&Lf(i,[Kt],s,!0))),sn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Si(t){t.flags|=4}function ov(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p_(i)){if(i=sr.current,i!==null&&((rt&4194048)===rt?Hr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||i!==Hr))throw pl=jf,Fg;t.flags|=8192}}function Sc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ui():536870912,t.lanes|=i,lo|=i)}function Al(t,i){if(!ct)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function It(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function cS(t,i,s){var l=i.pendingProps;switch(Mf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(i),null;case 1:return It(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ei(Kt),wt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ll(i)?Si(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zg())),It(i),null;case 26:return s=i.memoizedState,t===null?(Si(i),s!==null?(It(i),ov(i,s)):(It(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Si(i),It(i),ov(i,s)):(It(i),i.flags&=-16777217):(t.memoizedProps!==l&&Si(i),It(i),i.flags&=-16777217),null;case 27:Qn(i),s=xe.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Si(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return It(i),null}t=Ae.current,ll(i)?kg(i):(t=o_(f,l,s),i.stateNode=t,Si(i))}return It(i),null;case 5:if(Qn(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Si(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return It(i),null}if(t=Ae.current,ll(i))kg(i);else{switch(f=kc(xe.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}t[ue]=i,t[ye]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(ln(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Si(i)}}return It(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Si(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=xe.current,ll(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=Rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[ue]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||e_(t.nodeValue,s)),t||is(i)}else t=kc(t).createTextNode(l),t[ue]=i,i.stateNode=t}return It(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ll(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ue]=i}else ul(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;It(i),f=!1}else f=zg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(bi(i),i):(bi(i),null)}if(bi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Sc(i,i.updateQueue),It(i),null;case 4:return wt(),t===null&&Fd(i.stateNode.containerInfo),It(i),null;case 10:return Ei(i.type),It(i),null;case 19:if(ce(Qt),f=i.memoizedState,f===null)return It(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)Al(f,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=_c(t),d!==null){for(i.flags|=128,Al(f,!1),t=d.updateQueue,i.updateQueue=t,Sc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Pg(s,t),s=s.sibling;return le(Qt,Qt.current&1|2),i.child}t=t.sibling}f.tail!==null&&Cn()>Ic&&(i.flags|=128,l=!0,Al(f,!1),i.lanes=4194304)}else{if(!l)if(t=_c(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Sc(i,t),Al(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ct)return It(i),null}else 2*Cn()-f.renderingStartTime>Ic&&s!==536870912&&(i.flags|=128,l=!0,Al(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(t=f.last,t!==null?t.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Cn(),i.sibling=null,t=Qt.current,le(Qt,l?t&1|2:t&1),i):(It(i),null);case 22:case 23:return bi(i),Kf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(It(i),i.subtreeFlags&6&&(i.flags|=8192)):It(i),s=i.updateQueue,s!==null&&Sc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&ce(os),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ei(Kt),It(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function hS(t,i){switch(Mf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ei(Kt),wt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Qn(i),null;case 13:if(bi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ul()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ce(Qt),null;case 4:return wt(),null;case 10:return Ei(i.type),null;case 22:case 23:return bi(i),Kf(),t!==null&&ce(os),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ei(Kt),null;case 25:return null;default:return null}}function lv(t,i){switch(Mf(i),i.tag){case 3:Ei(Kt),wt();break;case 26:case 27:case 5:Qn(i);break;case 4:wt();break;case 13:bi(i);break;case 19:ce(Qt);break;case 10:Ei(i.type);break;case 22:case 23:bi(i),Kf(),t!==null&&ce(os);break;case 24:Ei(Kt)}}function Rl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var d=s.create,E=s.inst;l=d(),E.destroy=l}s=s.next}while(s!==f)}}catch(T){bt(i,i.return,T)}}function $i(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=i;var C=s,F=T;try{F()}catch(J){bt(f,C,J)}}}l=l.next}while(l!==d)}}catch(J){bt(i,i.return,J)}}function uv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Xg(i,s)}catch(l){bt(t,t.return,l)}}}function cv(t,i,s){s.props=us(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){bt(t,i,l)}}function Il(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){bt(t,i,f)}}function qr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){bt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){bt(t,i,f)}else s.current=null}function hv(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){bt(t,t.return,f)}}function Ed(t,i,s){try{var l=t.stateNode;MS(l,t.type,s,i),l[ye]=i}catch(f){bt(t,t.return,f)}}function fv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ra(t.type)||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ra(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Lc));else if(l!==4&&(l===27&&ra(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(bd(t,i,s),t=t.sibling;t!==null;)bd(t,i,s),t=t.sibling}function Ac(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ra(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ac(t,i,s),t=t.sibling;t!==null;)Ac(t,i,s),t=t.sibling}function dv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);ln(i,l,s),i[ue]=t,i[ye]=s}catch(d){bt(t,t.return,d)}}var Ai=!1,Vt=!1,wd=!1,mv=typeof WeakSet=="function"?WeakSet:Set,en=null;function fS(t,i){if(t=t.containerInfo,Qd=qc,t=Ag(t),Tf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var E=0,T=-1,C=-1,F=0,J=0,ne=t,G=null;t:for(;;){for(var Q;ne!==s||f!==0&&ne.nodeType!==3||(T=E+f),ne!==d||l!==0&&ne.nodeType!==3||(C=E+l),ne.nodeType===3&&(E+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)G=ne,ne=Q;for(;;){if(ne===t)break t;if(G===s&&++F===f&&(T=E),G===d&&++J===l&&(C=E),(Q=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=Q}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Yd={focusedElem:t,selectionRange:s},qc=!1,en=i;en!==null;)if(i=en,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,en=t;else for(;en!==null;){switch(i=en,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Ve=us(s.type,f,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ve,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Oe){bt(s,s.return,Oe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Wd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,en=t;break}en=i.return}}function pv(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Xi(t,s),l&4&&Rl(5,s);break;case 1:if(Xi(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){bt(s,s.return,E)}else{var f=us(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){bt(s,s.return,E)}}l&64&&uv(s),l&512&&Il(s,s.return);break;case 3:if(Xi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Xg(t,i)}catch(E){bt(s,s.return,E)}}break;case 27:i===null&&l&4&&dv(s);case 26:case 5:Xi(t,s),i===null&&l&4&&hv(s),l&512&&Il(s,s.return);break;case 12:Xi(t,s);break;case 13:Xi(t,s),l&4&&vv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=TS.bind(null,s),zS(t,s))));break;case 22:if(l=s.memoizedState!==null||Ai,!l){i=i!==null&&i.memoizedState!==null||Vt,f=Ai;var d=Vt;Ai=l,(Vt=i)&&!d?Wi(t,s,(s.subtreeFlags&8772)!==0):Xi(t,s),Ai=f,Vt=d}break;case 30:break;default:Xi(t,s)}}function gv(t){var i=t.alternate;i!==null&&(t.alternate=null,gv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Be(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Nn=!1;function Ri(t,i,s){for(s=s.child;s!==null;)yv(t,i,s),s=s.sibling}function yv(t,i,s){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(at,s)}catch{}switch(s.tag){case 26:Vt||qr(s,i),Ri(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Vt||qr(s,i);var l=Rt,f=Nn;ra(s.type)&&(Rt=s.stateNode,Nn=!1),Ri(t,i,s),Ll(s.stateNode),Rt=l,Nn=f;break;case 5:Vt||qr(s,i);case 6:if(l=Rt,f=Nn,Rt=null,Ri(t,i,s),Rt=l,Nn=f,Rt!==null)if(Nn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(d){bt(s,i,d)}else try{Rt.removeChild(s.stateNode)}catch(d){bt(s,i,d)}break;case 18:Rt!==null&&(Nn?(t=Rt,a_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Fl(t)):a_(Rt,s.stateNode));break;case 4:l=Rt,f=Nn,Rt=s.stateNode.containerInfo,Nn=!0,Ri(t,i,s),Rt=l,Nn=f;break;case 0:case 11:case 14:case 15:Vt||$i(2,s,i),Vt||$i(4,s,i),Ri(t,i,s);break;case 1:Vt||(qr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&cv(s,i,l)),Ri(t,i,s);break;case 21:Ri(t,i,s);break;case 22:Vt=(l=Vt)||s.memoizedState!==null,Ri(t,i,s),Vt=l;break;default:Ri(t,i,s)}}function vv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(s){bt(i,i.return,s)}}function dS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new mv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new mv),i;default:throw Error(a(435,t.tag))}}function Sd(t,i){var s=dS(t);i.forEach(function(l){var f=bS.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}function Bn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=t,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(ra(T.type)){Rt=T.stateNode,Nn=!1;break e}break;case 5:Rt=T.stateNode,Nn=!1;break e;case 3:case 4:Rt=T.stateNode.containerInfo,Nn=!0;break e}T=T.return}if(Rt===null)throw Error(a(160));yv(d,E,f),Rt=null,Nn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)_v(i,t),i=i.sibling}var yr=null;function _v(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bn(i,t),Hn(t),l&4&&($i(3,t,t.return),Rl(3,t),$i(5,t,t.return));break;case 1:Bn(i,t),Hn(t),l&512&&(Vt||s===null||qr(s,s.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=yr;if(Bn(i,t),Hn(t),l&512&&(Vt||s===null||qr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ce]||d[ue]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),ln(d,l,s),d[ue]=t,He(d),l=d;break e;case"link":var E=d_("link","href",f).get(l+(s.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),ln(d,l,s),f.head.appendChild(d);break;case"meta":if(E=d_("meta","content",f).get(l+(s.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(T,1);break t}}d=f.createElement(l),ln(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[ue]=t,He(d),l=d}t.stateNode=l}else m_(f,t.type,t.stateNode);else t.stateNode=f_(f,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?m_(f,t.type,t.stateNode):f_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,s.memoizedProps)}break;case 27:Bn(i,t),Hn(t),l&512&&(Vt||s===null||qr(s,s.return)),s!==null&&l&4&&Ed(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Bn(i,t),Hn(t),l&512&&(Vt||s===null||qr(s,s.return)),t.flags&32){f=t.stateNode;try{Zn(f,"")}catch(Q){bt(t,t.return,Q)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Ed(t,f,s!==null?s.memoizedProps:f)),l&1024&&(wd=!0);break;case 6:if(Bn(i,t),Hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Q){bt(t,t.return,Q)}}break;case 3:if(jc=null,f=yr,yr=Uc(i.containerInfo),Bn(i,t),yr=f,Hn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Fl(i.containerInfo)}catch(Q){bt(t,t.return,Q)}wd&&(wd=!1,Ev(t));break;case 4:l=yr,yr=Uc(t.stateNode.containerInfo),Bn(i,t),Hn(t),yr=l;break;case 12:Bn(i,t),Hn(t);break;case 13:Bn(i,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Od=Cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 22:f=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,F=Ai,J=Vt;if(Ai=F||f,Vt=J||C,Bn(i,t),Vt=J,Ai=F,Hn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||C||Ai||Vt||cs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var ne=C.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){bt(C,C.return,Q)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(Q){bt(C,C.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Sd(t,s))));break;case 19:Bn(i,t),Hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 30:break;case 21:break;default:Bn(i,t),Hn(t)}}function Hn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(fv(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=Td(t);Ac(t,d,f);break;case 5:var E=s.stateNode;s.flags&32&&(Zn(E,""),s.flags&=-33);var T=Td(t);Ac(t,T,E);break;case 3:case 4:var C=s.stateNode.containerInfo,F=Td(t);bd(t,F,C);break;default:throw Error(a(161))}}catch(J){bt(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ev(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)pv(t,i.alternate,i),i=i.sibling}function cs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:$i(4,i,i.return),cs(i);break;case 1:qr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&cv(i,i.return,s),cs(i);break;case 27:Ll(i.stateNode);case 26:case 5:qr(i,i.return),cs(i);break;case 22:i.memoizedState===null&&cs(i);break;case 30:cs(i);break;default:cs(i)}t=t.sibling}}function Wi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(f,d,s),Rl(4,d);break;case 1:if(Wi(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){bt(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)$g(C[f],T)}catch(F){bt(l,l.return,F)}}s&&E&64&&uv(d),Il(d,d.return);break;case 27:dv(d);case 26:case 5:Wi(f,d,s),s&&l===null&&E&4&&hv(d),Il(d,d.return);break;case 12:Wi(f,d,s);break;case 13:Wi(f,d,s),s&&E&4&&vv(f,d);break;case 22:d.memoizedState===null&&Wi(f,d,s),Il(d,d.return);break;case 30:break;default:Wi(f,d,s)}i=i.sibling}}function Ad(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&fl(s))}function Rd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t))}function Fr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tv(t,i,s,l),i=i.sibling}function Tv(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Fr(t,i,s,l),f&2048&&Rl(9,i);break;case 1:Fr(t,i,s,l);break;case 3:Fr(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t)));break;case 12:if(f&2048){Fr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){bt(i,i.return,C)}}else Fr(t,i,s,l);break;case 13:Fr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?Fr(t,i,s,l):Cl(t,i):d._visibility&2?Fr(t,i,s,l):(d._visibility|=2,ao(t,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&Ad(E,i);break;case 24:Fr(t,i,s,l),f&2048&&Rd(i.alternate,i);break;default:Fr(t,i,s,l)}}function ao(t,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,T=s,C=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:ao(d,E,T,C,f),Rl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?ao(d,E,T,C,f):Cl(d,E):(J._visibility|=2,ao(d,E,T,C,f)),f&&F&2048&&Ad(E.alternate,E);break;case 24:ao(d,E,T,C,f),f&&F&2048&&Rd(E.alternate,E);break;default:ao(d,E,T,C,f)}i=i.sibling}}function Cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:Cl(s,l),f&2048&&Ad(l.alternate,l);break;case 24:Cl(s,l),f&2048&&Rd(l.alternate,l);break;default:Cl(s,l)}i=i.sibling}}var Dl=8192;function so(t){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)bv(t),t=t.sibling}function bv(t){switch(t.tag){case 26:so(t),t.flags&Dl&&t.memoizedState!==null&&ZS(yr,t.memoizedState,t.memoizedProps);break;case 5:so(t);break;case 3:case 4:var i=yr;yr=Uc(t.stateNode.containerInfo),so(t),yr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Dl,Dl=16777216,so(t),Dl=i):so(t));break;default:so(t)}}function wv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];en=l,Av(l,t)}wv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sv(t),t=t.sibling}function Sv(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Rc(t)):Ol(t);break;default:Ol(t)}}function Rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];en=l,Av(l,t)}wv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:$i(8,i,i.return),Rc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Rc(i));break;default:Rc(i)}t=t.sibling}}function Av(t,i){for(;en!==null;){var s=en;switch(s.tag){case 0:case 11:case 15:$i(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,en=l;else e:for(s=t;en!==null;){l=en;var f=l.sibling,d=l.return;if(gv(l),l===s){en=null;break e}if(f!==null){f.return=d,en=f;break e}en=d}}}var mS={getCacheForType:function(t){var i=fn(Kt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},pS=typeof WeakMap=="function"?WeakMap:Map,mt=0,St=null,$e=null,rt=0,pt=0,qn=null,Zi=!1,oo=!1,Id=!1,Ii=0,Nt=0,Ji=0,hs=0,Cd=0,or=0,lo=0,Nl=null,Mn=null,Dd=!1,Od=0,Ic=1/0,Cc=null,ea=null,on=0,ta=null,uo=null,co=0,Nd=0,Md=null,Rv=null,Ml=0,xd=null;function Fn(){if((mt&2)!==0&&rt!==0)return rt&-rt;if(Z.T!==null){var t=Ws;return t!==0?t:jd()}return B()}function Iv(){or===0&&(or=(rt&536870912)===0||ct?Ua():536870912);var t=sr.current;return t!==null&&(t.flags|=32),or}function Gn(t,i,s){(t===St&&(pt===2||pt===9)||t.cancelPendingCommit!==null)&&(ho(t,0),na(t,rt,or,!1)),Yn(t,s),((mt&2)===0||t!==St)&&(t===St&&((mt&2)===0&&(hs|=s),Nt===4&&na(t,rt,or,!1)),Gr(t))}function Cv(t,i,s){if((mt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||Dr(t,i),f=l?vS(t,i):Ld(t,i,!0),d=l;do{if(f===0){oo&&!l&&na(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!gS(s)){f=Ld(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=t;f=Nl;var C=T.current.memoizedState.isDehydrated;if(C&&(ho(T,E).flags|=256),E=Ld(T,E,!1),E!==2){if(Id&&!C){T.errorRecoveryDisabledLanes|=d,hs|=d,f=4;break e}d=Mn,Mn=f,d!==null&&(Mn===null?Mn=d:Mn.push.apply(Mn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){ho(t,0),na(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:na(l,i,or,!Zi);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Od+300-Cn(),10<f)){if(na(l,i,or,!Zi),dr(l,0,!0)!==0)break e;l.timeoutHandle=r_(Dv.bind(null,l,s,Mn,Cc,Dd,i,or,hs,lo,Zi,d,2,-0,0),f);break e}Dv(l,s,Mn,Cc,Dd,i,or,hs,lo,Zi,d,0,-0,0)}}break}while(!0);Gr(t)}function Dv(t,i,s,l,f,d,E,T,C,F,J,ne,G,Q){if(t.timeoutHandle=-1,ne=i.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:WS},bv(i),ne=JS(),ne!==null)){t.cancelPendingCommit=ne(Lv.bind(null,t,i,d,s,l,f,E,T,C,J,1,G,Q)),na(t,d,E,!F);return}Lv(t,i,d,s,l,f,E,T,C)}function gS(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!zn(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function na(t,i,s,l){i&=~Cd,i&=~hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-Xt(f),E=1<<d;l[d]=-1,f&=~E}s!==0&&bn(t,s,i)}function Dc(){return(mt&6)===0?(xl(0),!1):!0}function Vd(){if($e!==null){if(pt===0)var t=$e.return;else t=$e,_i=as=null,Wf(t),ro=null,wl=0,t=$e;for(;t!==null;)lv(t.alternate,t),t=t.return;$e=null}}function ho(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,VS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Vd(),St=t,$e=s=gi(t.current,null),rt=i,pt=0,qn=null,Zi=!1,oo=Dr(t,i),Id=!1,lo=or=Cd=hs=Ji=Nt=0,Mn=Nl=null,Dd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Xt(l),d=1<<f;i|=t[f],l&=~d}return Ii=i,Wu(),s}function Ov(t,i){Fe=null,Z.H=gc,i===ml||i===sc?(i=Qg(),pt=3):i===Fg?(i=Qg(),pt=4):pt=i===Yy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qn=i,$e===null&&(Nt=1,Tc(t,nr(i,t.current)))}function Nv(){var t=Z.H;return Z.H=gc,t===null?gc:t}function Mv(){var t=Z.A;return Z.A=mS,t}function Pd(){Nt=4,Zi||(rt&4194048)!==rt&&sr.current!==null||(oo=!0),(Ji&134217727)===0&&(hs&134217727)===0||St===null||na(St,rt,or,!1)}function Ld(t,i,s){var l=mt;mt|=2;var f=Nv(),d=Mv();(St!==t||rt!==i)&&(Cc=null,ho(t,i)),i=!1;var E=Nt;e:do try{if(pt!==0&&$e!==null){var T=$e,C=qn;switch(pt){case 8:Vd(),E=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(i=!0);var F=pt;if(pt=0,qn=null,fo(t,T,C,F),s&&oo){E=0;break e}break;default:F=pt,pt=0,qn=null,fo(t,T,C,F)}}yS(),E=Nt;break}catch(J){Ov(t,J)}while(!0);return i&&t.shellSuspendCounter++,_i=as=null,mt=l,Z.H=f,Z.A=d,$e===null&&(St=null,rt=0,Wu()),E}function yS(){for(;$e!==null;)xv($e)}function vS(t,i){var s=mt;mt|=2;var l=Nv(),f=Mv();St!==t||rt!==i?(Cc=null,Ic=Cn()+500,ho(t,i)):oo=Dr(t,i);e:do try{if(pt!==0&&$e!==null){i=$e;var d=qn;t:switch(pt){case 1:pt=0,qn=null,fo(t,i,d,1);break;case 2:case 9:if(Gg(d)){pt=0,qn=null,Vv(i);break}i=function(){pt!==2&&pt!==9||St!==t||(pt=7),Gr(t)},d.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Gg(d)?(pt=0,qn=null,Vv(i)):(pt=0,qn=null,fo(t,i,d,7));break;case 5:var E=null;switch($e.tag){case 26:E=$e.memoizedState;case 5:case 27:var T=$e;if(!E||p_(E)){pt=0,qn=null;var C=T.sibling;if(C!==null)$e=C;else{var F=T.return;F!==null?($e=F,Oc(F)):$e=null}break t}}pt=0,qn=null,fo(t,i,d,5);break;case 6:pt=0,qn=null,fo(t,i,d,6);break;case 8:Vd(),Nt=6;break e;default:throw Error(a(462))}}_S();break}catch(J){Ov(t,J)}while(!0);return _i=as=null,Z.H=l,Z.A=f,mt=s,$e!==null?0:(St=null,rt=0,Wu(),Nt)}function _S(){for(;$e!==null&&!Pa();)xv($e)}function xv(t){var i=sv(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,i===null?Oc(t):$e=i}function Vv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=ev(s,i,i.pendingProps,i.type,void 0,rt);break;case 11:i=ev(s,i,i.pendingProps,i.type.render,i.ref,rt);break;case 5:Wf(i);default:lv(s,i),i=$e=Pg(i,Ii),i=sv(s,i,Ii)}t.memoizedProps=t.pendingProps,i===null?Oc(t):$e=i}function fo(t,i,s,l){_i=as=null,Wf(i),ro=null,wl=0;var f=i.return;try{if(lS(t,f,i,s,rt)){Nt=1,Tc(t,nr(s,t.current)),$e=null;return}}catch(d){if(f!==null)throw $e=f,d;Nt=1,Tc(t,nr(s,t.current)),$e=null;return}i.flags&32768?(ct||l===1?t=!0:oo||(rt&536870912)!==0?t=!1:(Zi=t=!0,(l===2||l===9||l===3||l===6)&&(l=sr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pv(i,t)):Oc(i)}function Oc(t){var i=t;do{if((i.flags&32768)!==0){Pv(i,Zi);return}t=i.return;var s=cS(i.alternate,i,Ii);if(s!==null){$e=s;return}if(i=i.sibling,i!==null){$e=i;return}$e=i=t}while(i!==null);Nt===0&&(Nt=5)}function Pv(t,i){do{var s=hS(t.alternate,t);if(s!==null){s.flags&=32767,$e=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){$e=t;return}$e=t=s}while(t!==null);Nt=6,$e=null}function Lv(t,i,s,l,f,d,E,T,C){t.cancelPendingCommit=null;do Nc();while(on!==0);if((mt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Rf,Or(t,s,d,E,T,C),t===St&&($e=St=null,rt=0),uo=i,ta=t,co=s,Nd=d,Md=f,Rv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wS(Tn,function(){return Bv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=de.p,de.p=2,E=mt,mt|=4;try{fS(t,i,s)}finally{mt=E,de.p=f,Z.T=l}}on=1,kv(),Uv(),zv()}}function kv(){if(on===1){on=0;var t=ta,i=uo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Z.T,Z.T=null;var l=de.p;de.p=2;var f=mt;mt|=4;try{_v(i,t);var d=Yd,E=Ag(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Sg(T.ownerDocument.documentElement,T)){if(C!==null&&Tf(T)){var F=C.start,J=C.end;if(J===void 0&&(J=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(J,T.value.length);else{var ne=T.ownerDocument||document,G=ne&&ne.defaultView||window;if(G.getSelection){var Q=G.getSelection(),Ve=T.textContent.length,Oe=Math.min(C.start,Ve),Et=C.end===void 0?Oe:Math.min(C.end,Ve);!Q.extend&&Oe>Et&&(E=Et,Et=Oe,Oe=E);var z=wg(T,Oe),P=wg(T,Et);if(z&&P&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var q=ne.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),Oe>Et?(Q.addRange(q),Q.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),Q.addRange(q))}}}}for(ne=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var te=ne[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}qc=!!Qd,Yd=Qd=null}finally{mt=f,de.p=l,Z.T=s}}t.current=i,on=2}}function Uv(){if(on===2){on=0;var t=ta,i=uo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Z.T,Z.T=null;var l=de.p;de.p=2;var f=mt;mt|=4;try{pv(t,i.alternate,i)}finally{mt=f,de.p=l,Z.T=s}}on=3}}function zv(){if(on===4||on===3){on=0,La();var t=ta,i=uo,s=co,l=Rv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?on=5:(on=0,uo=ta=null,jv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ea=null),x(s),i=i.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(at,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Z.T,f=de.p,de.p=2,Z.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{Z.T=i,de.p=f}}(co&3)!==0&&Nc(),Gr(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===xd?Ml++:(Ml=0,xd=t):Ml=0,xl(0)}}function jv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fl(i)))}function Nc(t){return kv(),Uv(),zv(),Bv()}function Bv(){if(on!==5)return!1;var t=ta,i=Nd;Nd=0;var s=x(co),l=Z.T,f=de.p;try{de.p=32>s?32:s,Z.T=null,s=Md,Md=null;var d=ta,E=co;if(on=0,uo=ta=null,co=0,(mt&6)!==0)throw Error(a(331));var T=mt;if(mt|=4,Sv(d.current),Tv(d,d.current,E,s),mt=T,xl(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(at,d)}catch{}return!0}finally{de.p=f,Z.T=l,jv(t,i)}}function Hv(t,i,s){i=nr(s,i),i=hd(t.stateNode,i,2),t=Gi(t,i,2),t!==null&&(Yn(t,2),Gr(t))}function bt(t,i,s){if(t.tag===3)Hv(t,t,s);else for(;i!==null;){if(i.tag===3){Hv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ea===null||!ea.has(l))){t=nr(s,t),s=Ky(2),l=Gi(i,s,2),l!==null&&(Qy(s,l,i,t),Yn(l,2),Gr(l));break}}i=i.return}}function kd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new pS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(Id=!0,f.add(s),t=ES.bind(null,t,i,s),i.then(t,t))}function ES(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,St===t&&(rt&s)===s&&(Nt===4||Nt===3&&(rt&62914560)===rt&&300>Cn()-Od?(mt&2)===0&&ho(t,0):Cd|=s,lo===rt&&(lo=0)),Gr(t)}function qv(t,i){i===0&&(i=Ui()),t=Qs(t,i),t!==null&&(Yn(t,i),Gr(t))}function TS(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),qv(t,s)}function bS(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),qv(t,s)}function wS(t,i){return En(t,i)}var Mc=null,mo=null,Ud=!1,xc=!1,zd=!1,fs=0;function Gr(t){t!==mo&&t.next===null&&(mo===null?Mc=mo=t:mo=mo.next=t),xc=!0,Ud||(Ud=!0,AS())}function xl(t,i){if(!zd&&xc){zd=!0;do for(var s=!1,l=Mc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Xt(42|t)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Qv(l,d))}else d=rt,d=dr(l,l===St?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Dr(l,d)||(s=!0,Qv(l,d));l=l.next}while(s);zd=!1}}function SS(){Fv()}function Fv(){xc=Ud=!1;var t=0;fs!==0&&(xS()&&(t=fs),fs=0);for(var i=Cn(),s=null,l=Mc;l!==null;){var f=l.next,d=Gv(l,i);d===0?(l.next=null,s===null?Mc=f:s.next=f,f===null&&(mo=s)):(s=l,(t!==0||(d&3)!==0)&&(xc=!0)),l=f}xl(t)}function Gv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Xt(d),T=1<<E,C=f[E];C===-1?((T&s)===0||(T&l)!==0)&&(f[E]=si(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=St,s=rt,s=dr(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(pt===2||pt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ti(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Dr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&ti(l),x(s)){case 2:case 8:s=ki;break;case 32:s=Tn;break;case 268435456:s=ri;break;default:s=Tn}return l=Kv.bind(null,t),s=En(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&ti(l),t.callbackPriority=2,t.callbackNode=null,2}function Kv(t,i){if(on!==0&&on!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Nc()&&t.callbackNode!==s)return null;var l=rt;return l=dr(t,t===St?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Cv(t,l,i),Gv(t,Cn()),t.callbackNode!=null&&t.callbackNode===s?Kv.bind(null,t):null)}function Qv(t,i){if(Nc())return null;Cv(t,i,!0)}function AS(){PS(function(){(mt&6)!==0?En(ka,SS):Fv()})}function jd(){return fs===0&&(fs=Ua()),fs}function Yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ps(""+t)}function $v(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function RS(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=Yv((f[ye]||null).action),E=l.submitter;E&&(i=(i=E[ye]||null)?Yv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var T=new Ls("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fs!==0){var C=E?$v(f,E):new FormData(f);sd(s,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?$v(f,E):new FormData(f),sd(s,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Bd=0;Bd<Af.length;Bd++){var Hd=Af[Bd],IS=Hd.toLowerCase(),CS=Hd[0].toUpperCase()+Hd.slice(1);gr(IS,"on"+CS)}gr(Cg,"onAnimationEnd"),gr(Dg,"onAnimationIteration"),gr(Og,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(Gw,"onTransitionRun"),gr(Kw,"onTransitionStart"),gr(Qw,"onTransitionCancel"),gr(Ng,"onTransitionEnd"),kt("onMouseEnter",["mouseout","mouseover"]),kt("onMouseLeave",["mouseout","mouseover"]),kt("onPointerEnter",["pointerout","pointerover"]),kt("onPointerLeave",["pointerout","pointerover"]),Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Xv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,F=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=F;try{d(f)}catch(J){Ec(J)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,F=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=F;try{d(f)}catch(J){Ec(J)}f.currentTarget=null,d=C}}}}function Xe(t,i){var s=i[we];s===void 0&&(s=i[we]=new Set);var l=t+"__bubble";s.has(l)||(Wv(i,t,2,!1),s.add(l))}function qd(t,i,s){var l=0;i&&(l|=4),Wv(s,t,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[Vc]){t[Vc]=!0,$n.forEach(function(s){s!=="selectionchange"&&(DS.has(s)||qd(s,!1,t),qd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,qd("selectionchange",!1,i))}}function Wv(t,i,s,l){switch(T_(i)){case 2:var f=nA;break;case 8:f=rA;break;default:f=im}s=f.bind(null,i,s,t),f=void 0,!er||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function Gd(t,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=ot(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Lu(function(){var F=d,J=Jn(s),ne=[];e:{var G=Mg.get(t);if(G!==void 0){var Q=Ls,Ve=t;switch(t){case"keypress":if(Lr(s)===0)break e;case"keydown":case"keyup":Q=Hs;break;case"focusin":Ve="focus",Q=zs;break;case"focusout":Ve="blur",Q=zs;break;case"beforeblur":case"afterblur":Q=zs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Fu;break;case Cg:case Dg:case Og:Q=js;break;case Ng:Q=Ku;break;case"scroll":case"scrollend":Q=ku;break;case"wheel":Q=qs;break;case"copy":case"cut":case"paste":Q=Bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=il;break;case"toggle":case"beforetoggle":Q=Yu}var Oe=(i&4)!==0,Et=!Oe&&(t==="scroll"||t==="scrollend"),z=Oe?G!==null?G+"Capture":null:G;Oe=[];for(var P=F,q;P!==null;){var te=P;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||z===null||(te=Ga(P,z),te!=null&&Oe.push(Pl(P,te,q))),Et)break;P=P.return}0<Oe.length&&(G=new Q(G,Ve,null,s,J),ne.push({event:G,listeners:Oe}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&s!==ci&&(Ve=s.relatedTarget||s.fromElement)&&(ot(Ve)||Ve[be]))break e;if((Q||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Ve=s.relatedTarget||s.toElement,Q=F,Ve=Ve?ot(Ve):null,Ve!==null&&(Et=u(Ve),Oe=Ve.tag,Ve!==Et||Oe!==5&&Oe!==27&&Oe!==6)&&(Ve=null)):(Q=null,Ve=F),Q!==Ve)){if(Oe=tr,te="onMouseLeave",z="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Oe=il,te="onPointerLeave",z="onPointerEnter",P="pointer"),Et=Q==null?G:ut(Q),q=Ve==null?G:ut(Ve),G=new Oe(te,P+"leave",Q,s,J),G.target=Et,G.relatedTarget=q,te=null,ot(J)===F&&(Oe=new Oe(z,P+"enter",Ve,s,J),Oe.target=q,Oe.relatedTarget=Et,te=Oe),Et=te,Q&&Ve)t:{for(Oe=Q,z=Ve,P=0,q=Oe;q;q=po(q))P++;for(q=0,te=z;te;te=po(te))q++;for(;0<P-q;)Oe=po(Oe),P--;for(;0<q-P;)z=po(z),q--;for(;P--;){if(Oe===z||z!==null&&Oe===z.alternate)break t;Oe=po(Oe),z=po(z)}Oe=null}else Oe=null;Q!==null&&Zv(ne,G,Q,Oe,!1),Ve!==null&&Et!==null&&Zv(ne,Et,Ve,Oe,!0)}}e:{if(G=F?ut(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Ee=yg;else if(Gt(G))if(vg)Ee=Hw;else{Ee=jw;var Qe=zw}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Wo(F.elementType)&&(Ee=yg):Ee=Bw;if(Ee&&(Ee=Ee(t,F))){pi(ne,Ee,s,J);break e}Qe&&Qe(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&ji(G,"number",G.value)}switch(Qe=F?ut(F):window,t){case"focusin":(Gt(Qe)||Qe.contentEditable==="true")&&(Fs=Qe,bf=F,ol=null);break;case"focusout":ol=bf=Fs=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Rg(ne,s,J);break;case"selectionchange":if(Fw)break;case"keydown":case"keyup":Rg(ne,s,J)}var Ie;if(zr)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else tt?X(t,s)&&(Ne="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ne="onCompositionStart");Ne&&(v&&s.locale!=="ko"&&(tt||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&tt&&(Ie=Jo()):(Pr=J,Bi="value"in Pr?Pr.value:Pr.textContent,tt=!0)),Qe=Pc(F,Ne),0<Qe.length&&(Ne=new nl(Ne,t,null,s,J),ne.push({event:Ne,listeners:Qe}),Ie?Ne.data=Ie:(Ie=he(s),Ie!==null&&(Ne.data=Ie)))),(Ie=y?Ft(t,s):nt(t,s))&&(Ne=Pc(F,"onBeforeInput"),0<Ne.length&&(Qe=new nl("onBeforeInput","beforeinput",null,s,J),ne.push({event:Qe,listeners:Ne}),Qe.data=Ie)),RS(ne,t,F,s,J)}Xv(ne,i)})}function Pl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Pc(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ga(t,s),f!=null&&l.unshift(Pl(t,f,d)),f=Ga(t,i),f!=null&&l.push(Pl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zv(t,i,s,l,f){for(var d=i._reactName,E=[];s!==null&&s!==l;){var T=s,C=T.alternate,F=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||F===null||(C=F,f?(F=Ga(s,d),F!=null&&E.unshift(Pl(s,F,C))):f||(F=Ga(s,d),F!=null&&E.push(Pl(s,F,C)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var OS=/\r\n?/g,NS=/\u0000|\uFFFD/g;function Jv(t){return(typeof t=="string"?t:""+t).replace(OS,`
`).replace(NS,"")}function e_(t,i){return i=Jv(i),Jv(t)===i}function Lc(){}function _t(t,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Zn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Zn(t,""+l);break;case"className":Ye(t,"class",l);break;case"tabIndex":Ye(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ye(t,s,l);break;case"style":Xo(t,l,d);break;case"data":if(i!=="object"){Ye(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ps(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&_t(t,i,"name",f.name,f,null),_t(t,i,"formEncType",f.formEncType,f,null),_t(t,i,"formMethod",f.formMethod,f,null),_t(t,i,"formTarget",f.formTarget,f,null)):(_t(t,i,"encType",f.encType,f,null),_t(t,i,"method",f.method,f,null),_t(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ps(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"onScroll":l!=null&&Xe("scroll",t);break;case"onScrollEnd":l!=null&&Xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ps(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Xe("beforetoggle",t),Xe("toggle",t),Ln(t,"popover",l);break;case"xlinkActuate":et(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":et(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":et(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":et(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":et(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":et(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":et(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ln(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=pf.get(s)||s,Ln(t,s,l))}}function Kd(t,i,s,l,f,d){switch(s){case"style":Xo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Zn(t,l):(typeof l=="number"||typeof l=="bigint")&&Zn(t,""+l);break;case"onScroll":l!=null&&Xe("scroll",t);break;case"onScrollEnd":l!=null&&Xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xn.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=t[ye]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ln(t,s,l)}}}function ln(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",t),Xe("load",t);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,d,E,s,null)}}f&&_t(t,i,"srcSet",s.srcSet,s,null),l&&_t(t,i,"src",s.src,s,null);return;case"input":Xe("invalid",t);var T=d=E=f=null,C=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":f=J;break;case"type":E=J;break;case"checked":C=J;break;case"defaultChecked":F=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:_t(t,i,l,J,s,null)}}Ha(t,d,T,C,F,E,f,!1),Vs(t);return;case"select":Xe("invalid",t),l=E=d=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:_t(t,i,f,T,s,null)}i=d,s=E,t.multiple=!!l,i!=null?ui(t,!!l,i,!1):s!=null&&ui(t,!!l,s,!0);return;case"textarea":Xe("invalid",t),d=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(T=s[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:_t(t,i,E,T,s,null)}qa(t,l,f,d),Vs(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:_t(t,i,C,l,s,null)}return;case"dialog":Xe("beforetoggle",t),Xe("toggle",t),Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":Xe("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Xe(Vl[l],t);break;case"image":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"embed":case"source":case"link":Xe("error",t),Xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,F,l,s,null)}return;default:if(Wo(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&Kd(t,i,J,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&_t(t,i,T,l,s,null))}function MS(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,C=null,F=null,J=null;for(Q in s){var ne=s[Q];if(s.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=ne;default:l.hasOwnProperty(Q)||_t(t,i,Q,null,l,ne)}}for(var G in l){var Q=l[G];if(ne=s[G],l.hasOwnProperty(G)&&(Q!=null||ne!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":F=Q;break;case"defaultChecked":J=Q;break;case"value":E=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Q!==ne&&_t(t,i,G,Q,l,ne)}}Un(t,E,T,C,F,J,d,f);return;case"select":Q=E=T=G=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(d)||_t(t,i,d,null,l,C)}for(f in l)if(d=l[f],C=s[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&_t(t,i,f,d,l,C)}i=T,s=E,l=Q,G!=null?ui(t,!!s,G,!1):!!l!=!!s&&(i!=null?ui(t,!!s,i,!0):ui(t,!!s,s?[]:"",!1));return;case"textarea":Q=G=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:_t(t,i,T,null,l,f)}for(E in l)if(f=l[E],d=s[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&_t(t,i,E,f,l,d)}yt(t,G,Q);return;case"option":for(var Ve in s)if(G=s[Ve],s.hasOwnProperty(Ve)&&G!=null&&!l.hasOwnProperty(Ve))switch(Ve){case"selected":t.selected=!1;break;default:_t(t,i,Ve,null,l,G)}for(C in l)if(G=l[C],Q=s[C],l.hasOwnProperty(C)&&G!==Q&&(G!=null||Q!=null))switch(C){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:_t(t,i,C,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in s)G=s[Oe],s.hasOwnProperty(Oe)&&G!=null&&!l.hasOwnProperty(Oe)&&_t(t,i,Oe,null,l,G);for(F in l)if(G=l[F],Q=s[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:_t(t,i,F,G,l,Q)}return;default:if(Wo(i)){for(var Et in s)G=s[Et],s.hasOwnProperty(Et)&&G!==void 0&&!l.hasOwnProperty(Et)&&Kd(t,i,Et,void 0,l,G);for(J in l)G=l[J],Q=s[J],!l.hasOwnProperty(J)||G===Q||G===void 0&&Q===void 0||Kd(t,i,J,G,l,Q);return}}for(var z in s)G=s[z],s.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&_t(t,i,z,null,l,G);for(ne in l)G=l[ne],Q=s[ne],!l.hasOwnProperty(ne)||G===Q||G==null&&Q==null||_t(t,i,ne,G,l,Q)}var Qd=null,Yd=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function t_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function $d(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xd=null;function xS(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,PS=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(t){return i_.resolve(null).then(t).catch(LS)}:r_;function LS(t){setTimeout(function(){throw t})}function ra(t){return t==="head"}function a_(t,i){var s=i,l=0,f=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&Ll(E.documentElement),s&2&&Ll(E.body),s&4)for(s=E.head,Ll(s),E=s.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[Ce]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=T}}if(f===0){t.removeChild(d),Fl(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Fl(i)}function Wd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wd(s),Be(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function kS(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ce])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=vr(t.nextSibling),t===null)break}return null}function US(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=vr(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function zS(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function vr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Jd=null;function s_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function o_(t,i,s){switch(i=kc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ll(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Be(t)}var lr=new Map,l_=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=de.d;de.d={f:jS,r:BS,D:HS,C:qS,L:FS,m:GS,X:QS,S:KS,M:YS};function jS(){var t=Ci.f(),i=Dc();return t||i}function BS(t){var i=Tt(t);i!==null&&i.tag===5&&i.type==="form"?Cy(i):Ci.r(t)}var go=typeof document>"u"?null:document;function u_(t,i,s){var l=go;if(l&&typeof i=="string"&&i){var f=Ut(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),l_.has(f)||(l_.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),ln(i,"link",t),He(i),l.head.appendChild(i)))}}function HS(t){Ci.D(t),u_("dns-prefetch",t,null)}function qS(t,i){Ci.C(t,i),u_("preconnect",t,i)}function FS(t,i,s){Ci.L(t,i,s);var l=go;if(l&&t&&i){var f='link[rel="preload"][as="'+Ut(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ut(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ut(s.imageSizes)+'"]')):f+='[href="'+Ut(t)+'"]';var d=f;switch(i){case"style":d=yo(t);break;case"script":d=vo(t)}lr.has(d)||(t=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),lr.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(kl(d))||i==="script"&&l.querySelector(Ul(d))||(i=l.createElement("link"),ln(i,"link",t),He(i),l.head.appendChild(i)))}}function GS(t,i){Ci.m(t,i);var s=go;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vo(t)}if(!lr.has(d)&&(t=_({rel:"modulepreload",href:t},i),lr.set(d,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ul(d)))return}l=s.createElement("link"),ln(l,"link",t),He(l),s.head.appendChild(l)}}}function KS(t,i,s){Ci.S(t,i,s);var l=go;if(l&&t){var f=Ke(l).hoistableStyles,d=yo(t);i=i||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(kl(d)))T.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},s),(s=lr.get(d))&&em(t,s);var C=E=l.createElement("link");He(C),ln(C,"link",t),C._p=new Promise(function(F,J){C.onload=F,C.onerror=J}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function QS(t,i){Ci.X(t,i);var s=go;if(s&&t){var l=Ke(s).hoistableScripts,f=vo(t),d=l.get(f);d||(d=s.querySelector(Ul(f)),d||(t=_({src:t,async:!0},i),(i=lr.get(f))&&tm(t,i),d=s.createElement("script"),He(d),ln(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function YS(t,i){Ci.M(t,i);var s=go;if(s&&t){var l=Ke(s).hoistableScripts,f=vo(t),d=l.get(f);d||(d=s.querySelector(Ul(f)),d||(t=_({src:t,async:!0,type:"module"},i),(i=lr.get(f))&&tm(t,i),d=s.createElement("script"),He(d),ln(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function c_(t,i,s,l){var f=(f=xe.current)?Uc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=yo(s.href),s=Ke(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=yo(s.href);var d=Ke(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(kl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),lr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},lr.set(t,s),d||$S(f,t,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vo(s),s=Ke(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function yo(t){return'href="'+Ut(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function h_(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function $S(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ln(i,"link",s),He(i),t.head.appendChild(i))}function vo(t){return'[src="'+Ut(t)+'"]'}function Ul(t){return"script[async]"+t}function f_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(s.href)+'"]');if(l)return i.instance=l,He(l),l;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),He(l),ln(l,"style",f),zc(l,s.precedence,t),i.instance=l;case"stylesheet":f=yo(s.href);var d=t.querySelector(kl(f));if(d)return i.state.loading|=4,i.instance=d,He(d),d;l=h_(s),(f=lr.get(f))&&em(l,f),d=(t.ownerDocument||t).createElement("link"),He(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),ln(d,"link",l),i.state.loading|=4,zc(d,s.precedence,t),i.instance=d;case"script":return d=vo(s.src),(f=t.querySelector(Ul(d)))?(i.instance=f,He(f),f):(l=s,(f=lr.get(d))&&(l=_({},s),tm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),He(f),ln(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,s.precedence,t));return i.instance}function zc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var jc=null;function d_(t,i,s){if(jc===null){var l=new Map,f=jc=new Map;f.set(s,l)}else f=jc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[Ce]||d[ue]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function m_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function XS(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function p_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zl=null;function WS(){}function ZS(t,i,s){if(zl===null)throw Error(a(475));var l=zl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=yo(s.href),d=t.querySelector(kl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Bc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,He(d);return}d=t.ownerDocument||t,s=h_(s),(f=lr.get(f))&&em(s,f),d=d.createElement("link"),He(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),ln(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Bc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function JS(){if(zl===null)throw Error(a(475));var t=zl;return t.stylesheets&&t.count===0&&nm(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&nm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)nm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function nm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(eA,t),Hc=null,Bc.call(t))}function eA(t,i){if(!(i.state.loading&4)){var s=Hc.get(t);if(s)var l=s.get(null);else{s=new Map,Hc.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=s.get(E)||l,d===l&&s.set(null,f),s.set(E,f),this.count++,l=Bc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var jl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function tA(t,i,s,l,f,d,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function g_(t,i,s,l,f,d,E,T,C,F,J,ne){return t=new tA(t,i,s,E,T,C,F,ne),i=1,d===!0&&(i|=24),d=jn(3,null,null,i),t.current=d,d.stateNode=t,i=kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Bf(d),t}function y_(t){return t?(t=Ys,t):Ys}function v_(t,i,s,l,f,d){f=y_(f),l.context===null?l.context=f:l.pendingContext=f,l=Fi(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Gi(t,l,i),s!==null&&(Gn(s,t,i),gl(s,t,i))}function __(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function rm(t,i){__(t,i),(t=t.alternate)&&__(t,i)}function E_(t){if(t.tag===13){var i=Qs(t,67108864);i!==null&&Gn(i,t,67108864),rm(t,67108864)}}var qc=!0;function nA(t,i,s,l){var f=Z.T;Z.T=null;var d=de.p;try{de.p=2,im(t,i,s,l)}finally{de.p=d,Z.T=f}}function rA(t,i,s,l){var f=Z.T;Z.T=null;var d=de.p;try{de.p=8,im(t,i,s,l)}finally{de.p=d,Z.T=f}}function im(t,i,s,l){if(qc){var f=am(l);if(f===null)Gd(t,i,l,Fc,s),b_(t,l);else if(aA(f,t,i,s,l))l.stopPropagation();else if(b_(t,l),i&4&&-1<iA.indexOf(t)){for(;f!==null;){var d=Tt(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Dn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-Xt(E);T.entanglements[1]|=C,E&=~C}Gr(d),(mt&6)===0&&(Ic=Cn()+500,xl(0))}}break;case 13:T=Qs(d,2),T!==null&&Gn(T,d,2),Dc(),rm(d,2)}if(d=am(l),d===null&&Gd(t,i,l,Fc,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else Gd(t,i,l,null,s)}}function am(t){return t=Jn(t),sm(t)}var Fc=null;function sm(t){if(Fc=null,t=ot(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Fc=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qo()){case ka:return 2;case ki:return 8;case Tn:case ni:return 32;case ri:return 268435456;default:return 32}default:return 32}}var om=!1,ia=null,aa=null,sa=null,Bl=new Map,Hl=new Map,oa=[],iA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,i){switch(t){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(i.pointerId)}}function ql(t,i,s,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Tt(i),i!==null&&E_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function aA(t,i,s,l,f){switch(i){case"focusin":return ia=ql(ia,t,i,s,l,f),!0;case"dragenter":return aa=ql(aa,t,i,s,l,f),!0;case"mouseover":return sa=ql(sa,t,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return Bl.set(d,ql(Bl.get(d)||null,t,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Hl.set(d,ql(Hl.get(d)||null,t,i,s,l,f)),!0}return!1}function w_(t){var i=ot(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,Y(t.priority,function(){if(s.tag===13){var l=Fn();l=Nr(l);var f=Qs(s,l);f!==null&&Gn(f,s,l),rm(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=am(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ci=l,s.target.dispatchEvent(l),ci=null}else return i=Tt(s),i!==null&&E_(i),t.blockedOn=s,!1;i.shift()}return!0}function S_(t,i,s){Gc(t)&&s.delete(i)}function sA(){om=!1,ia!==null&&Gc(ia)&&(ia=null),aa!==null&&Gc(aa)&&(aa=null),sa!==null&&Gc(sa)&&(sa=null),Bl.forEach(S_),Hl.forEach(S_)}function Kc(t,i){t.blockedOn===i&&(t.blockedOn=null,om||(om=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sA)))}var Qc=null;function A_(t){Qc!==t&&(Qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===t&&(Qc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(sm(l||s)===null)continue;break}var d=Tt(s);d!==null&&(t.splice(i,3),i-=3,sd(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Fl(t){function i(C){return Kc(C,t)}ia!==null&&Kc(ia,t),aa!==null&&Kc(aa,t),sa!==null&&Kc(sa,t),Bl.forEach(i),Hl.forEach(i);for(var s=0;s<oa.length;s++){var l=oa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<oa.length&&(s=oa[0],s.blockedOn===null);)w_(s),s.blockedOn===null&&oa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],E=f[ye]||null;if(typeof d=="function")E||A_(s);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[ye]||null)T=E.formAction;else if(sm(f)!==null)continue}else T=E.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),A_(s)}}}function lm(t){this._internalRoot=t}Yc.prototype.render=lm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Fn();v_(s,l,t,i,null,null)},Yc.prototype.unmount=lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;v_(t.current,2,null,t,null,null),Dc(),i[be]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=B();t={blockedOn:null,target:t,priority:i};for(var s=0;s<oa.length&&i!==0&&i<oa[s].priority;s++);oa.splice(s,0,t),s===0&&w_(t)}};var R_=e.version;if(R_!=="19.1.0")throw Error(a(527,R_,"19.1.0"));de.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var oA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{at=$c.inject(oA),st=$c}catch{}}return Kl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=Hy,d=qy,E=Fy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=g_(t,1,!1,null,null,s,l,f,d,E,T,null),t[be]=i.current,Fd(t),new lm(i)},Kl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",d=Hy,E=qy,T=Fy,C=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),i=g_(t,1,!0,i,s??null,l,f,d,E,T,C,F),i.context=y_(null),s=i.current,l=Fn(),l=Nr(l),f=Fi(l),f.callback=null,Gi(s,f,l),s=l,i.current.lanes=s,Yn(i,s),Gr(i),t[be]=i.current,Fd(t),new Yc(i)},Kl.version="19.1.0",Kl}var L_;function yA(){if(L_)return hm.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=gA(),hm.exports}var vA=yA(),Ql={},k_;function _A(){if(k_)return Ql;k_=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.parse=h,Ql.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,I){const V=new u,$=S.length;if($<2)return V;const j=(I==null?void 0:I.decode)||_;let W=0;do{const re=S.indexOf("=",W);if(re===-1)break;const oe=S.indexOf(";",W),ge=oe===-1?$:oe;if(re>ge){W=S.lastIndexOf(";",re-1)+1;continue}const k=m(S,W,re),me=p(S,re,k),O=S.slice(k,me);if(V[O]===void 0){let A=m(S,re+1,ge),R=p(S,ge,A);const N=j(S.slice(A,R));V[O]=N}W=ge+1}while(W<$);return V}function m(S,I,V){do{const $=S.charCodeAt(I);if($!==32&&$!==9)return I}while(++I<V);return V}function p(S,I,V){for(;I>V;){const $=S.charCodeAt(--I);if($!==32&&$!==9)return I+1}return V}function g(S,I,V){const $=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const j=$(I);if(!e.test(j))throw new TypeError(`argument val is invalid: ${I}`);let W=S+"="+j;if(!V)return W;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);W+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);W+="; Domain="+V.domain}if(V.path){if(!a.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);W+="; Path="+V.path}if(V.expires){if(!b(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);W+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(W+="; HttpOnly"),V.secure&&(W+="; Secure"),V.partitioned&&(W+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return W}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return Ql}_A();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H0=r=>{throw TypeError(r)},EA=(r,e,n)=>e.has(r)||H0("Cannot "+n),pm=(r,e,n)=>(EA(r,e,"read from private field"),n?n.call(r):e.get(r)),TA=(r,e,n)=>e.has(r)?H0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),U_="popstate";function bA(r={}){function e(a,o){let{pathname:u,search:h,hash:m}=a.location;return cu("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:wa(o)}return SA(e,n,null,r)}function We(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wA(){return Math.random().toString(36).substring(2,10)}function z_(r,e){return{usr:r.state,key:r.key,idx:e}}function cu(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:n,key:e&&e.key||a||wA()}}function wa({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Na(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function SA(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function b(){m="POP";let j=_(),W=j==null?null:j-g;g=j,p&&p({action:m,location:$.location,delta:W})}function S(j,W){m="PUSH";let re=cu($.location,j,W);g=_()+1;let oe=z_(re,g),ge=$.createHref(re);try{h.pushState(oe,"",ge)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(ge)}u&&p&&p({action:m,location:$.location,delta:1})}function I(j,W){m="REPLACE";let re=cu($.location,j,W);g=_();let oe=z_(re,g),ge=$.createHref(re);h.replaceState(oe,"",ge),u&&p&&p({action:m,location:$.location,delta:0})}function V(j){let W=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof j=="string"?j:wa(j);return re=re.replace(/ $/,"%20"),We(W,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,W)}let $={get action(){return m},get location(){return r(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(U_,b),p=j,()=>{o.removeEventListener(U_,b),p=null}},createHref(j){return e(o,j)},createURL:V,encodeLocation(j){let W=V(j);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:S,replace:I,go(j){return h.go(j)}};return $}var Wl,j_=class{constructor(r){if(TA(this,Wl,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(pm(this,Wl).has(r))return pm(this,Wl).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){pm(this,Wl).set(r,e)}};Wl=new WeakMap;var B_=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","unstable_lazyMiddleware","children"]);function AA(r){return r.index===!0}function yh(r,e,n=[],a={}){return r.map((o,u)=>{let h=[...n,String(u)],m=typeof o.id=="string"?o.id:h.join("-");if(We(o.index!==!0||!o.children,"Cannot specify children on an index route"),We(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),AA(o)){let p={...o,...e(o),id:m};return a[m]=p,p}else{let p={...o,...e(o),id:m,children:void 0};return a[m]=p,o.children&&(p.children=yh(o.children,e,h,a)),p}})}function ha(r,e,n="/"){return ih(r,e,n,!1)}function ih(r,e,n,a){let o=typeof e=="string"?Na(e):e,u=fr(o.pathname||"/",n);if(u==null)return null;let h=q0(r);IA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=UA(u);m=LA(h[p],g,a)}return m}function RA(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function q0(r,e=[],n=[],a=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(We(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Qr([a,p.relativePath]),_=n.concat(p);u.children&&u.children.length>0&&(We(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),q0(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:VA(g,u.index),routesMeta:_})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of F0(u.path))o(u,h,p)}),e}function F0(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=F0(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function IA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:PA(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var CA=/^:[\w-]+$/,DA=3,OA=2,NA=1,MA=10,xA=-2,H_=r=>r==="*";function VA(r,e){let n=r.split("/"),a=n.length;return n.some(H_)&&(a+=xA),e&&(a+=OA),n.filter(o=>!H_(o)).reduce((o,u)=>o+(CA.test(u)?DA:u===""?NA:MA),a)}function PA(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function LA(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!b&&g&&n&&!a[a.length-1].route.index&&(b=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Qr([u,b.pathname]),pathnameBase:BA(Qr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=Qr([u,b.pathnameBase]))}return h}function vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=kA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:b},S)=>{if(_==="*"){let V=m[S]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const I=m[S];return b&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function kA(r,e=!1,n=!0){qt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function UA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function zA(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Na(r):r;return{pathname:n?n.startsWith("/")?n:jA(n,e):e,search:HA(a),hash:qA(o)}}function jA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G0(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hh(r){let e=G0(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function qh(r,e,n,a=!1){let o;typeof r=="string"?o=Na(r):(o={...r},We(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),We(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),We(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=zA(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Qr=r=>r.join("/").replace(/\/\/+/g,"/"),BA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),HA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,_h=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function hu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var K0=["POST","PUT","PATCH","DELETE"],FA=new Set(K0),GA=["GET",...K0],KA=new Set(GA),QA=new Set([301,302,303,307,308]),YA=new Set([307,308]),ym={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$A={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},lp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XA=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Q0="remix-router-transitions",Y0=Symbol("ResetLoaderData");function WA(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";We(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.mapRouteProperties||XA,o={},u=yh(r.routes,a,void 0,o),h,m=r.basename||"/",p=r.dataStrategy||iR,g={unstable_middleware:!1,...r.future},_=null,b=new Set,S=null,I=null,V=null,$=r.hydrationData!=null,j=ha(u,r.history.location,m),W=!1,re=null;if(j==null&&!r.patchRoutesOnNavigation){let x=ur(404,{pathname:r.history.location.pathname}),{matches:B,route:Y}=tE(u);j=B,re={[Y.id]:x}}j&&!r.hydrationData&&Or(j,u,r.history.location.pathname).active&&(j=null);let oe;if(j)if(j.some(x=>x.route.lazy))oe=!1;else if(!j.some(x=>x.route.loader))oe=!0;else{let x=r.hydrationData?r.hydrationData.loaderData:null,B=r.hydrationData?r.hydrationData.errors:null;if(B){let Y=j.findIndex(ee=>B[ee.route.id]!==void 0);oe=j.slice(0,Y+1).every(ee=>!xm(ee.route,x,B))}else oe=j.every(Y=>!xm(Y.route,x,B))}else{oe=!1,j=[];let x=Or(null,u,r.history.location.pathname);x.active&&x.matches&&(W=!0,j=x.matches)}let ge,k={historyAction:r.history.action,location:r.history.location,matches:j,initialized:oe,navigation:ym,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||re,fetchers:new Map,blockers:new Map},me="POP",O=!1,A,R=!1,N=new Map,L=null,U=!1,D=!1,Dt=new Set,ze=new Map,Z=0,de=-1,Te=new Map,je=new Set,M=new Map,se=new Map,ce=new Set,le=new Map,Ae,Le=null;function xe(){if(_=r.history.listen(({action:x,location:B,delta:Y})=>{if(Ae){Ae(),Ae=void 0;return}qt(le.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=Dr({currentLocation:k.location,nextLocation:B,historyAction:x});if(ee&&Y!=null){let ue=new Promise(ye=>{Ae=ye});r.history.go(Y*-1),dr(ee,{state:"blocked",location:B,proceed(){dr(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),ue.then(()=>r.history.go(Y))},reset(){let ye=new Map(k.blockers);ye.set(ee,Yl),wt({blockers:ye})}});return}return En(x,B)}),n){gR(e,N);let x=()=>yR(e,N);e.addEventListener("pagehide",x),L=()=>e.removeEventListener("pagehide",x)}return k.initialized||En("POP",k.location,{initialHydration:!0}),ge}function Lt(){_&&_(),L&&L(),b.clear(),A&&A.abort(),k.fetchers.forEach((x,B)=>rn(B)),k.blockers.forEach((x,B)=>Dn(B))}function gt(x){return b.add(x),()=>b.delete(x)}function wt(x,B={}){k={...k,...x};let Y=[],ee=[];k.fetchers.forEach((ue,ye)=>{ue.state==="idle"&&(ce.has(ye)?Y.push(ye):ee.push(ye))}),ce.forEach(ue=>{!k.fetchers.has(ue)&&!ze.has(ue)&&Y.push(ue)}),[...b].forEach(ue=>ue(k,{deletedFetchers:Y,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),Y.forEach(ue=>rn(ue)),ee.forEach(ue=>k.fetchers.delete(ue))}function _n(x,B,{flushSync:Y}={}){var pe,Se;let ee=k.actionData!=null&&k.navigation.formMethod!=null&&_r(k.navigation.formMethod)&&k.navigation.state==="loading"&&((pe=x.state)==null?void 0:pe._isRedirect)!==!0,ue;B.actionData?Object.keys(B.actionData).length>0?ue=B.actionData:ue=null:ee?ue=k.actionData:ue=null;let ye=B.loaderData?J_(k.loaderData,B.loaderData,B.matches||[],B.errors):k.loaderData,be=k.blockers;be.size>0&&(be=new Map(be),be.forEach((Ce,Be)=>be.set(Be,Yl)));let we=O===!0||k.navigation.formMethod!=null&&_r(k.navigation.formMethod)&&((Se=x.state)==null?void 0:Se._isRedirect)!==!0;h&&(u=h,h=void 0),U||me==="POP"||(me==="PUSH"?r.history.push(x,x.state):me==="REPLACE"&&r.history.replace(x,x.state));let Re;if(me==="POP"){let Ce=N.get(k.location.pathname);Ce&&Ce.has(x.pathname)?Re={currentLocation:k.location,nextLocation:x}:N.has(x.pathname)&&(Re={currentLocation:x,nextLocation:k.location})}else if(R){let Ce=N.get(k.location.pathname);Ce?Ce.add(x.pathname):(Ce=new Set([x.pathname]),N.set(k.location.pathname,Ce)),Re={currentLocation:k.location,nextLocation:x}}wt({...B,actionData:ue,loaderData:ye,historyAction:me,location:x,initialized:!0,navigation:ym,revalidation:"idle",restoreScrollPosition:Yn(x,B.matches||k.matches),preventScrollReset:we,blockers:be},{viewTransitionOpts:Re,flushSync:Y===!0}),me="POP",O=!1,R=!1,U=!1,D=!1,Le==null||Le.resolve(),Le=null}async function Qn(x,B){if(typeof x=="number"){r.history.go(x);return}let Y=Mm(k.location,k.matches,m,x,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:ee,submission:ue,error:ye}=q_(!1,Y,B),be=k.location,we=cu(k.location,ee,B&&B.state);we={...we,...r.history.encodeLocation(we)};let Re=B&&B.replace!=null?B.replace:void 0,pe="PUSH";Re===!0?pe="REPLACE":Re===!1||ue!=null&&_r(ue.formMethod)&&ue.formAction===k.location.pathname+k.location.search&&(pe="REPLACE");let Se=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,Ce=(B&&B.flushSync)===!0,Be=Dr({currentLocation:be,nextLocation:we,historyAction:pe});if(Be){dr(Be,{state:"blocked",location:we,proceed(){dr(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Qn(x,B)},reset(){let ot=new Map(k.blockers);ot.set(Be,Yl),wt({blockers:ot})}});return}await En(pe,we,{submission:ue,pendingError:ye,preventScrollReset:Se,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:Ce})}function ei(){Le||(Le=vR()),ii(),wt({revalidation:"loading"});let x=Le.promise;return k.navigation.state==="submitting"?x:k.navigation.state==="idle"?(En(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),x):(En(me||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:R===!0}),x)}async function En(x,B,Y){A&&A.abort(),A=null,me=x,U=(Y&&Y.startUninterruptedRevalidation)===!0,mr(k.location,k.matches),O=(Y&&Y.preventScrollReset)===!0,R=(Y&&Y.enableViewTransition)===!0;let ee=h||u,ue=Y&&Y.overrideNavigation,ye=Y!=null&&Y.initialHydration&&k.matches&&k.matches.length>0&&!W?k.matches:ha(ee,B,m),be=(Y&&Y.flushSync)===!0;if(ye&&k.initialized&&!D&&hR(k.location,B)&&!(Y&&Y.submission&&_r(Y.submission.formMethod))){_n(B,{matches:ye},{flushSync:be});return}let we=Or(ye,ee,B.pathname);if(we.active&&we.matches&&(ye=we.matches),!ye){let{error:ut,notFoundMatches:Ke,route:He}=si(B.pathname);_n(B,{matches:Ke,loaderData:{},errors:{[He.id]:ut}},{flushSync:be});return}A=new AbortController;let Re=_o(r.history,B,A.signal,Y&&Y.submission),pe=new j_(r.unstable_getContext?await r.unstable_getContext():void 0),Se;if(Y&&Y.pendingError)Se=[ms(ye).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&_r(Y.submission.formMethod)){let ut=await ti(Re,B,Y.submission,ye,pe,we.active,{replace:Y.replace,flushSync:be});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[Ke,He]=ut.pendingActionResult;if(Kn(He)&&hu(He.error)&&He.error.status===404){A=null,_n(B,{matches:ut.matches,loaderData:{},errors:{[Ke]:He.error}});return}}ye=ut.matches||ye,Se=ut.pendingActionResult,ue=vm(B,Y.submission),be=!1,we.active=!1,Re=_o(r.history,Re.url,Re.signal)}let{shortCircuited:Ce,matches:Be,loaderData:ot,errors:Tt}=await Pa(Re,B,ye,pe,we.active,ue,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,be,Se);Ce||(A=null,_n(B,{matches:Be||ye,...eE(Se),loaderData:ot,errors:Tt}))}async function ti(x,B,Y,ee,ue,ye,be={}){ii();let we=mR(B,Y);if(wt({navigation:we},{flushSync:be.flushSync===!0}),ye){let Se=await bn(ee,B.pathname,x.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let Ce=ms(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[Ce,{type:"error",error:Se.error}]}}else if(Se.matches)ee=Se.matches;else{let{notFoundMatches:Ce,error:Be,route:ot}=si(B.pathname);return{matches:Ce,pendingActionResult:[ot.id,{type:"error",error:Be}]}}}let Re,pe=Zl(ee,B);if(!pe.route.action&&!pe.route.lazy)Re={type:"error",error:ur(405,{method:x.method,pathname:B.pathname,routeId:pe.route.id})};else{let Se=await ni("action",x,[pe],ee,ue,null);if(Re=Se[pe.route.id],!Re){for(let Ce of ee)if(Se[Ce.route.id]){Re=Se[Ce.route.id];break}}if(x.signal.aborted)return{shortCircuited:!0}}if(ps(Re)){let Se;return be&&be.replace!=null?Se=be.replace:Se=X_(Re.response.headers.get("Location"),new URL(x.url),m)===k.location.pathname+k.location.search,await Tn(x,Re,!0,{submission:Y,replace:Se}),{shortCircuited:!0}}if(Kn(Re)){let Se=ms(ee,pe.route.id);return(be&&be.replace)!==!0&&(me="PUSH"),{matches:ee,pendingActionResult:[Se.route.id,Re]}}return{matches:ee,pendingActionResult:[pe.route.id,Re]}}async function Pa(x,B,Y,ee,ue,ye,be,we,Re,pe,Se,Ce){let Be=ye||vm(B,be),ot=be||we||rE(Be),Tt=!U&&!pe;if(ue){if(Tt){let et=La(Ce);wt({navigation:Be,...et!==void 0?{actionData:et}:{}},{flushSync:Se})}let Ye=await bn(Y,B.pathname,x.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let et=ms(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[et]:Ye.error}}}else if(Ye.matches)Y=Ye.matches;else{let{error:et,notFoundMatches:Wn,route:xr}=si(B.pathname);return{matches:Wn,loaderData:{},errors:{[xr.id]:et}}}}let ut=h||u,[Ke,He]=G_(r.history,k,Y,ot,B,pe===!0,D,Dt,ce,M,je,ut,m,Ce);if(de=++Z,Ke.length===0&&He.length===0){let Ye=Ir();return _n(B,{matches:Y,loaderData:{},errors:Ce&&Kn(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...eE(Ce),...Ye?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Se}),{shortCircuited:!0}}if(Tt){let Ye={};if(!ue){Ye.navigation=Be;let et=La(Ce);et!==void 0&&(Ye.actionData=et)}He.length>0&&(Ye.fetchers=Cn(He)),wt(Ye,{flushSync:Se})}He.forEach(Ye=>{Pn(Ye.key),Ye.controller&&ze.set(Ye.key,Ye.controller)});let $n=()=>He.forEach(Ye=>Pn(Ye.key));A&&A.signal.addEventListener("abort",$n);let{loaderResults:Xn,fetcherResults:Mt}=await ri(Y,Ke,He,x,ee);if(x.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",$n),He.forEach(Ye=>ze.delete(Ye.key));let kt=Xc(Xn);if(kt)return await Tn(x,kt.result,!0,{replace:Re}),{shortCircuited:!0};if(kt=Xc(Mt),kt)return je.add(kt.key),await Tn(x,kt.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:zi,errors:Mr}=Z_(k,Y,Xn,Ce,He,Mt);pe&&k.errors&&(Mr={...k.errors,...Mr});let wn=Ir(),oi=Cr(de),Ln=wn||oi||He.length>0;return{matches:Y,loaderData:zi,errors:Mr,...Ln?{fetchers:new Map(k.fetchers)}:{}}}function La(x){if(x&&!Kn(x[1]))return{[x[0]]:x[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Cn(x){return x.forEach(B=>{let Y=k.fetchers.get(B.key),ee=$l(void 0,Y?Y.data:void 0);k.fetchers.set(B.key,ee)}),new Map(k.fetchers)}async function Qo(x,B,Y,ee){Pn(x);let ue=(ee&&ee.flushSync)===!0,ye=h||u,be=Mm(k.location,k.matches,m,Y,B,ee==null?void 0:ee.relative),we=ha(ye,be,m),Re=Or(we,ye,be);if(Re.active&&Re.matches&&(we=Re.matches),!we){at(x,B,ur(404,{pathname:be}),{flushSync:ue});return}let{path:pe,submission:Se,error:Ce}=q_(!0,be,ee);if(Ce){at(x,B,Ce,{flushSync:ue});return}let Be=Zl(we,pe),ot=new j_(r.unstable_getContext?await r.unstable_getContext():void 0),Tt=(ee&&ee.preventScrollReset)===!0;if(Se&&_r(Se.formMethod)){await ka(x,B,pe,Be,we,ot,Re.active,ue,Tt,Se);return}M.set(x,{routeId:B,path:pe}),await ki(x,B,pe,Be,we,ot,Re.active,ue,Tt,Se)}async function ka(x,B,Y,ee,ue,ye,be,we,Re,pe){ii(),M.delete(x);function Se(ht){if(!ht.route.action&&!ht.route.lazy){let kn=ur(405,{method:pe.formMethod,pathname:Y,routeId:B});return at(x,B,kn,{flushSync:we}),!0}return!1}if(!be&&Se(ee))return;let Ce=k.fetchers.get(x);Vn(x,pR(pe,Ce),{flushSync:we});let Be=new AbortController,ot=_o(r.history,Y,Be.signal,pe);if(be){let ht=await bn(ue,Y,ot.signal,x);if(ht.type==="aborted")return;if(ht.type==="error"){at(x,B,ht.error,{flushSync:we});return}else if(ht.matches){if(ue=ht.matches,ee=Zl(ue,Y),Se(ee))return}else{at(x,B,ur(404,{pathname:Y}),{flushSync:we});return}}ze.set(x,Be);let Tt=Z,Ke=(await ni("action",ot,[ee],ue,ye,x))[ee.route.id];if(ot.signal.aborted){ze.get(x)===Be&&ze.delete(x);return}if(ce.has(x)){if(ps(Ke)||Kn(Ke)){Vn(x,ca(void 0));return}}else{if(ps(Ke))if(ze.delete(x),de>Tt){Vn(x,ca(void 0));return}else return je.add(x),Vn(x,$l(pe)),Tn(ot,Ke,!1,{fetcherSubmission:pe,preventScrollReset:Re});if(Kn(Ke)){at(x,B,Ke.error);return}}let He=k.navigation.location||k.location,$n=_o(r.history,He,Be.signal),Xn=h||u,Mt=k.navigation.state!=="idle"?ha(Xn,k.navigation.location,m):k.matches;We(Mt,"Didn't find any matches after fetcher action");let kt=++Z;Te.set(x,kt);let zi=$l(pe,Ke.data);k.fetchers.set(x,zi);let[Mr,wn]=G_(r.history,k,Mt,pe,He,!1,D,Dt,ce,M,je,Xn,m,[ee.route.id,Ke]);wn.filter(ht=>ht.key!==x).forEach(ht=>{let kn=ht.key,li=k.fetchers.get(kn),ja=$l(void 0,li?li.data:void 0);k.fetchers.set(kn,ja),Pn(kn),ht.controller&&ze.set(kn,ht.controller)}),wt({fetchers:new Map(k.fetchers)});let oi=()=>wn.forEach(ht=>Pn(ht.key));Be.signal.addEventListener("abort",oi);let{loaderResults:Ln,fetcherResults:Ye}=await ri(Mt,Mr,wn,$n,ye);if(Be.signal.aborted)return;Be.signal.removeEventListener("abort",oi),Te.delete(x),ze.delete(x),wn.forEach(ht=>ze.delete(ht.key));let et=Xc(Ln);if(et)return Tn($n,et.result,!1,{preventScrollReset:Re});if(et=Xc(Ye),et)return je.add(et.key),Tn($n,et.result,!1,{preventScrollReset:Re});let{loaderData:Wn,errors:xr}=Z_(k,Mt,Ln,void 0,wn,Ye);if(k.fetchers.has(x)){let ht=ca(Ke.data);k.fetchers.set(x,ht)}Cr(kt),k.navigation.state==="loading"&&kt>de?(We(me,"Expected pending action"),A&&A.abort(),_n(k.navigation.location,{matches:Mt,loaderData:Wn,errors:xr,fetchers:new Map(k.fetchers)})):(wt({errors:xr,loaderData:J_(k.loaderData,Wn,Mt,xr),fetchers:new Map(k.fetchers)}),D=!1)}async function ki(x,B,Y,ee,ue,ye,be,we,Re,pe){let Se=k.fetchers.get(x);Vn(x,$l(pe,Se?Se.data:void 0),{flushSync:we});let Ce=new AbortController,Be=_o(r.history,Y,Ce.signal);if(be){let Ke=await bn(ue,Y,Be.signal,x);if(Ke.type==="aborted")return;if(Ke.type==="error"){at(x,B,Ke.error,{flushSync:we});return}else if(Ke.matches)ue=Ke.matches,ee=Zl(ue,Y);else{at(x,B,ur(404,{pathname:Y}),{flushSync:we});return}}ze.set(x,Ce);let ot=Z,ut=(await ni("loader",Be,[ee],ue,ye,x))[ee.route.id];if(ze.get(x)===Ce&&ze.delete(x),!Be.signal.aborted){if(ce.has(x)){Vn(x,ca(void 0));return}if(ps(ut))if(de>ot){Vn(x,ca(void 0));return}else{je.add(x),await Tn(Be,ut,!1,{preventScrollReset:Re});return}if(Kn(ut)){at(x,B,ut.error);return}Vn(x,ca(ut.data))}}async function Tn(x,B,Y,{submission:ee,fetcherSubmission:ue,preventScrollReset:ye,replace:be}={}){B.response.headers.has("X-Remix-Revalidate")&&(D=!0);let we=B.response.headers.get("Location");We(we,"Expected a Location header on the redirect Response"),we=X_(we,new URL(x.url),m);let Re=cu(k.location,we,{_isRedirect:!0});if(n){let Tt=!1;if(B.response.headers.has("X-Remix-Reload-Document"))Tt=!0;else if(lp.test(we)){const ut=r.history.createURL(we);Tt=ut.origin!==e.location.origin||fr(ut.pathname,m)==null}if(Tt){be?e.location.replace(we):e.location.assign(we);return}}A=null;let pe=be===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Se,formAction:Ce,formEncType:Be}=k.navigation;!ee&&!ue&&Se&&Ce&&Be&&(ee=rE(k.navigation));let ot=ee||ue;if(YA.has(B.response.status)&&ot&&_r(ot.formMethod))await En(pe,Re,{submission:{...ot,formAction:we},preventScrollReset:ye||O,enableViewTransition:Y?R:void 0});else{let Tt=vm(Re,ee);await En(pe,Re,{overrideNavigation:Tt,fetcherSubmission:ue,preventScrollReset:ye||O,enableViewTransition:Y?R:void 0})}}async function ni(x,B,Y,ee,ue,ye){let be,we={};try{be=await sR(p,x,B,Y,ee,ye,o,a,ue)}catch(Re){return Y.forEach(pe=>{we[pe.route.id]={type:"error",error:Re}}),we}for(let[Re,pe]of Object.entries(be))if(fR(pe)){let Se=pe.result;we[Re]={type:"redirect",response:uR(Se,B,Re,ee,m)}}else we[Re]=await lR(pe);return we}async function ri(x,B,Y,ee,ue){let ye=ni("loader",ee,B,x,ue,null),be=Promise.all(Y.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let Ce=(await ni("loader",_o(r.history,pe.path,pe.controller.signal),[pe.match],pe.matches,ue,pe.key))[pe.match.route.id];return{[pe.key]:Ce}}else return Promise.resolve({[pe.key]:{type:"error",error:ur(404,{pathname:pe.path})}})})),we=await ye,Re=(await be).reduce((pe,Se)=>Object.assign(pe,Se),{});return{loaderResults:we,fetcherResults:Re}}function ii(){D=!0,M.forEach((x,B)=>{ze.has(B)&&Dt.add(B),Pn(B)})}function Vn(x,B,Y={}){k.fetchers.set(x,B),wt({fetchers:new Map(k.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function at(x,B,Y,ee={}){let ue=ms(k.matches,B);rn(x),wt({errors:{[ue.route.id]:Y},fetchers:new Map(k.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function st(x){return se.set(x,(se.get(x)||0)+1),ce.has(x)&&ce.delete(x),k.fetchers.get(x)||$A}function rn(x){let B=k.fetchers.get(x);ze.has(x)&&!(B&&B.state==="loading"&&Te.has(x))&&Pn(x),M.delete(x),Te.delete(x),je.delete(x),ce.delete(x),Dt.delete(x),k.fetchers.delete(x)}function Xt(x){let B=(se.get(x)||0)-1;B<=0?(se.delete(x),ce.add(x)):se.set(x,B),wt({fetchers:new Map(k.fetchers)})}function Pn(x){let B=ze.get(x);B&&(B.abort(),ze.delete(x))}function Ms(x){for(let B of x){let Y=st(B),ee=ca(Y.data);k.fetchers.set(B,ee)}}function Ir(){let x=[],B=!1;for(let Y of je){let ee=k.fetchers.get(Y);We(ee,`Expected fetcher: ${Y}`),ee.state==="loading"&&(je.delete(Y),x.push(Y),B=!0)}return Ms(x),B}function Cr(x){let B=[];for(let[Y,ee]of Te)if(ee<x){let ue=k.fetchers.get(Y);We(ue,`Expected fetcher: ${Y}`),ue.state==="loading"&&(Pn(Y),Te.delete(Y),B.push(Y))}return Ms(B),B.length>0}function ai(x,B){let Y=k.blockers.get(x)||Yl;return le.get(x)!==B&&le.set(x,B),Y}function Dn(x){k.blockers.delete(x),le.delete(x)}function dr(x,B){let Y=k.blockers.get(x)||Yl;We(Y.state==="unblocked"&&B.state==="blocked"||Y.state==="blocked"&&B.state==="blocked"||Y.state==="blocked"&&B.state==="proceeding"||Y.state==="blocked"&&B.state==="unblocked"||Y.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${B.state}`);let ee=new Map(k.blockers);ee.set(x,B),wt({blockers:ee})}function Dr({currentLocation:x,nextLocation:B,historyAction:Y}){if(le.size===0)return;le.size>1&&qt(!1,"A router only supports one blocker at a time");let ee=Array.from(le.entries()),[ue,ye]=ee[ee.length-1],be=k.blockers.get(ue);if(!(be&&be.state==="proceeding")&&ye({currentLocation:x,nextLocation:B,historyAction:Y}))return ue}function si(x){let B=ur(404,{pathname:x}),Y=h||u,{matches:ee,route:ue}=tE(Y);return{notFoundMatches:ee,route:ue,error:B}}function Ua(x,B,Y){if(S=x,V=B,I=Y||null,!$&&k.navigation===ym){$=!0;let ee=Yn(k.location,k.matches);ee!=null&&wt({restoreScrollPosition:ee})}return()=>{S=null,V=null,I=null}}function Ui(x,B){return I&&I(x,B.map(ee=>RA(ee,k.loaderData)))||x.key}function mr(x,B){if(S&&V){let Y=Ui(x,B);S[Y]=V()}}function Yn(x,B){if(S){let Y=Ui(x,B),ee=S[Y];if(typeof ee=="number")return ee}return null}function Or(x,B,Y){if(r.patchRoutesOnNavigation)if(x){if(Object.keys(x[0].params).length>0)return{active:!0,matches:ih(B,Y,m,!0)}}else return{active:!0,matches:ih(B,Y,m,!0)||[]};return{active:!1,matches:null}}async function bn(x,B,Y,ee){if(!r.patchRoutesOnNavigation)return{type:"success",matches:x};let ue=x;for(;;){let ye=h==null,be=h||u,we=o;try{await r.patchRoutesOnNavigation({signal:Y,path:B,matches:ue,fetcherKey:ee,patch:(Se,Ce)=>{Y.aborted||Q_(Se,Ce,be,we,a)}})}catch(Se){return{type:"error",error:Se,partialMatches:ue}}finally{ye&&!Y.aborted&&(u=[...u])}if(Y.aborted)return{type:"aborted"};let Re=ha(be,B,m);if(Re)return{type:"success",matches:Re};let pe=ih(be,B,m,!0);if(!pe||ue.length===pe.length&&ue.every((Se,Ce)=>Se.route.id===pe[Ce].route.id))return{type:"success",matches:null};ue=pe}}function za(x){o={},h=yh(x,a,void 0,o)}function Nr(x,B){let Y=h==null;Q_(x,B,h||u,o,a),Y&&(u=[...u],wt({}))}return ge={get basename(){return m},get future(){return g},get state(){return k},get routes(){return u},get window(){return e},initialize:xe,subscribe:gt,enableScrollRestoration:Ua,navigate:Qn,fetch:Qo,revalidate:ei,createHref:x=>r.history.createHref(x),encodeLocation:x=>r.history.encodeLocation(x),getFetcher:st,deleteFetcher:Xt,dispose:Lt,getBlocker:ai,deleteBlocker:Dn,patchRoutes:Nr,_internalFetchControllers:ze,_internalSetRoutes:za},ge}function ZA(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Mm(r,e,n,a,o,u){let h,m;if(o){h=[];for(let g of e)if(h.push(g),g.route.id===o){m=g;break}}else h=e,m=e[e.length-1];let p=qh(a||".",Hh(h),fr(r.pathname,n)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&m){let g=up(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let _=new URLSearchParams(p.search),b=_.getAll("index");_.delete("index"),b.filter(I=>I).forEach(I=>_.append("index",I));let S=_.toString();p.search=S?`?${S}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:Qr([n,p.pathname])),wa(p)}function q_(r,e,n){if(!n||!ZA(n))return{path:e};if(n.formMethod&&!dR(n.formMethod))return{path:e,error:ur(405,{method:n.formMethod})};let a=()=>({path:e,error:ur(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=W0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!_r(u))return a();let b=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[I,V])=>`${S}${I}=${V}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:b}}}else if(n.formEncType==="application/json"){if(!_r(u))return a();try{let b=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:b,text:void 0}}}catch{return a()}}}We(typeof FormData=="function","FormData is not available in this environment");let m,p;if(n.formData)m=Vm(n.formData),p=n.formData;else if(n.body instanceof FormData)m=Vm(n.body),p=n.body;else if(n.body instanceof URLSearchParams)m=n.body,p=W_(m);else if(n.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(n.body),p=W_(m)}catch{return a()}let g={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(_r(g.formMethod))return{path:e,submission:g};let _=Na(e);return r&&_.search&&up(_.search)&&m.append("index",""),_.search=`?${m}`,{path:wa(_),submission:g}}function F_(r,e,n=!1){let a=r.findIndex(o=>o.route.id===e);return a>=0?r.slice(0,n?a+1:a):r}function G_(r,e,n,a,o,u,h,m,p,g,_,b,S,I){let V=I?Kn(I[1])?I[1].error:I[1].data:void 0,$=r.createURL(e.location),j=r.createURL(o),W=n;u&&e.errors?W=F_(n,Object.keys(e.errors)[0],!0):I&&Kn(I[1])&&(W=F_(n,I[0]));let re=I?I[1].statusCode:void 0,oe=re&&re>=400,ge=W.filter((me,O)=>{let{route:A}=me;if(A.lazy)return!0;if(A.loader==null)return!1;if(u)return xm(A,e.loaderData,e.errors);if(JA(e.loaderData,e.matches[O],me))return!0;let R=e.matches[O],N=me;return K_(me,{currentUrl:$,currentParams:R.params,nextUrl:j,nextParams:N.params,...a,actionResult:V,actionStatus:re,defaultShouldRevalidate:oe?!1:h||$.pathname+$.search===j.pathname+j.search||$.search!==j.search||eR(R,N)})}),k=[];return g.forEach((me,O)=>{if(u||!n.some(U=>U.route.id===me.routeId)||p.has(O))return;let A=ha(b,me.path,S);if(!A){k.push({key:O,routeId:me.routeId,path:me.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(O),N=Zl(A,me.path),L=!1;_.has(O)?L=!1:m.has(O)?(m.delete(O),L=!0):R&&R.state!=="idle"&&R.data===void 0?L=h:L=K_(N,{currentUrl:$,currentParams:e.matches[e.matches.length-1].params,nextUrl:j,nextParams:n[n.length-1].params,...a,actionResult:V,actionStatus:re,defaultShouldRevalidate:oe?!1:h}),L&&k.push({key:O,routeId:me.routeId,path:me.path,matches:A,match:N,controller:new AbortController})}),[ge,k]}function xm(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&e[r.id]!==void 0,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function JA(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function eR(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function K_(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Q_(r,e,n,a,o){let u;if(r){let p=a[r];We(p,`No route found to patch children into: routeId = ${r}`),p.children||(p.children=[]),u=p.children}else u=n;let h=e.filter(p=>!u.some(g=>$0(p,g))),m=yh(h,o,[r||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...m)}function $0(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>$0(n,u))}):!1}var Y_=new WeakMap;async function tR(r,e,n){let a=n[r.id];if(We(a,"No route found in manifest"),!r.lazy)return;let o=Y_.get(a);if(o){await o;return}let u=r.lazy().then(h=>{let m={};for(let p in h){let _=a[p]!==void 0&&p!=="hasErrorBoundary";qt(!_,`Route "${a.id}" has a static property "${p}" defined but its lazy function is also returning a value for this property. The lazy route property "${p}" will be ignored.`),qt(!B_.has(p),"Route property "+p+" is not a supported property to be returned from a lazy route function. This property will be ignored."),!_&&!B_.has(p)&&(m[p]=h[p])}Object.assign(a,m),Object.assign(a,{...e(a),lazy:void 0})});Y_.set(a,u),await u}async function nR(r,e){if(!r.unstable_lazyMiddleware)return;let n=e[r.id];if(We(n,"No route found in manifest"),n.unstable_middleware)qt(!1,`Route "${n.id}" has a static property "unstable_middleware" defined. The "unstable_lazyMiddleware" function will be ignored.`);else{let a=await r.unstable_lazyMiddleware();if(!r.unstable_lazyMiddleware)return;n.unstable_middleware||(n.unstable_middleware=a)}n.unstable_lazyMiddleware=void 0}function rR(r,e){let n=r.map(a=>a.route.unstable_lazyMiddleware?nR(a.route,e):void 0).filter(Boolean);return n.length>0?Promise.all(n):void 0}async function $_(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function iR(r){return r.matches.some(e=>e.route.unstable_middleware)?aR(r,!1,()=>$_(r),(e,n)=>({[n]:{type:"error",result:e}})):$_(r)}async function aR(r,e,n,a){let{matches:o,request:u,params:h,context:m}=r,p={handlerResult:void 0};try{let g=o.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(S=>[b.route.id,S]):[]),_=await X0({request:u,params:h,context:m},g,e,p,n);return e?_:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let _=await a(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,_):_}}async function X0(r,e,n,a,o,u=0){let{request:h}=r;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let m=e[u];if(!m)return a.handlerResult=await o(),a.handlerResult;let[p,g]=m,_=!1,b,S=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0,await X0(r,e,n,a,o,u+1)};try{let I=await g({request:r.request,params:r.params,context:r.context},S);return _?I===void 0?b:I:S()}catch(I){throw a.middlewareError?a.middlewareError.error!==I&&(a.middlewareError={routeId:p,error:I}):a.middlewareError={routeId:p,error:I},I}}async function sR(r,e,n,a,o,u,h,m,p){let g=rR(o,h),_=o.map(I=>I.route.lazy?tR(I.route,m,h):void 0);g&&await g;let b=o.map((I,V)=>{let $=_[V],j=a.some(re=>re.route.id===I.route.id);return{...I,shouldLoad:j,resolve:async re=>(re&&n.method==="GET"&&(I.route.lazy||I.route.loader)&&(j=!0),j?oR(e,n,I,$,re,p):Promise.resolve({type:"data",result:void 0}))}}),S=await r({matches:b,request:n,params:o[0].params,fetcherKey:u,context:p});try{await Promise.all(_)}catch{}return S}async function oR(r,e,n,a,o,u){let h,m,p=g=>{let _,b=new Promise((V,$)=>_=$);m=()=>_(),e.signal.addEventListener("abort",m);let S=V=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${n.route.id}]`)):g({request:e,params:n.params,context:u},...V!==void 0?[V]:[]),I=(async()=>{try{return{type:"data",result:await(o?o($=>S($)):S())}}catch(V){return{type:"error",result:V}}})();return Promise.race([I,b])};try{let g=n.route[r];if(a)if(g){let _,[b]=await Promise.all([p(g).catch(S=>{_=S}),a]);if(_!==void 0)throw _;h=b}else if(await a,g=n.route[r],g)h=await p(g);else if(r==="action"){let _=new URL(e.url),b=_.pathname+_.search;throw ur(405,{method:e.method,pathname:b,routeId:n.route.id})}else return{type:"data",result:void 0};else if(g)h=await p(g);else{let _=new URL(e.url),b=_.pathname+_.search;throw ur(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{m&&e.signal.removeEventListener("abort",m)}return h}async function lR(r){var a,o,u,h,m,p;let{result:e,type:n}=r;if(Z0(e)){let g;try{let _=e.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(_){return{type:"error",error:_}}return n==="error"?{type:"error",error:new _h(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return n==="error"?nE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new _h(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:hu(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:hu(e)?e.status:void 0}:nE(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function uR(r,e,n,a,o){let u=r.headers.get("Location");if(We(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!lp.test(u)){let h=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=Mm(new URL(e.url),h,o,u),r.headers.set("Location",u)}return r}function X_(r,e,n){if(lp.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=fr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function _o(r,e,n,a){let o=r.createURL(W0(e)).toString(),u={signal:n};if(a&&_r(a.formMethod)){let{formMethod:h,formEncType:m}=a;u.method=h.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=Vm(a.formData):u.body=a.formData}return new Request(o,u)}function Vm(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function W_(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function cR(r,e,n,a=!1,o=!1){let u={},h=null,m,p=!1,g={},_=n&&Kn(n[1])?n[1].error:void 0;return r.forEach(b=>{if(!(b.route.id in e))return;let S=b.route.id,I=e[S];if(We(!ps(I),"Cannot handle redirect results in processLoaderData"),Kn(I)){let V=I.error;if(_!==void 0&&(V=_,_=void 0),h=h||{},o)h[S]=V;else{let $=ms(r,S);h[$.route.id]==null&&(h[$.route.id]=V)}a||(u[S]=Y0),p||(p=!0,m=hu(I.error)?I.error.status:500),I.headers&&(g[S]=I.headers)}else u[S]=I.data,I.statusCode&&I.statusCode!==200&&!p&&(m=I.statusCode),I.headers&&(g[S]=I.headers)}),_!==void 0&&n&&(h={[n[0]]:_},u[n[0]]=void 0),{loaderData:u,errors:h,statusCode:m||200,loaderHeaders:g}}function Z_(r,e,n,a,o,u){let{loaderData:h,errors:m}=cR(e,n,a);return o.forEach(p=>{let{key:g,match:_,controller:b}=p,S=u[g];if(We(S,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Kn(S)){let I=ms(r.matches,_==null?void 0:_.route.id);m&&m[I.route.id]||(m={...m,[I.route.id]:S.error}),r.fetchers.delete(g)}else if(ps(S))We(!1,"Unhandled fetcher revalidation redirect");else{let I=ca(S.data);r.fetchers.set(g,I)}}),{loaderData:h,errors:m}}function J_(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==Y0).reduce((u,[h,m])=>(u[h]=m,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&u.route.loader&&(o[h]=r[h]),a&&a.hasOwnProperty(h))break}return o}function eE(r){return r?Kn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function ms(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function tE(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let h="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(h="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(h="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(h="Not Found",m=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new _h(r||500,h,new Error(m),!0)}function Xc(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(ps(o))return{key:a,result:o}}}function W0(r){let e=typeof r=="string"?Na(r):r;return wa({...e,hash:""})}function hR(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function fR(r){return Z0(r.result)&&QA.has(r.result.status)}function Kn(r){return r.type==="error"}function ps(r){return(r&&r.type)==="redirect"}function nE(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function Z0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function dR(r){return KA.has(r.toUpperCase())}function _r(r){return FA.has(r.toUpperCase())}function up(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Zl(r,e){let n=typeof e=="string"?Na(e).search:e.search;if(r[r.length-1].route.index&&up(n||""))return r[r.length-1];let a=G0(r);return a[a.length-1]}function rE(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:h}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:h,text:void 0}}}function vm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mR(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $l(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function pR(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function ca(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function gR(r,e){try{let n=r.sessionStorage.getItem(Q0);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function yR(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(Q0,JSON.stringify(n))}catch(a){qt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function vR(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Rs=K.createContext(null);Rs.displayName="DataRouter";var wu=K.createContext(null);wu.displayName="DataRouterState";var cp=K.createContext({isTransitioning:!1});cp.displayName="ViewTransition";var J0=K.createContext(new Map);J0.displayName="Fetchers";var _R=K.createContext(null);_R.displayName="Await";var Rr=K.createContext(null);Rr.displayName="Navigation";var Fh=K.createContext(null);Fh.displayName="Location";var Jr=K.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var hp=K.createContext(null);hp.displayName="RouteError";function ER(r,{relative:e}={}){We(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=K.useContext(Rr),{hash:o,pathname:u,search:h}=Su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Qr([n,u])),a.createHref({pathname:m,search:h,hash:o})}function Uo(){return K.useContext(Fh)!=null}function Ma(){return We(Uo(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Fh).location}var eT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tT(r){K.useContext(Rr).static||K.useLayoutEffect(r)}function fp(){let{isDataRoute:r}=K.useContext(Jr);return r?xR():TR()}function TR(){We(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Rs),{basename:e,navigator:n}=K.useContext(Rr),{matches:a}=K.useContext(Jr),{pathname:o}=Ma(),u=JSON.stringify(Hh(a)),h=K.useRef(!1);return tT(()=>{h.current=!0}),K.useCallback((p,g={})=>{if(qt(h.current,eT),!h.current)return;if(typeof p=="number"){n.go(p);return}let _=qh(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Qr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,r])}K.createContext(null);function Su(r,{relative:e}={}){let{matches:n}=K.useContext(Jr),{pathname:a}=Ma(),o=JSON.stringify(Hh(n));return K.useMemo(()=>qh(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function bR(r,e,n,a){We(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(Rr),{matches:h}=K.useContext(Jr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",b=m&&m.route;{let re=b&&b.path||"";nT(g,!b||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let S=Ma(),I;I=S;let V=I.pathname||"/",$=V;if(_!=="/"){let re=_.replace(/^\//,"").split("/");$="/"+V.replace(/^\//,"").split("/").slice(re.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:ha(r,{pathname:$});return qt(b||j!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),qt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),IR(j&&j.map(re=>Object.assign({},re,{params:Object.assign({},p,re.params),pathname:Qr([_,o.encodeLocation?o.encodeLocation(re.pathname).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?_:Qr([_,o.encodeLocation?o.encodeLocation(re.pathnameBase).pathname:re.pathnameBase])})),h,n,a)}function wR(){let r=MR(),e=hu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,h)}var SR=K.createElement(wR,null),AR=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(Jr.Provider,{value:this.props.routeContext},K.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RR({routeContext:r,match:e,children:n}){let a=K.useContext(Rs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Jr.Provider,{value:r},n)}function IR(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);We(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:b}=n,S=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let b,S=!1,I=null,V=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||SR,h&&(m<0&&_===0?(nT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):m===_&&(S=!0,V=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,_+1)),j=()=>{let W;return b?W=I:S?W=V:g.route.Component?W=K.createElement(g.route.Component,null):g.route.element?W=g.route.element:W=p,K.createElement(RR,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:W})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?K.createElement(AR,{location:n.location,revalidation:n.revalidation,component:I,error:b,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function dp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CR(r){let e=K.useContext(Rs);return We(e,dp(r)),e}function DR(r){let e=K.useContext(wu);return We(e,dp(r)),e}function OR(r){let e=K.useContext(Jr);return We(e,dp(r)),e}function mp(r){let e=OR(r),n=e.matches[e.matches.length-1];return We(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function NR(){return mp("useRouteId")}function MR(){var a;let r=K.useContext(hp),e=DR("useRouteError"),n=mp("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function xR(){let{router:r}=CR("useNavigate"),e=mp("useNavigate"),n=K.useRef(!1);return tT(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{qt(n.current,eT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var iE={};function nT(r,e,n){!e&&!iE[r]&&(iE[r]=!0,qt(!1,n))}var aE={};function sE(r,e){!r&&!aE[e]&&(aE[e]=!0,console.warn(e))}function VR(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:K.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:K.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:K.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var PR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function LR({router:r,flushSync:e}){let[n,a]=K.useState(r.state),[o,u]=K.useState(),[h,m]=K.useState({isTransitioning:!1}),[p,g]=K.useState(),[_,b]=K.useState(),[S,I]=K.useState(),V=K.useRef(new Map),$=K.useCallback((oe,{deletedFetchers:ge,flushSync:k,viewTransitionOpts:me})=>{oe.fetchers.forEach((A,R)=>{A.data!==void 0&&V.current.set(R,A.data)}),ge.forEach(A=>V.current.delete(A)),sE(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(sE(me==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!me||!O){e&&k?e(()=>a(oe)):K.startTransition(()=>a(oe));return}if(e&&k){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:me.currentLocation,nextLocation:me.nextLocation})});let A=r.window.document.startViewTransition(()=>{e(()=>a(oe))});A.finished.finally(()=>{e(()=>{g(void 0),b(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>b(A));return}_?(p&&p.resolve(),_.skipTransition(),I({state:oe,currentLocation:me.currentLocation,nextLocation:me.nextLocation})):(u(oe),m({isTransitioning:!0,flushSync:!1,currentLocation:me.currentLocation,nextLocation:me.nextLocation}))},[r.window,e,_,p]);K.useLayoutEffect(()=>r.subscribe($),[r,$]),K.useEffect(()=>{h.isTransitioning&&!h.flushSync&&g(new PR)},[h]),K.useEffect(()=>{if(p&&o&&r.window){let oe=o,ge=p.promise,k=r.window.document.startViewTransition(async()=>{K.startTransition(()=>a(oe)),await ge});k.finished.finally(()=>{g(void 0),b(void 0),u(void 0),m({isTransitioning:!1})}),b(k)}},[o,p,r.window]),K.useEffect(()=>{p&&o&&n.location.key===o.location.key&&p.resolve()},[p,_,n.location,o]),K.useEffect(()=>{!h.isTransitioning&&S&&(u(S.state),m({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),I(void 0))},[h.isTransitioning,S]);let j=K.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:oe=>r.navigate(oe),push:(oe,ge,k)=>r.navigate(oe,{state:ge,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(oe,ge,k)=>r.navigate(oe,{replace:!0,state:ge,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[r]),W=r.basename||"/",re=K.useMemo(()=>({router:r,navigator:j,static:!1,basename:W}),[r,j,W]);return K.createElement(K.Fragment,null,K.createElement(Rs.Provider,{value:re},K.createElement(wu.Provider,{value:n},K.createElement(J0.Provider,{value:V.current},K.createElement(cp.Provider,{value:h},K.createElement(jR,{basename:W,location:n.location,navigationType:n.historyAction,navigator:j},K.createElement(kR,{routes:r.routes,future:r.future,state:n})))))),null)}var kR=K.memo(UR);function UR({routes:r,future:e,state:n}){return bR(r,void 0,n,e)}function zR({to:r,replace:e,state:n,relative:a}){We(Uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=K.useContext(Rr);qt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=K.useContext(Jr),{pathname:h}=Ma(),m=fp(),p=qh(r,Hh(u),h,a==="path"),g=JSON.stringify(p);return K.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function jR({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){We(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Na(n));let{pathname:p="/",search:g="",hash:_="",state:b=null,key:S="default"}=n,I=K.useMemo(()=>{let V=fr(p,h);return V==null?null:{location:{pathname:V,search:g,hash:_,state:b,key:S},navigationType:a}},[h,p,g,_,b,S,a]);return qt(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:K.createElement(Rr.Provider,{value:m},K.createElement(Fh.Provider,{children:e,value:I}))}var ah="get",sh="application/x-www-form-urlencoded";function Gh(r){return r!=null&&typeof r.tagName=="string"}function BR(r){return Gh(r)&&r.tagName.toLowerCase()==="button"}function HR(r){return Gh(r)&&r.tagName.toLowerCase()==="form"}function qR(r){return Gh(r)&&r.tagName.toLowerCase()==="input"}function FR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function GR(r,e){return r.button===0&&(!e||e==="_self")&&!FR(r)}var Wc=null;function KR(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var QR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(r){return r!=null&&!QR.has(r)?(qt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):r}function YR(r,e){let n,a,o,u,h;if(HR(r)){let m=r.getAttribute("action");a=m?fr(m,e):null,n=r.getAttribute("method")||ah,o=_m(r.getAttribute("enctype"))||sh,u=new FormData(r)}else if(BR(r)||qR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?fr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ah,o=_m(r.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||sh,u=new FormData(m,r),!KR()){let{name:g,type:_,value:b}=r;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(Gh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,a=null,o=sh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}function pp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function $R(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function WR(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await $R(u,n);return h.links?h.links():[]}return[]}));return t1(a.flat(1).filter(XR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function oE(r,e,n,a,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var _;return n[g].pathname!==p.pathname||((_=n[g].route.path)==null?void 0:_.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let _=a.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function ZR(r,e,{includeHydrateFallback:n}={}){return JR(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function JR(r){return[...new Set(r)]}function e1(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function t1(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(e1(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function n1(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&fr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function rT(){let r=K.useContext(Rs);return pp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function r1(){let r=K.useContext(wu);return pp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gp=K.createContext(void 0);gp.displayName="FrameworkContext";function iT(){let r=K.useContext(gp);return pp(r,"You must render this element inside a <HydratedRouter> element"),r}function i1(r,e){let n=K.useContext(gp),[a,o]=K.useState(!1),[u,h]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,S=K.useRef(null);K.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=W=>{W.forEach(re=>{h(re.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[r]),K.useEffect(()=>{if(a){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[a]);let I=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Xl(m,I),onBlur:Xl(p,V),onMouseEnter:Xl(g,I),onMouseLeave:Xl(_,V),onTouchStart:Xl(b,I)}]:[!1,S,{}]}function Xl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function a1({page:r,...e}){let{router:n}=rT(),a=K.useMemo(()=>ha(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?K.createElement(o1,{page:r,matches:a,...e}):null}function s1(r){let{manifest:e,routeModules:n}=iT(),[a,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return WR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),a}function o1({page:r,matches:e,...n}){let a=Ma(),{manifest:o,routeModules:u}=iT(),{basename:h}=rT(),{loaderData:m,matches:p}=r1(),g=K.useMemo(()=>oE(r,e,p,o,a,"data"),[r,e,p,o,a]),_=K.useMemo(()=>oE(r,e,p,o,a,"assets"),[r,e,p,o,a]),b=K.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let V=new Set,$=!1;if(e.forEach(W=>{var oe;let re=o.routes[W.route.id];!re||!re.hasLoader||(!g.some(ge=>ge.route.id===W.route.id)&&W.route.id in m&&((oe=u[W.route.id])!=null&&oe.shouldRevalidate)||re.hasClientLoader?$=!0:V.add(W.route.id))}),V.size===0)return[];let j=n1(r,h);return $&&V.size>0&&j.searchParams.set("_routes",e.filter(W=>V.has(W.route.id)).map(W=>W.route.id).join(",")),[j.pathname+j.search]},[h,m,a,o,g,e,r,u]),S=K.useMemo(()=>ZR(_,o),[_,o]),I=s1(_);return K.createElement(K.Fragment,null,b.map(V=>K.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),S.map(V=>K.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),I.map(({key:V,link:$})=>K.createElement("link",{key:V,...$})))}function l1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aT&&(window.__reactRouterVersion="7.4.1")}catch{}function u1(r,e){return WA({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:bA({window:e==null?void 0:e.window}),hydrationData:c1(),routes:r,mapRouteProperties:VR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function c1(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:h1(r.errors)}),r}function h1(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new _h(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",n[a]=h}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var sT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vs=K.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:b,...S},I){let{basename:V}=K.useContext(Rr),$=typeof g=="string"&&sT.test(g),j,W=!1;if(typeof g=="string"&&$&&(j=g,aT))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=fr(N.pathname,V);N.origin===R.origin&&L!=null?g=L+N.search+N.hash:W=!0}catch{qt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=ER(g,{relative:o}),[oe,ge,k]=i1(a,S),me=p1(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:b});function O(R){e&&e(R),R.defaultPrevented||me(R)}let A=K.createElement("a",{...S,...k,href:j||re,onClick:W||u?e:O,ref:l1(I,ge),target:p,"data-discover":!$&&n==="render"?"true":void 0});return oe&&!$?K.createElement(K.Fragment,null,A,K.createElement(a1,{page:re})):A});vs.displayName="Link";var f1=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let b=Su(h,{relative:g.relative}),S=Ma(),I=K.useContext(wu),{navigator:V,basename:$}=K.useContext(Rr),j=I!=null&&E1(b)&&m===!0,W=V.encodeLocation?V.encodeLocation(b).pathname:b.pathname,re=S.pathname,oe=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(re=re.toLowerCase(),oe=oe?oe.toLowerCase():null,W=W.toLowerCase()),oe&&$&&(oe=fr(oe,$)||oe);const ge=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let k=re===W||!o&&re.startsWith(W)&&re.charAt(ge)==="/",me=oe!=null&&(oe===W||!o&&oe.startsWith(W)&&oe.charAt(W.length)==="/"),O={isActive:k,isPending:me,isTransitioning:j},A=k?e:void 0,R;typeof a=="function"?R=a(O):R=[a,k?"active":null,me?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(O):u;return K.createElement(vs,{...g,"aria-current":A,className:R,ref:_,style:N,to:h,viewTransition:m},typeof p=="function"?p(O):p)});f1.displayName="NavLink";var d1=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:h=ah,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,...S},I)=>{let V=v1(),$=_1(m,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&sT.test(m),re=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let ge=oe.nativeEvent.submitter,k=(ge==null?void 0:ge.getAttribute("formmethod"))||h;V(ge||oe.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:b})};return K.createElement("form",{ref:I,method:j,action:$,onSubmit:a?p:re,...S,"data-discover":!W&&r==="render"?"true":void 0})});d1.displayName="Form";function m1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oT(r){let e=K.useContext(Rs);return We(e,m1(r)),e}function p1(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=fp(),p=Ma(),g=Su(r,{relative:u});return K.useCallback(_=>{if(GR(_,e)){_.preventDefault();let b=n!==void 0?n:wa(p)===wa(g);m(r,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,a,e,r,o,u,h])}var g1=0,y1=()=>`__${String(++g1)}__`;function v1(){let{router:r}=oT("useSubmit"),{basename:e}=K.useContext(Rr),n=NR();return K.useCallback(async(a,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=YR(a,e);if(o.navigate===!1){let _=o.fetcherKey||y1();await r.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function _1(r,{relative:e}={}){let{basename:n}=K.useContext(Rr),a=K.useContext(Jr);We(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Su(r||".",{relative:e})},h=Ma();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qr([n,u.pathname])),wa(u)}function E1(r,e={}){let n=K.useContext(cp);We(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=oT("useViewTransitionState"),o=Su(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=fr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return vh(o.pathname,h)!=null||vh(o.pathname,u)!=null}new TextEncoder;var T1=B0();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b1(r){return K.createElement(LR,{flushSync:T1.flushSync,...r})}function Em({url:r,children:e}){return fe.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:e})}var lT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lE=ys.createContext&&ys.createContext(lT),w1=["attr","size","title"];function S1(r,e){if(r==null)return{};var n=A1(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function A1(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function Eh(){return Eh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Eh.apply(this,arguments)}function uE(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function Th(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(n),!0).forEach(function(a){R1(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function R1(r,e,n){return e=I1(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function I1(r){var e=C1(r,"string");return typeof e=="symbol"?e:e+""}function C1(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function uT(r){return r&&r.map((e,n)=>ys.createElement(e.tag,Th({key:n},e.attr),uT(e.child)))}function Au(r){return e=>ys.createElement(D1,Eh({attr:Th({},r.attr)},e),uT(r.child))}function D1(r){var e=n=>{var{attr:a,size:o,title:u}=r,h=S1(r,w1),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),ys.createElement("svg",Eh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,h,{className:p,style:Th(Th({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ys.createElement("title",null,u),r.children)};return lE!==void 0?ys.createElement(lE.Consumer,null,n=>e(n)):e(lT)}function O1(r){return Au({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}function N1(r){return Au({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function M1(r){return Au({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(r)}const x1=()=>{};var cE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},V1=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,I=g&63;p||(I=64,h||(S=64)),a.push(n[_],n[b],n[S],n[I])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(cT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):V1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new P1;const S=u<<2|m>>4;if(a.push(S),g!==64){const I=m<<4&240|g>>2;if(a.push(I),b!==64){const V=g<<6&192|b;a.push(V)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class P1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L1=function(r){const e=cT(r);return hT.encodeByteArray(e,!0)},bh=function(r){return L1(r).replace(/\./g,"")},fT=function(r){try{return hT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=()=>k1().__FIREBASE_DEFAULTS__,z1=()=>{if(typeof process>"u"||typeof cE>"u")return;const r=cE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},j1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fT(r[1]);return e&&JSON.parse(e)},Kh=()=>{try{return x1()||U1()||z1()||j1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dT=r=>{var e,n;return(n=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},B1=r=>{const e=dT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},mT=()=>{var r;return(r=Kh())===null||r===void 0?void 0:r.config},pT=r=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[bh(JSON.stringify(n)),bh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function G1(){var r;const e=(r=Kh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $1(){const r=yn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function X1(){return!G1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function Z1(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="FirebaseError";class Li extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=J1,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?eI(u,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Li(o,m,a)}}function eI(r,e){return r.replace(tI,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const tI=/\{\$([^}]+)}/g;function nI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ts(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],h=e[o];if(hE(u)&&hE(h)){if(!Ts(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function hE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function eu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function rI(r,e){const n=new iI(r,e);return n.subscribe.bind(n)}class iI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");aI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Tm),o.error===void 0&&(o.error=Tm),o.complete===void 0&&(o.complete=Tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(r){return r&&r._delegate?r._delegate:r}class bs{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new H1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lI(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oI(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oI(r){return r===ds?void 0:r}function lI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ze||(Ze={}));const cI={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},hI=Ze.INFO,fI={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},dI=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=fI[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=hI,this._logHandler=dI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const mI=(r,e)=>e.some(n=>r instanceof n);let fE,dE;function pI(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gI(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,Pm=new WeakMap,yT=new WeakMap,bm=new WeakMap,vp=new WeakMap;function yI(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ya(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&gT.set(n,r)}).catch(()=>{}),vp.set(e,r),e}function vI(r){if(Pm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Pm.set(r,e)}let Lm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||yT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ya(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _I(r){Lm=r(Lm)}function EI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(wm(this),e,...n);return yT.set(a,e.sort?e.sort():[e]),ya(a)}:gI().includes(r)?function(...e){return r.apply(wm(this),e),ya(gT.get(this))}:function(...e){return ya(r.apply(wm(this),e))}}function TI(r){return typeof r=="function"?EI(r):(r instanceof IDBTransaction&&vI(r),mI(r,pI())?new Proxy(r,Lm):r)}function ya(r){if(r instanceof IDBRequest)return yI(r);if(bm.has(r))return bm.get(r);const e=TI(r);return e!==r&&(bm.set(r,e),vp.set(e,r)),e}const wm=r=>vp.get(r);function bI(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ya(h);return a&&h.addEventListener("upgradeneeded",p=>{a(ya(h.result),p.oldVersion,p.newVersion,ya(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const wI=["get","getKey","getAll","getAllKeys","count"],SI=["put","add","delete","clear"],Sm=new Map;function mE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=SI.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||wI.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}_I(r=>({...r,get:(e,n,a)=>mE(e,n)||r.get(e,n,a),has:(e,n)=>!!mE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function RI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const km="@firebase/app",pE="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new yp("@firebase/app"),II="@firebase/app-compat",CI="@firebase/analytics-compat",DI="@firebase/analytics",OI="@firebase/app-check-compat",NI="@firebase/app-check",MI="@firebase/auth",xI="@firebase/auth-compat",VI="@firebase/database",PI="@firebase/data-connect",LI="@firebase/database-compat",kI="@firebase/functions",UI="@firebase/functions-compat",zI="@firebase/installations",jI="@firebase/installations-compat",BI="@firebase/messaging",HI="@firebase/messaging-compat",qI="@firebase/performance",FI="@firebase/performance-compat",GI="@firebase/remote-config",KI="@firebase/remote-config-compat",QI="@firebase/storage",YI="@firebase/storage-compat",$I="@firebase/firestore",XI="@firebase/vertexai",WI="@firebase/firestore-compat",ZI="firebase",JI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",eC={[km]:"fire-core",[II]:"fire-core-compat",[DI]:"fire-analytics",[CI]:"fire-analytics-compat",[NI]:"fire-app-check",[OI]:"fire-app-check-compat",[MI]:"fire-auth",[xI]:"fire-auth-compat",[VI]:"fire-rtdb",[PI]:"fire-data-connect",[LI]:"fire-rtdb-compat",[kI]:"fire-fn",[UI]:"fire-fn-compat",[zI]:"fire-iid",[jI]:"fire-iid-compat",[BI]:"fire-fcm",[HI]:"fire-fcm-compat",[qI]:"fire-perf",[FI]:"fire-perf-compat",[GI]:"fire-rc",[KI]:"fire-rc-compat",[QI]:"fire-gcs",[YI]:"fire-gcs-compat",[$I]:"fire-fst",[WI]:"fire-fst-compat",[XI]:"fire-vertex","fire-js":"fire-js",[ZI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,tC=new Map,zm=new Map;function gE(r,e){try{r.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Do(r){const e=r.name;if(zm.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,r);for(const n of wh.values())gE(n,r);for(const n of tC.values())gE(n,r);return!0}function _p(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Er(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},va=new Ru("app","Firebase",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=JI;function vT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Um,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw va.create("bad-app-name",{appName:String(o)});if(n||(n=mT()),!n)throw va.create("no-options");const u=wh.get(o);if(u){if(Ts(n,u.options)&&Ts(a,u.config))return u;throw va.create("duplicate-app",{appName:o})}const h=new uI(o);for(const p of zm.values())h.addComponent(p);const m=new rC(n,a,h);return wh.set(o,m),m}function _T(r=Um){const e=wh.get(r);if(!e&&r===Um&&mT())return vT();if(!e)throw va.create("no-app",{appName:r});return e}function _a(r,e,n){var a;let o=(a=eC[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(m.join(" "));return}Do(new bs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firebase-heartbeat-database",aC=1,fu="firebase-heartbeat-store";let Am=null;function ET(){return Am||(Am=bI(iC,aC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(r=>{throw va.create("idb-open",{originalErrorMessage:r.message})})),Am}async function sC(r){try{const n=(await ET()).transaction(fu),a=await n.objectStore(fu).get(TT(r));return await n.done,a}catch(e){if(e instanceof Li)Mi.warn(e.message);else{const n=va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function yE(r,e){try{const a=(await ET()).transaction(fu,"readwrite");await a.objectStore(fu).put(e,TT(r)),await a.done}catch(n){if(n instanceof Li)Mi.warn(n.message);else{const a=va.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(a.message)}}}function TT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1024,lC=30;class uC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=vE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>lC){const h=fC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Mi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vE(),{heartbeatsToSend:a,unsentEntries:o}=cC(this._heartbeatsCache.heartbeats),u=bh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Mi.warn(n),""}}}function vE(){return new Date().toISOString().substring(0,10)}function cC(r,e=oC){const n=[];let a=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),_E(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),_E(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class hC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?Z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return yE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return yE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _E(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function fC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r){Do(new bs("platform-logger",e=>new AI(e),"PRIVATE")),Do(new bs("heartbeat",e=>new uC(e),"PRIVATE")),_a(km,pE,r),_a(km,pE,"esm2017"),_a("fire-js","")}dC("");var mC="firebase",pC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_a(mC,pC,"app");function Ep(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function bT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gC=bT,wT=new Ru("auth","Firebase",bT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new yp("@firebase/auth");function yC(r,...e){Sh.logLevel<=Ze.WARN&&Sh.warn(`Auth (${zo}): ${r}`,...e)}function oh(r,...e){Sh.logLevel<=Ze.ERROR&&Sh.error(`Auth (${zo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,...e){throw Tp(r,...e)}function Yr(r,...e){return Tp(r,...e)}function ST(r,e,n){const a=Object.assign(Object.assign({},gC()),{[e]:n});return new Ru("auth","Firebase",a).create(e,{appName:r.name})}function Ea(r){return ST(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return wT.create(r,...e)}function Me(r,e,...n){if(!r)throw Tp(e,...n)}function Di(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function xi(r,e){r||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function vC(){return EE()==="http:"||EE()==="https:"}function EE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vC()||Q1()||"connection"in navigator)?navigator.onLine:!0}function EC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=F1()||Y1()}get(){return _C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(r,e){xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wC=new Cu(3e4,6e4);function Is(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function xa(r,e,n,a,o={}){return RT(r,o,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const m=Iu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return K1()||(g.referrerPolicy="no-referrer"),AT.fetch()(await IT(r,r.config.apiHost,n,m),g)})}async function RT(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},TC),e);try{const o=new AC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Zc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Zc(r,"user-disabled",h);const _=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ST(r,_,g);Sr(r,_)}}catch(o){if(o instanceof Li)throw o;Sr(r,"network-request-failed",{message:String(o)})}}async function Qh(r,e,n,a,o={}){const u=await xa(r,e,n,a,o);return"mfaPendingCredential"in u&&Sr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function IT(r,e,n,a){const o=`${e}${n}?${a}`,u=r,h=u.config.emulator?bp(r.config,o):`${r.config.apiScheme}://${o}`;return bC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function SC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Yr(this.auth,"network-request-failed")),wC.get())})}}function Zc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Yr(r,e,a);return o.customData._tokenResponse=n,o}function TE(r){return r!==void 0&&r.enterprise!==void 0}class RC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IC(r,e){return xa(r,"GET","/v2/recaptchaConfig",Is(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,e){return xa(r,"POST","/v1/accounts:delete",e)}async function Ah(r,e){return xa(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DC(r,e=!1){const n=vn(r),a=await n.getIdToken(e),o=wp(a);Me(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:au(Rm(o.auth_time)),issuedAtTime:au(Rm(o.iat)),expirationTime:au(Rm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Rm(r){return Number(r)*1e3}function wp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=fT(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function bE(r){const e=wp(r);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Li&&OC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function OC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await du(r,Ah(n,{idToken:a}));Me(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?CT(u.providerUserInfo):[],m=xC(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),_=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Bm(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function MC(r){const e=vn(r);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xC(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function CT(r){return r.map(e=>{var{providerId:n}=e,a=Ep(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(r,e){const n=await RT(r,{},async()=>{const a=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await IT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",AT.fetch()(h,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PC(r,e){return xa(r,"POST","/v2/accounts:revokeToken",Is(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await VC(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,h=new Ao;return a&&(Me(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(Me(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Me(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(r,e){Me(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Tr{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=Ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Bm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await du(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DC(this,e)}reload(){return MC(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(Ea(this.auth));const e=await this.getIdToken();return await du(this,CC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,h,m,p,g,_;const b=(a=n.displayName)!==null&&a!==void 0?a:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,I=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(h=n.photoURL)!==null&&h!==void 0?h:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,W=(g=n.createdAt)!==null&&g!==void 0?g:void 0,re=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:oe,emailVerified:ge,isAnonymous:k,providerData:me,stsTokenManager:O}=n;Me(oe&&O,e,"internal-error");const A=Ao.fromJSON(this.name,O);Me(typeof oe=="string",e,"internal-error"),ua(b,e.name),ua(S,e.name),Me(typeof ge=="boolean",e,"internal-error"),Me(typeof k=="boolean",e,"internal-error"),ua(I,e.name),ua(V,e.name),ua($,e.name),ua(j,e.name),ua(W,e.name),ua(re,e.name);const R=new Tr({uid:oe,auth:e,email:S,emailVerified:ge,displayName:b,isAnonymous:k,photoURL:V,phoneNumber:I,tenantId:$,stsTokenManager:A,createdAt:W,lastLoginAt:re});return me&&Array.isArray(me)&&(R.providerData=me.map(N=>Object.assign({},N))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,n,a=!1){const o=new Ao;o.updateFromServerResponse(n);const u=new Tr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Rh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Me(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?CT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ao;m.updateFromIdToken(a);const p=new Tr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function Oi(r){xi(r instanceof Function,"Expected a class definition");let e=wE.get(r);return e?(xi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,wE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DT.type="NONE";const SE=DT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(r,e,n){return`firebase:${r}:${e}:${n}`}class Ro{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?Tr._fromGetAccountInfoResponse(this.auth,n,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Ro(Oi(SE),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Oi(SE);const h=lh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(h);if(_){let b;if(typeof _=="string"){const S=await Ah(e,{idToken:_}).catch(()=>{});if(!S)break;b=await Tr._fromGetAccountInfoResponse(e,S,_)}else b=Tr._fromJSON(e,_);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ro(u,e,a):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Ro(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PT(e))return"Blackberry";if(LT(e))return"Webos";if(NT(e))return"Safari";if((e.includes("chrome/")||MT(e))&&!e.includes("edge/"))return"Chrome";if(VT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function OT(r=yn()){return/firefox\//i.test(r)}function NT(r=yn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MT(r=yn()){return/crios\//i.test(r)}function xT(r=yn()){return/iemobile/i.test(r)}function VT(r=yn()){return/android/i.test(r)}function PT(r=yn()){return/blackberry/i.test(r)}function LT(r=yn()){return/webos/i.test(r)}function Sp(r=yn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function LC(r=yn()){var e;return Sp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kC(){return $1()&&document.documentMode===10}function kT(r=yn()){return Sp(r)||VT(r)||LT(r)||PT(r)||/windows phone/i.test(r)||xT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r,e=[]){let n;switch(r){case"Browser":n=AE(yn());break;case"Worker":n=`${AE(yn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(r,e={}){return xa(r,"GET","/v2/passwordPolicy",Is(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=6;class BC{constructor(e){var n,a,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:jC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RE(this),this.idTokenSubscription=new RE(this),this.beforeStateQueue=new UC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),a=await Tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Er(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(Ea(this));const n=e?vn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zC(this),n=new BC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await PC(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jo(r){return vn(r)}class RE{constructor(e){this.auth=e,this.observer=null,this.addObserver=rI(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qC(r){Yh=r}function zT(r){return Yh.loadJS(r)}function FC(){return Yh.recaptchaEnterpriseScript}function GC(){return Yh.gapiScript}function KC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class QC{constructor(){this.enterprise=new YC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class YC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $C="recaptcha-enterprise",jT="NO_RECAPTCHA";class XC{constructor(e){this.type=$C,this.auth=jo(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{IC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new RC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;TE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(jT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(m=>{if(!n&&TE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=FC();p.length!==0&&(p+=m),zT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function IE(r,e,n,a=!1,o=!1){const u=new XC(r);let h;if(o)h=jT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function CE(r,e,n,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await IE(r,e,n,n==="getOobCode");return a(r,h)}else return a(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await IE(r,e,n,n==="getOobCode");return a(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(r,e){const n=_p(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ts(u,e??{}))return o;Sr(o,"already-initialized")}return n.initialize({options:e})}function ZC(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Oi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function JC(r,e,n){const a=jo(r);Me(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=BT(e),{host:h,port:m}=e2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Me(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Me(Ts(g,a.config.emulator)&&Ts(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,t2()}function BT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function e2(r){const e=BT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:DE(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:DE(h)}}}function DE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function t2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,n){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function n2(r,e){return xa(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(r,e){return Qh(r,"POST","/v1/accounts:signInWithPassword",Is(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(r,e){return Qh(r,"POST","/v1/accounts:signInWithEmailLink",Is(r,e))}async function a2(r,e){return Qh(r,"POST","/v1/accounts:signInWithEmailLink",Is(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Ap{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new mu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new mu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CE(e,n,"signInWithPassword",r2);case"emailLink":return i2(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CE(e,a,"signUpPassword",n2);case"emailLink":return a2(e,{idToken:n,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(r,e){return Qh(r,"POST","/v1/accounts:signInWithIdp",Is(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="http://localhost";class ws extends Ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=Ep(n,["providerId","signInMethod"]);if(!a||!o)return null;const h=new ws(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Io(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:s2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l2(r){const e=Jl(eu(r)).link,n=e?Jl(eu(e)).deep_link_id:null,a=Jl(eu(r)).deep_link_id;return(a?Jl(eu(a)).link:null)||a||n||e||r}class Rp{constructor(e){var n,a,o,u,h,m;const p=Jl(eu(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,_=(a=p.oobCode)!==null&&a!==void 0?a:null,b=o2((o=p.mode)!==null&&o!==void 0?o:null);Me(g&&_&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=l2(e);try{return new Rp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,n){return mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Rp.parseLink(n);return Me(a,"argument-error"),mu._fromEmailAndCode(e,a.code,a.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends HT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Du{constructor(){super("facebook.com")}static credential(e){return ws._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";fa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ws._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return da.credential(n,a)}catch{return null}}}da.GOOGLE_SIGN_IN_METHOD="google.com";da.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Du{constructor(){super("github.com")}static credential(e){return ws._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.GITHUB_SIGN_IN_METHOD="github.com";ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Du{constructor(){super("twitter.com")}static credential(e,n){return ws._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return pa.credential(n,a)}catch{return null}}}pa.TWITTER_SIGN_IN_METHOD="twitter.com";pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Tr._fromIdTokenResponse(e,a,o),h=OE(a);return new Oo({user:u,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=OE(a);return new Oo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function OE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends Li{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Ih(e,n,a,o)}}function qT(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,a):u})}async function u2(r,e,n=!1){const a=await du(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Oo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(r,e,n=!1){const{auth:a}=r;if(Er(a.app))return Promise.reject(Ea(a));const o="reauthenticate";try{const u=await du(r,qT(a,o,e,r),n);Me(u.idToken,a,"internal-error");const h=wp(u.idToken);Me(h,a,"internal-error");const{sub:m}=h;return Me(r.uid===m,a,"user-mismatch"),Oo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Sr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(r,e,n=!1){if(Er(r.app))return Promise.reject(Ea(r));const a="signIn",o=await qT(r,a,e),u=await Oo._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function h2(r,e){return FT(jo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(r){const e=jo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function d2(r,e,n){return Er(r.app)?Promise.reject(Ea(r)):h2(vn(r),Bo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&f2(r),a})}function m2(r,e,n,a){return vn(r).onIdTokenChanged(e,n,a)}function p2(r,e,n){return vn(r).beforeAuthStateChanged(e,n)}function g2(r,e,n,a){return vn(r).onAuthStateChanged(e,n,a)}function y2(r){return vn(r).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=1e3,_2=10;class KT extends GT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);kC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_2):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KT.type="LOCAL";const E2=KT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends GT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QT.type="SESSION";const YT=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new $h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await T2(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Ip("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function w2(r){$r().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function S2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function R2(){return $T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebaseLocalStorageDb",I2=1,Dh="firebaseLocalStorage",WT="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(r,e){return r.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function C2(){const r=indexedDB.deleteDatabase(XT);return new Ou(r).toPromise()}function Hm(){const r=indexedDB.open(XT,I2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Dh,{keyPath:WT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Dh)?e(a):(a.close(),await C2(),e(await Hm()))})})}async function NE(r,e,n){const a=Xh(r,!0).put({[WT]:e,value:n});return new Ou(a).toPromise()}async function D2(r,e){const n=Xh(r,!1).get(e),a=await new Ou(n).toPromise();return a===void 0?null:a.value}function ME(r,e){const n=Xh(r,!0).delete(e);return new Ou(n).toPromise()}const O2=800,N2=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>N2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(R2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await S2(),!this.activeServiceWorker)return;this.sender=new b2(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await NE(e,Ch,"1"),await ME(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>NE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>D2(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ME(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new Ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const M2=ZT;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r,e){return e?Oi(e):(Me(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends Ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V2(r){return FT(r.auth,new Cp(r),r.bypassAuthState)}function P2(r){const{auth:e,user:n}=r;return Me(n,e,"internal-error"),c2(n,new Cp(r),r.bypassAuthState)}async function L2(r){const{auth:e,user:n}=r;return Me(n,e,"internal-error"),u2(n,new Cp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V2;case"linkViaPopup":case"linkViaRedirect":return L2;case"reauthViaPopup":case"reauthViaRedirect":return P2;default:Sr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Cu(2e3,1e4);class So extends JT{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k2.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="pendingRedirect",uh=new Map;class z2 extends JT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const a=await j2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j2(r,e){const n=q2(e),a=H2(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function B2(r,e){uh.set(r._key(),e)}function H2(r){return Oi(r._redirectPersistence)}function q2(r){return lh(U2,r.config.apiKey,r.name)}async function F2(r,e,n=!1){if(Er(r.app))return Promise.reject(Ea(r));const a=jo(r),o=x2(a,e),h=await new z2(a,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=10*60*1e3;class K2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!eb(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Yr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G2&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function eb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(r,e={}){return xa(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X2=/^https?/;async function W2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Y2(r);for(const n of e)try{if(Z2(n))return}catch{}Sr(r,"unauthorized-domain")}function Z2(r){const e=jm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!X2.test(n))return!1;if($2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Cu(3e4,6e4);function VE(){const r=$r().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function eD(r){return new Promise((e,n)=>{var a,o,u;function h(){VE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VE(),n(Yr(r,"network-request-failed"))},timeout:J2.get()})}if(!((o=(a=$r().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=$r().gapi)===null||u===void 0)&&u.load)h();else{const m=KC("iframefcb");return $r()[m]=()=>{gapi.load?h():n(Yr(r,"network-request-failed"))},zT(`${GC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw ch=null,e})}let ch=null;function tD(r){return ch=ch||eD(r),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Cu(5e3,15e3),rD="__/auth/iframe",iD="emulator/auth/iframe",aD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oD(r){const e=r.config;Me(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?bp(e,iD):`https://${r.config.authDomain}/${rD}`,a={apiKey:e.apiKey,appName:r.name,v:zo},o=sD.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Iu(a).slice(1)}`}async function lD(r){const e=await tD(r),n=$r().gapi;return Me(n,r,"internal-error"),e.open({where:document.body,url:oD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aD,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=Yr(r,"network-request-failed"),m=$r().setTimeout(()=>{u(h)},nD.get());function p(){$r().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cD=500,hD=600,fD="_blank",dD="http://localhost";class PE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mD(r,e,n,a=cD,o=hD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},uD),{width:a.toString(),height:o.toString(),top:u,left:h}),g=yn().toLowerCase();n&&(m=MT(g)?fD:n),OT(g)&&(e=e||dD,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[I,V])=>`${S}${I}=${V},`,"");if(LC(g)&&m!=="_self")return pD(e||"",m),new PE(null);const b=window.open(e||"",m,_);Me(b,r,"popup-blocked");try{b.focus()}catch{}return new PE(b)}function pD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="__/auth/handler",yD="emulator/auth/handler",vD=encodeURIComponent("fac");async function LE(r,e,n,a,o,u){Me(r.config.authDomain,r,"auth-domain-config-required"),Me(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:zo,eventId:o};if(e instanceof HT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",nI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))h[_]=b}if(e instanceof Du){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await r._getAppCheckToken(),g=p?`#${vD}=${encodeURIComponent(p)}`:"";return`${_D(r)}?${Iu(m).slice(1)}${g}`}function _D({config:r}){return r.emulator?bp(r,yD):`https://${r.authDomain}/${gD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class ED{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=F2,this._overrideRedirectResult=B2}async _openPopup(e,n,a,o){var u;xi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await LE(e,n,a,jm(),o);return mD(e,h,Ip())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await LE(e,n,a,jm(),o);return w2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(xi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await lD(e),a=new K2(e);return n.register("authEvent",o=>(Me(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Im];h!==void 0&&n(!!h),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kT()||NT()||Sp()}}const TD=ED;var kE="@firebase/auth",UE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SD(r){Do(new bs("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;Me(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(r)},g=new HC(a,o,u,p);return ZC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Do(new bs("auth-internal",e=>{const n=jo(e.getProvider("auth").getImmediate());return(a=>new bD(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_a(kE,UE,wD(r)),_a(kE,UE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=5*60,RD=pT("authIdTokenMaxAge")||AD;let zE=null;const ID=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>RD)return;const o=n==null?void 0:n.token;zE!==o&&(zE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CD(r=_T()){const e=_p(r,"auth");if(e.isInitialized())return e.getImmediate();const n=WC(r,{popupRedirectResolver:TD,persistence:[M2,E2,YT]}),a=pT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=ID(u.toString());p2(n,h,()=>h(n.currentUser)),m2(n,m=>h(m))}}const o=dT("auth");return o&&JC(n,`http://${o}`),n}function DD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}qC({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Yr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",DD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SD("Browser");var jE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,tb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function R(){}R.prototype=A.prototype,O.D=A.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,L,U){for(var D=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)D[Dt-2]=arguments[Dt];return A.prototype[L].apply(N,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,R){R||(R=0);var N=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)N[L]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(L=0;16>L;++L)N[L]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=O.g[0],R=O.g[1],L=O.g[2];var U=O.g[3],D=A+(U^R&(L^U))+N[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=U+(L^A&(R^L))+N[1]+3905402710&4294967295,U=A+(D<<12&4294967295|D>>>20),D=L+(R^U&(A^R))+N[2]+606105819&4294967295,L=U+(D<<17&4294967295|D>>>15),D=R+(A^L&(U^A))+N[3]+3250441966&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(U^R&(L^U))+N[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=U+(L^A&(R^L))+N[5]+1200080426&4294967295,U=A+(D<<12&4294967295|D>>>20),D=L+(R^U&(A^R))+N[6]+2821735955&4294967295,L=U+(D<<17&4294967295|D>>>15),D=R+(A^L&(U^A))+N[7]+4249261313&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(U^R&(L^U))+N[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=U+(L^A&(R^L))+N[9]+2336552879&4294967295,U=A+(D<<12&4294967295|D>>>20),D=L+(R^U&(A^R))+N[10]+4294925233&4294967295,L=U+(D<<17&4294967295|D>>>15),D=R+(A^L&(U^A))+N[11]+2304563134&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(U^R&(L^U))+N[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=U+(L^A&(R^L))+N[13]+4254626195&4294967295,U=A+(D<<12&4294967295|D>>>20),D=L+(R^U&(A^R))+N[14]+2792965006&4294967295,L=U+(D<<17&4294967295|D>>>15),D=R+(A^L&(U^A))+N[15]+1236535329&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(L^U&(R^L))+N[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=U+(R^L&(A^R))+N[6]+3225465664&4294967295,U=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(U^A))+N[11]+643717713&4294967295,L=U+(D<<14&4294967295|D>>>18),D=R+(U^A&(L^U))+N[0]+3921069994&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^U&(R^L))+N[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=U+(R^L&(A^R))+N[10]+38016083&4294967295,U=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(U^A))+N[15]+3634488961&4294967295,L=U+(D<<14&4294967295|D>>>18),D=R+(U^A&(L^U))+N[4]+3889429448&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^U&(R^L))+N[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=U+(R^L&(A^R))+N[14]+3275163606&4294967295,U=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(U^A))+N[3]+4107603335&4294967295,L=U+(D<<14&4294967295|D>>>18),D=R+(U^A&(L^U))+N[8]+1163531501&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^U&(R^L))+N[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=U+(R^L&(A^R))+N[2]+4243563512&4294967295,U=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(U^A))+N[7]+1735328473&4294967295,L=U+(D<<14&4294967295|D>>>18),D=R+(U^A&(L^U))+N[12]+2368359562&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(R^L^U)+N[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=U+(A^R^L)+N[8]+2272392833&4294967295,U=A+(D<<11&4294967295|D>>>21),D=L+(U^A^R)+N[11]+1839030562&4294967295,L=U+(D<<16&4294967295|D>>>16),D=R+(L^U^A)+N[14]+4259657740&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^U)+N[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=U+(A^R^L)+N[4]+1272893353&4294967295,U=A+(D<<11&4294967295|D>>>21),D=L+(U^A^R)+N[7]+4139469664&4294967295,L=U+(D<<16&4294967295|D>>>16),D=R+(L^U^A)+N[10]+3200236656&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^U)+N[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=U+(A^R^L)+N[0]+3936430074&4294967295,U=A+(D<<11&4294967295|D>>>21),D=L+(U^A^R)+N[3]+3572445317&4294967295,L=U+(D<<16&4294967295|D>>>16),D=R+(L^U^A)+N[6]+76029189&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^U)+N[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=U+(A^R^L)+N[12]+3873151461&4294967295,U=A+(D<<11&4294967295|D>>>21),D=L+(U^A^R)+N[15]+530742520&4294967295,L=U+(D<<16&4294967295|D>>>16),D=R+(L^U^A)+N[2]+3299628645&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(L^(R|~U))+N[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=U+(R^(A|~L))+N[7]+1126891415&4294967295,U=A+(D<<10&4294967295|D>>>22),D=L+(A^(U|~R))+N[14]+2878612391&4294967295,L=U+(D<<15&4294967295|D>>>17),D=R+(U^(L|~A))+N[5]+4237533241&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~U))+N[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=U+(R^(A|~L))+N[3]+2399980690&4294967295,U=A+(D<<10&4294967295|D>>>22),D=L+(A^(U|~R))+N[10]+4293915773&4294967295,L=U+(D<<15&4294967295|D>>>17),D=R+(U^(L|~A))+N[1]+2240044497&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~U))+N[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=U+(R^(A|~L))+N[15]+4264355552&4294967295,U=A+(D<<10&4294967295|D>>>22),D=L+(A^(U|~R))+N[6]+2734768916&4294967295,L=U+(D<<15&4294967295|D>>>17),D=R+(U^(L|~A))+N[13]+1309151649&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~U))+N[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=U+(R^(A|~L))+N[11]+3174756917&4294967295,U=A+(D<<10&4294967295|D>>>22),D=L+(A^(U|~R))+N[2]+718787259&4294967295,L=U+(D<<15&4294967295|D>>>17),D=R+(U^(L|~A))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var R=A-this.blockSize,N=this.B,L=this.h,U=0;U<A;){if(L==0)for(;U<=R;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<A;)if(N[L++]=O.charCodeAt(U++),L==this.blockSize){o(this,N),L=0;break}}else for(;U<A;)if(N[L++]=O[U++],L==this.blockSize){o(this,N),L=0;break}}this.h=L,this.o+=A},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var R=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=R&255,R/=256;for(this.u(O),O=Array(16),A=R=0;4>A;++A)for(var N=0;32>N;N+=8)O[R++]=this.g[A]>>>N&255;return O};function u(O,A){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=A(O)}function h(O,A){this.h=A;for(var R=[],N=!0,L=O.length-1;0<=L;L--){var U=O[L]|0;N&&U==A||(R[L]=U,N=!1)}this.g=R}var m={};function p(O){return-128<=O&&128>O?u(O,function(A){return new h([A|0],0>A?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return j(g(-O));for(var A=[],R=1,N=0;O>=R;N++)A[N]=O/R|0,R*=4294967296;return new h(A,0)}function _(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return j(_(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),N=b,L=0;L<O.length;L+=8){var U=Math.min(8,O.length-L),D=parseInt(O.substring(L,L+U),A);8>U?(U=g(Math.pow(A,U)),N=N.j(U).add(g(D))):(N=N.j(R),N=N.add(g(D)))}return N}var b=p(0),S=p(1),I=p(16777216);r=h.prototype,r.m=function(){if($(this))return-j(this).m();for(var O=0,A=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*A,A*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if($(this))return"-"+j(this).toString(O);for(var A=g(Math.pow(O,6)),R=this,N="";;){var L=ge(R,A).g;R=W(R,L.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=L,V(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function $(O){return O.h==-1}r.l=function(O){return O=W(this,O),$(O)?-1:V(O)?0:1};function j(O){for(var A=O.g.length,R=[],N=0;N<A;N++)R[N]=~O.g[N];return new h(R,~O.h).add(S)}r.abs=function(){return $(this)?j(this):this},r.add=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0,L=0;L<=A;L++){var U=N+(this.i(L)&65535)+(O.i(L)&65535),D=(U>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);N=D>>>16,U&=65535,D&=65535,R[L]=D<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function W(O,A){return O.add(j(A))}r.j=function(O){if(V(this)||V(O))return b;if($(this))return $(O)?j(this).j(j(O)):j(j(this).j(O));if($(O))return j(this.j(j(O)));if(0>this.l(I)&&0>O.l(I))return g(this.m()*O.m());for(var A=this.g.length+O.g.length,R=[],N=0;N<2*A;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<O.g.length;L++){var U=this.i(N)>>>16,D=this.i(N)&65535,Dt=O.i(L)>>>16,ze=O.i(L)&65535;R[2*N+2*L]+=D*ze,re(R,2*N+2*L),R[2*N+2*L+1]+=U*ze,re(R,2*N+2*L+1),R[2*N+2*L+1]+=D*Dt,re(R,2*N+2*L+1),R[2*N+2*L+2]+=U*Dt,re(R,2*N+2*L+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new h(R,0)};function re(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function oe(O,A){this.g=O,this.h=A}function ge(O,A){if(V(A))throw Error("division by zero");if(V(O))return new oe(b,b);if($(O))return A=ge(j(O),A),new oe(j(A.g),j(A.h));if($(A))return A=ge(O,j(A)),new oe(j(A.g),A.h);if(30<O.g.length){if($(O)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=A;0>=N.l(O);)R=k(R),N=k(N);var L=me(R,1),U=me(N,1);for(N=me(N,2),R=me(R,2);!V(N);){var D=U.add(N);0>=D.l(O)&&(L=L.add(R),U=D),N=me(N,1),R=me(R,1)}return A=W(O,L.j(A)),new oe(L,A)}for(L=b;0<=O.l(A);){for(R=Math.max(1,Math.floor(O.m()/A.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=g(R),D=U.j(A);$(D)||0<D.l(O);)R-=N,U=g(R),D=U.j(A);V(U)&&(U=S),L=L.add(U),O=W(O,D)}return new oe(L,O)}r.A=function(O){return ge(this,O).h},r.and=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)&O.i(N);return new h(R,this.h&O.h)},r.or=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)|O.i(N);return new h(R,this.h|O.h)},r.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)^O.i(N);return new h(R,this.h^O.h)};function k(O){for(var A=O.g.length+1,R=[],N=0;N<A;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new h(R,O.h)}function me(O,A){var R=A>>5;A%=32;for(var N=O.g.length-R,L=[],U=0;U<N;U++)L[U]=0<A?O.i(U+R)>>>A|O.i(U+R+1)<<32-A:O.i(U+R);return new h(L,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,tb=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Ta=h}).apply(typeof jE<"u"?jE:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nb,tu,rb,hh,qm,ib,ab,sb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var H=c[w];if(!(H in v))break e;v=v[H]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,H={next:function(){if(!w&&v<c.length){var X=v++;return{value:y(X,c[X]),done:!1}}return w=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,w),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,S.apply(null,arguments)}function I(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function V(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,H,X){for(var he=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)he[tt-2]=arguments[tt];return y.prototype[H].apply(w,he)}}function $(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function j(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const H=c.length||0,X=w.length||0;c.length=H+X;for(let he=0;he<X;he++)c[H+he]=w[he]}else c.push(w)}}class W{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function oe(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var k=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function me(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let v,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(v in w)c[v]=w[v];for(let X=0;X<R.length;X++)v=R[X],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function L(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Dt{constructor(){this.h=this.g=null}add(y,v){const w=ze.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ze=new W(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,Te=!1,je=new Dt,M=()=>{const c=m.Promise.resolve(void 0);de=()=>{c.then(se)}};var se=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){U(v)}var y=ze;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Te=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Le(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(k){e:{try{ge(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Le.aa.h.call(this)}}V(Le,le);var xe={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function wt(c,y,v,w,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=H,this.key=++gt,this.da=this.fa=!1}function _n(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qn(c){this.src=c,this.g={},this.h=0}Qn.prototype.add=function(c,y,v,w,H){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var he=En(c,y,w,H);return-1<he?(y=c[he],v||(y.fa=!1)):(y=new wt(y,this.src,X,!!w,H),y.fa=v,c.push(y)),y};function ei(c,y){var v=y.type;if(v in c.g){var w=c.g[v],H=Array.prototype.indexOf.call(w,y,void 0),X;(X=0<=H)&&Array.prototype.splice.call(w,H,1),X&&(_n(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function En(c,y,v,w){for(var H=0;H<c.length;++H){var X=c[H];if(!X.da&&X.listener==y&&X.capture==!!v&&X.ha==w)return H}return-1}var ti="closure_lm_"+(1e6*Math.random()|0),Pa={};function La(c,y,v,w,H){if(Array.isArray(y)){for(var X=0;X<y.length;X++)La(c,y[X],v,w,H);return null}return v=Vn(v),c&&c[Lt]?c.K(y,v,g(w)?!!w.capture:!1,H):Cn(c,y,v,!1,w,H)}function Cn(c,y,v,w,H,X){if(!y)throw Error("Invalid event type");var he=g(H)?!!H.capture:!!H,tt=ri(c);if(tt||(c[ti]=tt=new Qn(c)),v=tt.add(y,v,w,he,X),v.proxy)return v;if(w=Qo(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)Ae||(H=he),H===void 0&&(H=!1),c.addEventListener(y.toString(),w,H);else if(c.attachEvent)c.attachEvent(Tn(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qo(){function c(v){return y.call(c.src,c.listener,v)}const y=ni;return c}function ka(c,y,v,w,H){if(Array.isArray(y))for(var X=0;X<y.length;X++)ka(c,y[X],v,w,H);else w=g(w)?!!w.capture:!!w,v=Vn(v),c&&c[Lt]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],v=En(X,v,w,H),-1<v&&(_n(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=ri(c))&&(y=c.g[y.toString()],c=-1,y&&(c=En(y,v,w,H)),(v=-1<c?y[c]:null)&&ki(v))}function ki(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Lt])ei(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(Tn(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=ri(y))?(ei(v,c),v.h==0&&(v.src=null,y[ti]=null)):_n(c)}}}function Tn(c){return c in Pa?Pa[c]:Pa[c]="on"+c}function ni(c,y){if(c.da)c=!0;else{y=new Le(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&ki(c),c=v.call(w,y)}return c}function ri(c){return c=c[ti],c instanceof Qn?c:null}var ii="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vn(c){return typeof c=="function"?c:(c[ii]||(c[ii]=function(y){return c.handleEvent(y)}),c[ii])}function at(){ce.call(this),this.i=new Qn(this),this.M=this,this.F=null}V(at,ce),at.prototype[Lt]=!0,at.prototype.removeEventListener=function(c,y,v,w){ka(this,c,y,v,w)};function st(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var H=y;y=new le(w,c),N(y,H)}if(H=!0,v)for(var X=v.length-1;0<=X;X--){var he=y.g=v[X];H=rn(he,w,!0,y)&&H}if(he=y.g=c,H=rn(he,w,!0,y)&&H,H=rn(he,w,!1,y)&&H,v)for(X=0;X<v.length;X++)he=y.g=v[X],H=rn(he,w,!1,y)&&H}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)_n(v[w]);delete c.g[y],c.h--}}this.F=null},at.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},at.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function rn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,X=0;X<y.length;++X){var he=y[X];if(he&&!he.da&&he.capture==v){var tt=he.listener,Ft=he.ha||he.src;he.fa&&ei(c.i,he),H=tt.call(Ft,w)!==!1&&H}}return H&&!w.defaultPrevented}function Xt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Pn(c){c.g=Xt(()=>{c.g=null,c.i&&(c.i=!1,Pn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ms extends ce{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(c){ce.call(this),this.h=c,this.g={}}V(Ir,ce);var Cr=[];function ai(c){me(c.g,function(y,v){this.g.hasOwnProperty(v)&&ki(y)},c),c.g={}}Ir.prototype.N=function(){Ir.aa.N.call(this),ai(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=m.JSON.stringify,dr=m.JSON.parse,Dr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function si(){}si.prototype.h=null;function Ua(c){return c.h||(c.h=c.i())}function Ui(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){le.call(this,"d")}V(Yn,le);function Or(){le.call(this,"c")}V(Or,le);var bn={},za=null;function Nr(){return za=za||new at}bn.La="serverreachability";function x(c){le.call(this,bn.La,c)}V(x,le);function B(c){const y=Nr();st(y,new x(y))}bn.STAT_EVENT="statevent";function Y(c,y){le.call(this,bn.STAT_EVENT,c),this.stat=y}V(Y,le);function ee(c){const y=Nr();st(y,new Y(y,c))}bn.Ma="timingevent";function ue(c,y){le.call(this,bn.Ma,c),this.size=y}V(ue,le);function ye(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function we(c,y,v,w,H,X){c.info(function(){if(c.g)if(X)for(var he="",tt=X.split("&"),Ft=0;Ft<tt.length;Ft++){var nt=tt[Ft].split("=");if(1<nt.length){var Zt=nt[0];nt=nt[1];var Gt=Zt.split("_");he=2<=Gt.length&&Gt[1]=="type"?he+(Zt+"="+nt+"&"):he+(Zt+"=redacted&")}}else he=null;else he=X;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+y+`
`+v+`
`+he})}function Re(c,y,v,w,H,X,he){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+y+`
`+v+`
`+X+" "+he})}function pe(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ce(c,v)+(w?" "+w:"")})}function Se(c,y){c.info(function(){return"TIMEOUT: "+y})}be.prototype.info=function(){};function Ce(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var H=w[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var he=1;he<H.length;he++)H[he]=""}}}}return Dn(v)}catch{return y}}var Be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ot={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tt;function ut(){}V(ut,si),ut.prototype.g=function(){return new XMLHttpRequest},ut.prototype.i=function(){return{}},Tt=new ut;function Ke(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new Ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new He}function He(){this.i=null,this.g="",this.h=!1}var $n={},Xn={};function Mt(c,y,v){c.L=1,c.v=qa(Un(y)),c.m=v,c.P=!0,kt(c,null)}function kt(c,y){c.F=Date.now(),wn(c),c.A=Un(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Zo(v.i,"t",w),c.C=0,v=c.j.J,c.h=new He,c.g=Ku(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Ms(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Cr[0]=H.toString()),H=Cr);for(var X=0;X<H.length;X++){var he=La(v,H[X],w||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),B(),we(c.i,c.u,c.A,c.l,c.R,c.m)}Ke.prototype.ca=function(c){c=c.target;const y=this.M;y&&tr(c)==3?y.j():this.Y(c)},Ke.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=tr(this.g);var y=this.g.Ba();const pi=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=pi?B(3):B(2)),Ln(this);var v=this.g.Z();this.X=v;t:if(zi(this)){var w=Uu(this.g);c="";var H=w.length,X=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){et(this),Ye(this);var he="";break t}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(X&&y==H-1)});w.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=v==200,Re(this.i,this.u,this.A,this.l,this.R,Gt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Ft=this.g;if((tt=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(tt)){var nt=tt;break t}}nt=null}if(v=nt)pe(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wn(this,v);else{this.o=!1,this.s=3,ee(12),et(this),Ye(this);break e}}if(this.P){v=!0;let an;for(;!this.J&&this.C<he.length;)if(an=Mr(this,he),an==Xn){Gt==4&&(this.s=4,ee(14),v=!1),pe(this.i,this.l,null,"[Incomplete Response]");break}else if(an==$n){this.s=4,ee(15),pe(this.i,this.l,he,"[Invalid Chunk]"),v=!1;break}else pe(this.i,this.l,an,null),Wn(this,an);if(zi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||he.length!=0||this.h.h||(this.s=1,ee(16),v=!1),this.o=this.o&&v,!v)pe(this.i,this.l,he,"[Invalid Chunked Response]"),et(this),Ye(this);else if(0<he.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Wa(Zt),Zt.M=!0,ee(11))}}else pe(this.i,this.l,he,null),Wn(this,he);Gt==4&&et(this),this.o&&!this.J&&(Gt==4?qu(this.j,this):(this.o=!1,wn(this)))}else yf(this.g),v==400&&0<he.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),et(this),Ye(this)}}}catch{}finally{}};function zi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Mr(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Xn:(v=Number(y.substring(v,w)),isNaN(v)?$n:(w+=1,w+v>y.length?Xn:(y=y.slice(w,w+v),c.C=w+v,y)))}Ke.prototype.cancel=function(){this.J=!0,et(this)};function wn(c){c.S=Date.now()+c.I,oi(c,c.I)}function oi(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ye(S(c.ba,c),y)}function Ln(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ke.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Se(this.i,this.A),this.L!=2&&(B(),ee(17)),et(this),this.s=2,Ye(this)):oi(this,this.S-c)};function Ye(c){c.j.G==0||c.J||qu(c.j,c)}function et(c){Ln(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ai(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Wn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||ja(v.h,c))){if(!c.K&&ja(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Hs(v),js(v);else break e;rl(v),ee(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=ye(S(v.Za,v),6e3));if(1>=li(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else mi(v,11)}else if((c.K||v.g==c)&&Hs(v),!re(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let nt=H[y];if(v.T=nt[0],nt=nt[1],v.G==2)if(nt[0]=="c"){v.K=nt[1],v.ia=nt[2];const Zt=nt[3];Zt!=null&&(v.la=Zt,v.j.info("VER="+v.la));const Gt=nt[4];Gt!=null&&(v.Aa=Gt,v.j.info("SVER="+v.Aa));const pi=nt[5];pi!=null&&typeof pi=="number"&&0<pi&&(w=1.5*pi,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const an=c.g;if(an){const jr=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var X=w.h;X.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(xs(X,X.h),X.h=null))}if(w.D){const al=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(w.ya=al,yt(w.I,w.D,al))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var he=c;if(w.qa=Gu(w,w.J?w.ia:null,w.W),he.K){Sn(w.h,he);var tt=he,Ft=w.L;Ft&&(tt.I=Ft),tt.B&&(Ln(tt),wn(tt)),w.g=he}else Bu(w);0<v.i.length&&Bs(v)}else nt[0]!="stop"&&nt[0]!="close"||mi(v,7);else v.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?mi(v,7):tl(v):nt[0]!="noop"&&v.l&&v.l.ta(nt),v.v=0)}}B(4)}catch{}}var xr=class{constructor(c,y){this.g=c,this.map=y}};function ht(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function li(c){return c.h?1:c.g?c.g.size:0}function ja(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function xs(c,y){c.g?c.g.add(y):c.h=y}function Sn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ht.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return $(c.i)}function df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function Vs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function $o(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Vs(c),w=df(c),H=w.length,X=0;X<H;X++)y.call(void 0,w[X],v&&v[X],c)}var Ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),H=null;if(0<=w){var X=c[v].substring(0,w);H=c[v].substring(w+1)}else X=c[v];y(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ut(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ut){this.h=c.h,Ha(this,c.j),this.o=c.o,this.g=c.g,ji(this,c.s),this.l=c.l;var y=c.i,v=new ci;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ui(this,v),this.m=c.m}else c&&(y=String(c).match(Ba))?(this.h=!1,Ha(this,y[1]||"",!0),this.o=Zn(y[2]||""),this.g=Zn(y[3]||"",!0),ji(this,y[4]),this.l=Zn(y[5]||"",!0),ui(this,y[6]||"",!0),this.m=Zn(y[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}Ut.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Fa(y,Xo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Fa(y,Xo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Fa(v,v.charAt(0)=="/"?pf:Wo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Fa(v,Ps)),c.join("")};function Un(c){return new Ut(c)}function Ha(c,y,v){c.j=v?Zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ji(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ui(c,y,v){y instanceof ci?(c.i=y,Lu(c.i,c.h)):(v||(y=Fa(y,gf)),c.i=new ci(y,c.h))}function yt(c,y,v){c.i.set(y,v)}function qa(c){return yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fa(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Pu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xo=/[#\/\?@]/g,Wo=/[#\?:]/g,pf=/[#\?]/g,gf=/[#\?@]/g,Ps=/#/g;function ci(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Jn(c){c.g||(c.g=new Map,c.h=0,c.i&&mf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=ci.prototype,r.add=function(c,y){Jn(this),this.i=null,c=Vr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function hi(c,y){Jn(c),y=Vr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function fi(c,y){return Jn(c),y=Vr(c,y),c.g.has(y)}r.forEach=function(c,y){Jn(this),this.g.forEach(function(v,w){v.forEach(function(H){c.call(y,H,w,this)},this)},this)},r.na=function(){Jn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const H=c[w];for(let X=0;X<H.length;X++)v.push(y[w])}return v},r.V=function(c){Jn(this);let y=[];if(typeof c=="string")fi(this,c)&&(y=y.concat(this.g.get(Vr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Jn(this),this.i=null,c=Vr(this,c),fi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Zo(c,y,v){hi(c,y),0<v.length&&(c.i=null,c.g.set(Vr(c,y),$(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const X=encodeURIComponent(String(w)),he=this.V(w);for(w=0;w<he.length;w++){var H=X;he[w]!==""&&(H+="="+encodeURIComponent(String(he[w]))),c.push(H)}}return this.i=c.join("&")};function Vr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Lu(c,y){y&&!c.j&&(Jn(c),c.i=null,c.g.forEach(function(v,w){var H=w.toLowerCase();w!=H&&(hi(this,w),Zo(this,H,v))},c)),c.j=y}function Ga(c,y){const v=new be;if(m.Image){const w=new Image;w.onload=I(er,v,"TestLoadImage: loaded",!0,y,w),w.onerror=I(er,v,"TestLoadImage: error",!1,y,w),w.onabort=I(er,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=I(er,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function pr(c,y){const v=new be,w=new AbortController,H=setTimeout(()=>{w.abort(),er(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(X=>{clearTimeout(H),X.ok?er(v,"TestPingServer: ok",!0,y):er(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),er(v,"TestPingServer: error",!1,y)})}function er(c,y,v,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(v)}catch{}}function Ka(){this.g=new Dr}function Pr(c,y,v){const w=v||"";try{$o(c,function(H,X){let he=H;g(H)&&(he=Dn(H)),y.push(w+X+"="+encodeURIComponent(he))})}catch(H){throw y.push(w+"type="+encodeURIComponent("_badmap")),H}}function Bi(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Bi,si),Bi.prototype.g=function(){return new di(this.l,this.j)},Bi.prototype.i=function(c){return function(){return c}}({});function di(c,y){at.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(di,at),r=di.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,kr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,kr(this)),this.g&&(this.readyState=3,kr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Lr(this):kr(this),this.readyState==3&&Jo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Lr(this))},r.Qa=function(c){this.g&&(this.response=c,Lr(this))},r.ga=function(){this.g&&Lr(this)};function Lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,kr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function kr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function el(c){let y="";return me(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Wt(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=el(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):yt(c,y,v))}function ft(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(ft,at);var Ls=/^https?$/i,Qa=["POST","PUT"];r=ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tt.g(),this.v=this.o?Ua(this.o):Ua(Tt),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){ku(this,X);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)v.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())v.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Qa,y,void 0))||w||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of v)this.g.setRequestHeader(X,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ya(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){ku(this,X)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ks(c),Ur(c)}function ks(c){c.A||(c.A=!0,st(c,"complete"),st(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,st(this,"complete"),st(this,"abort"),Ur(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Us(this):this.bb())},r.bb=function(){Us(this)};function Us(c){if(c.h&&typeof h<"u"&&(!c.v[1]||tr(c)!=4||c.Z()!=2)){if(c.u&&tr(c)==4)Xt(c.Ea,0,c);else if(st(c,"readystatechange"),tr(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=he===0){var H=String(c.D).match(Ba)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),w=!Ls.test(H?H.toLowerCase():"")}v=w}if(v)st(c,"complete"),st(c,"success");else{c.m=6;try{var X=2<tr(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",ks(c)}}finally{Ur(c)}}}}function Ur(c,y){if(c.g){Ya(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||st(c,"ready");try{v.onreadystatechange=w}catch{}}}function Ya(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),dr(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yf(c){const y={};c=(c.g&&2<=tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(re(c[w]))continue;var v=L(c[w]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=y[H]||[];y[H]=X,X.push(v)}O(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function zs(c){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,c),this.cb=$a("retryDelaySeedMs",1e4,c),this.Wa=$a("forwardChannelMaxRetries",2,c),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ht(c&&c.concurrentRequestLimit),this.Da=new Ka,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=zs.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,w){ee(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Gu(this,null,this.W),Bs(this)};function tl(c){if(zu(c),c.G==3){var y=c.U++,v=Un(c.I);if(yt(v,"SID",c.K),yt(v,"RID",y),yt(v,"TYPE","terminate"),Xa(c,v),y=new Ke(c,c.j,y),y.L=2,y.v=qa(Un(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),wn(y)}Fu(c)}function js(c){c.g&&(Wa(c),c.g.cancel(),c.g=null)}function zu(c){js(c),c.u&&(m.clearTimeout(c.u),c.u=null),Hs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Bs(c){if(!kn(c.h)&&!c.s){c.s=!0;var y=c.Ga;de||M(),Te||(de(),Te=!0),je.add(y,c),c.B=0}}function vf(c,y){return li(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ye(S(c.Ga,c,y),il(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Ke(this,this.j,c);let X=this.o;if(this.S&&(X?(X=A(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ju(this,H,y),v=Un(this.I),yt(v,"RID",c),yt(v,"CVER",22),this.D&&yt(v,"X-HTTP-Session-Id",this.D),Xa(this,v),X&&(this.O?y="headers="+encodeURIComponent(String(el(X)))+"&"+y:this.m&&Wt(v,this.m,X)),xs(this.h,H),this.Ua&&yt(v,"TYPE","init"),this.P?(yt(v,"$req",y),yt(v,"SID","null"),H.T=!0,Mt(H,v,null)):Mt(H,v,y),this.G=2}}else this.G==3&&(c?nl(this,c):this.i.length==0||kn(this.h)||nl(this))};function nl(c,y){var v;y?v=y.l:v=c.U++;const w=Un(c.I);yt(w,"SID",c.K),yt(w,"RID",v),yt(w,"AID",c.T),Xa(c,w),c.m&&c.o&&Wt(w,c.m,c.o),v=new Ke(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ju(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xs(c.h,v),Mt(v,w,y)}function Xa(c,y){c.H&&me(c.H,function(v,w){yt(y,w,v)}),c.l&&$o({},function(v,w){yt(y,w,v)})}function ju(c,y,v){v=Math.min(c.i.length,v);var w=c.l?S(c.l.Na,c.l,c):null;e:{var H=c.i;let X=-1;for(;;){const he=["count="+v];X==-1?0<v?(X=H[0].g,he.push("ofs="+X)):X=0:he.push("ofs="+X);let tt=!0;for(let Ft=0;Ft<v;Ft++){let nt=H[Ft].g;const Zt=H[Ft].map;if(nt-=X,0>nt)X=Math.max(0,H[Ft].g-100),tt=!1;else try{Pr(Zt,he,"req"+nt+"_")}catch{w&&w(Zt)}}if(tt){w=he.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function Bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;de||M(),Te||(de(),Te=!0),je.add(y,c),c.v=0}}function rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ye(S(c.Fa,c),il(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ye(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),js(this),Hu(this))};function Wa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new Ke(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Un(c.qa);yt(y,"RID","rpc"),yt(y,"SID",c.K),yt(y,"AID",c.T),yt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&yt(y,"TO",c.ja),yt(y,"TYPE","xmlhttp"),Xa(c,y),c.m&&c.o&&Wt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=qa(Un(y)),v.m=null,v.P=!0,kt(v,c)}r.Za=function(){this.C!=null&&(this.C=null,js(this),rl(this),ee(19))};function Hs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function qu(c,y){var v=null;if(c.g==y){Hs(c),Wa(c),c.g=null;var w=2}else if(ja(c.h,y))v=y.D,Sn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;w=Nr(),st(w,new ue(w,v)),Bs(c)}else Bu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(w==1&&vf(c,y)||w==2&&rl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function il(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function mi(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),w=c.Xa;const H=!w;w=new Ut(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ha(w,"https"),qa(w),H?Ga(w.toString(),v):pr(w.toString(),v)}else ee(2);c.G=0,c.l&&c.l.sa(y),Fu(c),zu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const y=Yo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Gu(c,y,v){var w=v instanceof Ut?Un(v):new Ut(v);if(w.g!="")y&&(w.g=y+"."+w.g),ji(w,w.s);else{var H=m.location;w=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var X=new Ut(null);w&&Ha(X,w),y&&(X.g=y),H&&ji(X,H),v&&(X.l=v),w=X}return v=c.D,y=c.ya,v&&y&&yt(w,v,y),yt(w,"VER",c.la),Xa(c,w),w}function Ku(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ft(new Bi({eb:v})):new ft(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function qs(){}qs.prototype.g=function(c,y){return new An(c,y)};function An(c,y){at.call(this),this.g=new zs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new zr(this)}V(An,at),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){tl(this.g)},An.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Dn(c),c=v);y.i.push(new xr(y.Ya++,c)),y.G==3&&Bs(y)},An.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,An.aa.N.call(this)};function Yu(c){Yn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Yu,Yn);function $u(){Or.call(this),this.status=1}V($u,Or);function zr(c){this.g=c}V(zr,Qu),zr.prototype.ua=function(){st(this.g,"a")},zr.prototype.ta=function(c){st(this.g,new Yu(c))},zr.prototype.sa=function(c){st(this.g,new $u)},zr.prototype.ra=function(){st(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,sb=function(){return new qs},ab=function(){return Nr()},ib=bn,qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Be.NO_ERROR=0,Be.TIMEOUT=8,Be.HTTP_ERROR=6,hh=Be,ot.COMPLETE="complete",rb=ot,Ui.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",at.prototype.listen=at.prototype.K,tu=Ui,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,nb=ft}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",HE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new yp("@firebase/firestore");function Eo(){return Ss.logLevel}function ve(r,...e){if(Ss.logLevel<=Ze.DEBUG){const n=e.map(Dp);Ss.debug(`Firestore (${Ho}): ${r}`,...n)}}function Vi(r,...e){if(Ss.logLevel<=Ze.ERROR){const n=e.map(Dp);Ss.error(`Firestore (${Ho}): ${r}`,...n)}}function No(r,...e){if(Ss.logLevel<=Ze.WARN){const n=e.map(Dp);Ss.warn(`Firestore (${Ho}): ${r}`,...n)}}function Dp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+r;throw Vi(e),new Error(e)}function dt(r,e){r||Pe()}function Ue(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class ND{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MD{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ni,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ni)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(dt(typeof a.accessToken=="string"),new ob(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new pn(e)}}class xD{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class VD{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new xD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PD{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Er(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0);const a=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new qE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string"),this.R=n.token,new qE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=LD(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ge(r,e){return r<e?-1:r>e?1:0}function Fm(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ge(a,o);{const u=lb(),h=kD(u.encode(FE(r,n)),u.encode(FE(e,n)));return h!==0?h:Ge(a,o)}}n+=a>65535?2:1}return Ge(r.length,e.length)}function FE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function kD(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ge(r[n],e[n]);return Ge(r.length,e.length)}function Mo(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=-62135596800,KE=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*KE);return new Yt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<GE)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KE}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-GE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Yt(0,0))}static max(){return new ke(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="__name__";class Kr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Pe(),a===void 0?a=e.length-n:a>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Kr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const a=Kr.isNumericId(e),o=Kr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Kr.extractNumericId(e).compare(Kr.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class At extends Kr{construct(e,n,a){return new At(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new At(n)}static emptyPath(){return new At([])}}const UD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Kr{construct(e,n,a){return new cn(e,n,a)}static isValidIdentifier(e){return UD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QE}static keyField(){return new cn([QE])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new _e(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(a+=m,o++):(u(),o++)}if(u(),h)throw new _e(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(At.fromString(e))}static fromName(e){return new De(At.fromString(e).popFirst(5))}static empty(){return new De(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new At(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function zD(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(a===1e9?new Yt(n+1,0):new Yt(n,a));return new Sa(o,De.empty(),e)}function jD(r){return new Sa(r.readTime,r.key,pu)}class Sa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Sa(ke.min(),De.empty(),pu)}static max(){return new Sa(ke.max(),De.empty(),pu)}}function BD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(r.documentKey,e.documentKey),n!==0?n:Ge(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==HD)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,a)=>{n(e)})}static reject(e){return new ae((n,a)=>{a(e)})}static waitFor(e){return new ae((n,a)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>a(p))}),h=!0,u===o&&n()})}static or(e){let n=ae.resolve(!1);for(const a of e)n=n.next(o=>o?ae.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ae((a,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(_=>{h[g]=_,++m,m===u&&a(h)},_=>o(_))}})}static doWhile(e,n){return new ae((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function FD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=-1;function Zh(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function GD(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="";function KD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=YE(e)),e=QD(r.get(n),e);return YE(e)}function QD(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case cb:n+="";break;default:n+=u}}return n}function YE(r){return r+cb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function hb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new un(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,a,o,u){return this}insert(e,n,a){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new br([])}unionWith(e){let n=new $t(cn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new fb("Invalid base64 string: "+u):u}}(e);return new hn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const YD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(r){if(dt(!!r),typeof r=="string"){let e=0;const n=YD.exec(r);if(dt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ra(r){return typeof r=="string"?hn.fromBase64String(r):hn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="server_timestamp",mb="__type__",pb="__previous_value__",gb="__local_write_time__";function Np(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[mb])===null||n===void 0?void 0:n.stringValue)===db}function Jh(r){const e=r.mapValue.fields[pb];return Np(e)?Jh(e):e}function gu(r){const e=Aa(r.mapValue.fields[gb].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,a,o,u,h,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Nh="(default)";class yu{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="__type__",XD="__max__",th={mapValue:{}},vb="__vector__",Mh="value";function Ia(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Np(r)?4:ZD(r)?9007199254740991:WD(r)?10:11:Pe()}function Zr(r,e){if(r===e)return!0;const n=Ia(r);if(n!==Ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return gu(r).isEqual(gu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Aa(o.timestampValue),m=Aa(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Ra(o.bytesValue).isEqual(Ra(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Pt(o.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Pt(o.integerValue)===Pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Pt(o.doubleValue),m=Pt(u.doubleValue);return h===m?Oh(h)===Oh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return Mo(r.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if($E(h)!==$E(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Zr(h[p],m[p])))return!1;return!0}(r,e);default:return Pe()}}function vu(r,e){return(r.values||[]).find(n=>Zr(n,e))!==void 0}function xo(r,e){if(r===e)return 0;const n=Ia(r),a=Ia(e);if(n!==a)return Ge(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=Pt(u.integerValue||u.doubleValue),p=Pt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return WE(r.timestampValue,e.timestampValue);case 4:return WE(gu(r),gu(e));case 5:return Fm(r.stringValue,e.stringValue);case 6:return function(u,h){const m=Ra(u),p=Ra(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ge(m[g],p[g]);if(_!==0)return _}return Ge(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ge(Pt(u.latitude),Pt(h.latitude));return m!==0?m:Ge(Pt(u.longitude),Pt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return ZE(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,_;const b=u.fields||{},S=h.fields||{},I=(m=b[Mh])===null||m===void 0?void 0:m.arrayValue,V=(p=S[Mh])===null||p===void 0?void 0:p.arrayValue,$=Ge(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0);return $!==0?$:ZE(I,V)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===th.mapValue&&h===th.mapValue)return 0;if(u===th.mapValue)return 1;if(h===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const S=Fm(p[b],_[b]);if(S!==0)return S;const I=xo(m[p[b]],g[_[b]]);if(I!==0)return I}return Ge(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Pe()}}function WE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const n=Aa(r),a=Aa(e),o=Ge(n.seconds,a.seconds);return o!==0?o:Ge(n.nanos,a.nanos)}function ZE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=xo(n[o],a[o]);if(u)return u}return Ge(n.length,a.length)}function Vo(r){return Gm(r)}function Gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Aa(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ra(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return De.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Gm(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${Gm(n.fields[h])}`;return o+"}"}(r.mapValue):Pe()}function fh(r){switch(Ia(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(r);return e?16+fh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ra(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+fh(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Cs(a.fields,(u,h)=>{o+=u.length+fh(h)}),o}(r.mapValue);default:throw Pe()}}function JE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Km(r){return!!r&&"integerValue"in r}function Mp(r){return!!r&&"arrayValue"in r}function e0(r){return!!r&&"nullValue"in r}function t0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function WD(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[yb])===null||n===void 0?void 0:n.stringValue)===vb}function su(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Cs(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=su(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(r.arrayValue.values[n]);return e}return Object.assign({},r)}function ZD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=cn.emptyPath(),a={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}h?a[m.lastSegment()]=su(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Cs(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new cr(su(this.value))}}function _b(r){const e=[];return Cs(r.fields,(n,a)=>{const o=new cn([n]);if(dh(a)){const u=_b(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,a,o,u,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new gn(e,0,ke.min(),ke.min(),ke.min(),cr.empty(),0)}static newFoundDocument(e,n,a,o){return new gn(e,1,n,ke.min(),a,o,0)}static newNoDocument(e,n){return new gn(e,2,n,ke.min(),ke.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,ke.min(),ke.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function n0(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?a=De.comparator(De.fromName(h.referenceValue),n.key):a=xo(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function r0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Zr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function JD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{}class Ht extends Eb{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new tO(e,n,a):n==="array-contains"?new iO(e,a):n==="in"?new aO(e,a):n==="not-in"?new sO(e,a):n==="array-contains-any"?new oO(e,a):new Ht(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new nO(e,a):new rO(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xo(n,this.value)):n!==null&&Ia(this.value)===Ia(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends Eb{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ar(e,n)}matches(e){return Tb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Tb(r){return r.op==="and"}function bb(r){return eO(r)&&Tb(r)}function eO(r){for(const e of r.filters)if(e instanceof Ar)return!1;return!0}function Qm(r){if(r instanceof Ht)return r.field.canonicalString()+r.op.toString()+Vo(r.value);if(bb(r))return r.filters.map(e=>Qm(e)).join(",");{const e=r.filters.map(n=>Qm(n)).join(",");return`${r.op}(${e})`}}function wb(r,e){return r instanceof Ht?function(a,o){return o instanceof Ht&&a.op===o.op&&a.field.isEqual(o.field)&&Zr(a.value,o.value)}(r,e):r instanceof Ar?function(a,o){return o instanceof Ar&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,h,m)=>u&&wb(h,o.filters[m]),!0):!1}(r,e):void Pe()}function Sb(r){return r instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`}(r):r instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(Sb).join(" ,")+"}"}(r):"Filter"}class tO extends Ht{constructor(e,n,a){super(e,n,a),this.key=De.fromName(a.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class nO extends Ht{constructor(e,n){super(e,"in",n),this.keys=Ab("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rO extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=Ab("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ab(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>De.fromName(a.referenceValue))}class iO extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&vu(n.arrayValue,this.value)}}class aO extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class sO extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!vu(this.value.arrayValue,n)}}class oO extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>vu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n=null,a=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function i0(r,e=null,n=[],a=[],o=null,u=null,h=null){return new lO(r,e,n,a,o,u,h)}function xp(r){const e=Ue(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Qm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Vo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Vo(a)).join(",")),e.le=n}return e.le}function Vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!JD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!wb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!r0(r.startAt,e.startAt)&&r0(r.endAt,e.endAt)}function Ym(r){return De.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n=null,a=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uO(r,e,n,a,o,u,h,m){return new Go(r,e,n,a,o,u,h,m)}function ef(r){return new Go(r)}function a0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Rb(r){return r.collectionGroup!==null}function ou(r){const e=Ue(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new $t(cn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new _u(u,a))}),n.has(cn.keyField().canonicalString())||e.he.push(new _u(cn.keyField(),a))}return e.he}function Xr(r){const e=Ue(r);return e.Pe||(e.Pe=cO(e,ou(r))),e.Pe}function cO(r,e){if(r.limitType==="F")return i0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new _u(o.field,u)});const n=r.endAt?new xh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new xh(r.startAt.position,r.startAt.inclusive):null;return i0(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function $m(r,e){const n=r.filters.concat([e]);return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Xm(r,e,n){return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function tf(r,e){return Vp(Xr(r),Xr(e))&&r.limitType===e.limitType}function Ib(r){return`${xp(Xr(r))}|lt:${r.limitType}`}function To(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>Sb(o)).join(", ")}]`),Zh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Vo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Vo(o)).join(",")),`Target(${a})`}(Xr(r))}; limitType=${r.limitType})`}function nf(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):De.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of ou(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(h,m,p){const g=n0(h,m,p);return h.inclusive?g<=0:g<0}(a.startAt,ou(a),o)||a.endAt&&!function(h,m,p){const g=n0(h,m,p);return h.inclusive?g>=0:g>0}(a.endAt,ou(a),o))}(r,e)}function hO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Cb(r){return(e,n)=>{let a=!1;for(const o of ou(r)){const u=fO(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function fO(r,e,n){const a=r.field.isKeyField()?De.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?xo(p,g):Pe()}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return hb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new Ct(De.comparator);function Pi(){return dO}const Db=new Ct(De.comparator);function nu(...r){let e=Db;for(const n of r)e=e.insert(n.key,n);return e}function Ob(r){let e=Db;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function gs(){return lu()}function Nb(){return lu()}function lu(){return new Ds(r=>r.toString(),(r,e)=>r.isEqual(e))}const mO=new Ct(De.comparator),pO=new $t(De.comparator);function Je(...r){let e=pO;for(const n of r)e=e.add(n);return e}const gO=new $t(Ge);function yO(){return gO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function Mb(r){return{integerValue:""+r}}function vO(r,e){return GD(e)?Mb(e):Pp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function _O(r,e,n){return r instanceof Vh?function(o,u){const h={fields:{[mb]:{stringValue:db},[gb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Np(u)&&(u=Jh(u)),u&&(h.fields[pb]=u),{mapValue:h}}(n,e):r instanceof Eu?Vb(r,e):r instanceof Tu?Pb(r,e):function(o,u){const h=xb(o,u),m=s0(h)+s0(o.Ie);return Km(h)&&Km(o.Ie)?Mb(m):Pp(o.serializer,m)}(r,e)}function EO(r,e,n){return r instanceof Eu?Vb(r,e):r instanceof Tu?Pb(r,e):n}function xb(r,e){return r instanceof Ph?function(a){return Km(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Vh extends rf{}class Eu extends rf{constructor(e){super(),this.elements=e}}function Vb(r,e){const n=Lb(e);for(const a of r.elements)n.some(o=>Zr(o,a))||n.push(a);return{arrayValue:{values:n}}}class Tu extends rf{constructor(e){super(),this.elements=e}}function Pb(r,e){let n=Lb(e);for(const a of r.elements)n=n.filter(o=>!Zr(o,a));return{arrayValue:{values:n}}}class Ph extends rf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function s0(r){return Pt(r.integerValue||r.doubleValue)}function Lb(r){return Mp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function TO(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Eu&&o instanceof Eu||a instanceof Tu&&o instanceof Tu?Mo(a.elements,o.elements,Zr):a instanceof Ph&&o instanceof Ph?Zr(a.Ie,o.Ie):a instanceof Vh&&o instanceof Vh}(r.transform,e.transform)}class bO{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class af{}function kb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Lp(r.key,wr.none()):new Nu(r.key,r.data,wr.none());{const n=r.data,a=cr.empty();let o=new $t(cn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Os(r.key,a,new br(o.toArray()),wr.none())}}function wO(r,e,n){r instanceof Nu?function(o,u,h){const m=o.value.clone(),p=l0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Os?function(o,u,h){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=l0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Ub(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function uu(r,e,n,a){return r instanceof Nu?function(u,h,m,p){if(!mh(u.precondition,h))return m;const g=u.value.clone(),_=u0(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof Os?function(u,h,m,p){if(!mh(u.precondition,h))return m;const g=u0(u.fieldTransforms,p,h),_=h.data;return _.setAll(Ub(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,a):function(u,h,m){return mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,n)}function SO(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=xb(a.transform,o||null);u!=null&&(n===null&&(n=cr.empty()),n.set(a.field,u))}return n||null}function o0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Mo(a,o,(u,h)=>TO(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Nu extends af{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Os extends af{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ub(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function l0(r,e,n){const a=new Map;dt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);a.set(u.field,EO(h,m,n[o]))}return a}function u0(r,e,n){const a=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);a.set(o.field,_O(u,h,e))}return a}class Lp extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AO extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wO(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=uu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=uu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=Nb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=kb(h,m);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(ke.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(n,a)=>o0(n,a))&&Mo(this.baseMutations,e.baseMutations,(n,a)=>o0(n,a))}}class kp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){dt(e.mutations.length===a.length);let o=function(){return mO}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new kp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,it;function DO(r){switch(r){case ie.OK:return Pe();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Pe()}}function zb(r){if(r===void 0)return Vi("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Bt.OK:return ie.OK;case Bt.CANCELLED:return ie.CANCELLED;case Bt.UNKNOWN:return ie.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ie.INTERNAL;case Bt.UNAVAILABLE:return ie.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ie.NOT_FOUND;case Bt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Bt.ABORTED:return ie.ABORTED;case Bt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Bt.DATA_LOSS:return ie.DATA_LOSS;default:return Pe()}}(it=Bt||(Bt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new Ta([4294967295,4294967295],0);function c0(r){const e=lb().encode(r),n=new tb;return n.update(e),new Uint8Array(n.digest())}function h0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ta([n,a],0),new Ta([o,u],0)]}class Up{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(a<0)throw new ru(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ta.fromNumber(this.Ee)}Ae(e,n,a){let o=e.add(n.multiply(Ta.fromNumber(a)));return o.compare(OO)===1&&(o=new Ta([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=c0(e),[a,o]=h0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);if(!this.Re(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Up(u,o,n);return a.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const n=c0(e),[a,o]=h0(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(a,o,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new sf(ke.min(),o,new Ct(Ge),Pi(),Je())}}class Mu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Mu(a,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,a,o){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=o}}class jb{constructor(e,n){this.targetId=e,this.ge=n}}class Bb{constructor(e,n,a=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class f0{constructor(){this.pe=0,this.ye=d0(),this.we=hn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Je(),n=Je(),a=Je();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Pe()}}),new Mu(this.we,this.Se,e,n,a)}Me(){this.be=!1,this.ye=d0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,dt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class NO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Pi(),this.$e=nh(),this.Ue=nh(),this.Ke=new Ct(Ge)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,a=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Ym(u))if(a===0){const h=new De(u.path);this.ze(n,h,gn.newNoDocument(h,ke.min()))}else dt(a===1);else{const h=this.et(n);if(h!==a){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ra(a).toUint8Array()}catch(p){if(p instanceof fb)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Up(h,o,u)}catch(p){return No(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Ym(m.target)){const p=new De(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,gn.newNoDocument(p,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let a=Je();this.Ue.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new sf(e,n,this.Ke,this.Qe,a);return this.Qe=Pi(),this.$e=nh(),this.Ue=nh(),this.Ke=new Ct(Ge),o}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new f0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new $t(Ge),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new $t(Ge),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new f0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function nh(){return new Ct(De.comparator)}function d0(){return new Ct(De.comparator)}const MO={asc:"ASCENDING",desc:"DESCENDING"},xO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VO={and:"AND",or:"OR"};class PO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(r,e){return r.useProto3Json||Zh(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function LO(r,e){return Lh(r,e.toTimestamp())}function Wr(r){return dt(!!r),ke.fromTimestamp(function(n){const a=Aa(n);return new Yt(a.seconds,a.nanos)}(r))}function zp(r,e){return Zm(r,e).canonicalString()}function Zm(r,e){const n=function(o){return new At(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function qb(r){const e=At.fromString(r);return dt(Yb(e)),e}function Jm(r,e){return zp(r.databaseId,e.path)}function Cm(r,e){const n=qb(e);if(n.get(1)!==r.databaseId.projectId)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new De(Gb(n))}function Fb(r,e){return zp(r.databaseId,e)}function kO(r){const e=qb(r);return e.length===4?At.emptyPath():Gb(e)}function ep(r){return new At(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Gb(r){return dt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function m0(r,e,n){return{name:Jm(r,e),fields:n.value.mapValue.fields}}function UO(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(dt(_===void 0||typeof _=="string"),hn.fromBase64String(_||"")):(dt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),hn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?ie.UNKNOWN:zb(g.code);return new _e(_,g.message||"")}(h);n=new Bb(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Cm(r,a.document.name),u=Wr(a.document.updateTime),h=a.document.createTime?Wr(a.document.createTime):ke.min(),m=new cr({mapValue:{fields:a.document.fields}}),p=gn.newFoundDocument(o,u,h,m),g=a.targetIds||[],_=a.removedTargetIds||[];n=new ph(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Cm(r,a.document),u=a.readTime?Wr(a.readTime):ke.min(),h=gn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new ph([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Cm(r,a.document),u=a.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in e))return Pe();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new CO(o,u),m=a.targetId;n=new jb(m,h)}}return n}function zO(r,e){let n;if(e instanceof Nu)n={update:m0(r,e.key,e.value)};else if(e instanceof Lp)n={delete:Jm(r,e.key)};else if(e instanceof Os)n={update:m0(r,e.key,e.data),updateMask:YO(e.fieldMask)};else{if(!(e instanceof AO))return Pe();n={verify:Jm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const m=h.transform;if(m instanceof Vh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Tu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Pe()}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:LO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Pe()}(r,e.precondition)),n}function jO(r,e){return r&&r.length>0?(dt(e!==void 0),r.map(n=>function(o,u){let h=o.updateTime?Wr(o.updateTime):Wr(u);return h.isEqual(ke.min())&&(h=Wr(u)),new bO(h,o.transformResults||[])}(n,e))):[]}function BO(r,e){return{documents:[Fb(r,e.path)]}}function HO(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=Fb(r,o);const u=function(g){if(g.length!==0)return Qb(Ar.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(S){return{field:bo(S.field),direction:GO(S.dir)}}(_))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Wm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function qO(r){let e=kO(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){dt(a===1);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=function(b){const S=Kb(b);return S instanceof Ar&&bb(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(b){return b.map(S=>function(V){return new _u(wo(V.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,Zh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(b){const S=!!b.before,I=b.values||[];return new xh(I,S)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const S=!b.before,I=b.values||[];return new xh(I,S)}(n.endAt)),uO(e,o,h,u,m,"F",p,g)}function FO(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kb(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=wo(n.unaryFilter.field);return Ht.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(n.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(n.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(n.unaryFilter.field);return Ht.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(r):r.fieldFilter!==void 0?function(n){return Ht.create(wo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(a=>Kb(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(r):Pe()}function GO(r){return MO[r]}function KO(r){return xO[r]}function QO(r){return VO[r]}function bo(r){return{fieldPath:r.canonicalString()}}function wo(r){return cn.fromServerFormat(r.fieldPath)}function Qb(r){return r instanceof Ht?function(n){if(n.op==="=="){if(t0(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NAN"}};if(e0(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t0(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NAN"}};if(e0(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(n.field),op:KO(n.op),value:n.value}}}(r):r instanceof Ar?function(n){const a=n.getFilters().map(o=>Qb(o));return a.length===1?a[0]:{compositeFilter:{op:QO(n.op),filters:a}}}(r):Pe()}function YO(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Yb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,a,o,u=ke.min(),h=ke.min(),m=hn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.Tt=e}}function XO(r){const e=qO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.Tn=new ZO}addToCollectionParentIndex(e,n){return this.Tn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Sa.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Sa.min())}updateCollectionGroup(e,n,a){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class ZO{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new $t(At.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new $t(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$b=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn($b,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Po(0)}static Kn(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="LruGarbageCollector",JO=1048576;function y0([r,e],[n,a]){const o=Ge(r,n);return o===0?Ge(e,a):o}class eN{constructor(e){this.Hn=e,this.buffer=new $t(y0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();y0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tN{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ve(g0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fo(n)?ve(g0,"Ignoring IndexedDB error during garbage collection: ",n):await qo(n)}await this.er(3e5)})}}class nN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Wh.ae);const a=new eN(n);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(p0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(a=b,m=Date.now(),this.removeTargets(e,a,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(g=Date.now(),Eo()<=Ze.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function rN(r,e){return new nN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.changes=new Ds(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ae.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&uu(a.mutation,o,br.empty(),Yt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Je()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Je()){const o=gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let h=nu();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const a=gs();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Je()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,a,o){let u=Pi();const h=lu(),m=function(){return lu()}();return n.forEach((p,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Os)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),uu(_.mutation,g,_.mutation.getFieldMask(),Yt.now())):h.set(g.key,br.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),n.forEach((g,_)=>{var b;return m.set(g,new aN(_,(b=h.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const a=lu();let o=new Ct((h,m)=>h-m),u=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let _=a.get(p)||br.empty();_=m.applyToLocalView(g,_),a.set(p,_);const b=(o.get(m.batchId)||Je()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,b=Nb();_.forEach(S=>{if(!u.has(S)){const I=kb(n.get(S),a.get(S));I!==null&&b.set(S,I),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ae.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(h){return De.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Rb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ae.resolve(gs());let m=pu,p=u;return h.next(g=>ae.forEach(g,(_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Je())).next(_=>({batchId:m,changes:Ob(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(a=>{let o=nu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let h=nu();return this.indexManager.getCollectionParents(e,u).next(m=>ae.forEach(m,p=>{const g=function(b,S){return new Go(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(_=>{_.forEach((b,S)=>{h=h.insert(b,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,gn.newInvalidDocument(_)))});let m=nu();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&uu(_.mutation,g,br.empty(),Yt.now()),nf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ae.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Wr(o.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:XO(o.bundledQuery),readTime:Wr(o.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.overlays=new Ct(De.comparator),this.Rr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const a=gs();return ae.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.Et(e,n,u)}),ae.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),ae.resolve()}getOverlaysForCollection(e,n,a){const o=gs(),u=n.length+1,h=new De(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Ct((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let _=u.get(g.largestBatchId);_===null&&(_=gs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return ae.resolve(m)}Et(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new IO(n,a));let u=this.Rr.get(n);u===void 0&&(u=Je(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.Vr=new $t(nn.mr),this.gr=new $t(nn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new nn(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new nn(e,n))}Sr(e,n){e.forEach(a=>this.removeReference(a,n))}br(e){const n=new De(new At([])),a=new nn(n,e),o=new nn(n,e+1),u=[];return this.gr.forEachInRange([a,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new De(new At([])),a=new nn(n,e),o=new nn(n,e+1);let u=Je();return this.gr.forEachInRange([a,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new nn(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class nn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return De.comparator(e.key,n.key)||Ge(e.Cr,n.Cr)}static pr(e,n){return Ge(e.Cr,n.Cr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new $t(nn.mr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new RO(u,n,a,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new nn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,n){return ae.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Op:this.Fr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new nn(n,0),o=new nn(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],h=>{const m=this.Or(h.Cr);u.push(m)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new $t(Ge);return n.forEach(o=>{const u=new nn(o,0),h=new nn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{a=a.add(m.Cr)})}),ae.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;De.isDocumentKey(u)||(u=u.child(""));const h=new nn(new De(u),0);let m=new $t(Ge);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},h),ae.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){dt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ae.forEach(n.mutations,o=>{const u=new nn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new nn(n,0),o=this.Mr.firstAfterOrEqual(a);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.kr=e,this.docs=function(){return new Ct(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ae.resolve(a?a.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let a=Pi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():gn.newInvalidDocument(o))}),ae.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Pi();const h=n.path,m=new De(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||BD(jD(_),a)<=0||(o.has(_.key)||nf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Pe()}qr(e,n){return ae.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new fN(this)}getSize(e){return ae.resolve(this.size)}}class fN extends iN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),ae.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.persistence=e,this.Qr=new Ds(n=>xp(n),Vp),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Ur=new jp,this.targetCount=0,this.Kr=Po.Un()}forEachTarget(e,n){return this.Qr.forEach((a,o)=>n(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ae.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.zn(n),ae.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(u).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return ae.resolve(a)}addMatchingKeys(e,n,a){return this.Ur.yr(n,a),ae.resolve()}removeMatchingKeys(e,n,a){this.Ur.Sr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Ur.vr(n);return ae.resolve(a)}containsKey(e,n){return ae.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Wh(0),this.zr=!1,this.zr=!0,this.jr=new uN,this.referenceDelegate=e(this),this.Hr=new dN(this),this.indexManager=new WO,this.remoteDocumentCache=function(o){return new hN(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new $O(n),this.Yr=new oN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new cN(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){ve("MemoryPersistence","Starting transaction:",e);const o=new mN(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ae.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class mN extends qD{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.ti=new jp,this.ni=null}static ri(e){return new Bp(e)}get ii(){if(this.ni)return this.ni;throw Pe()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ae.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ae.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.ii,a=>{const o=De.fromPath(a);return this.si(e,o).next(u=>{u||n.removeEntry(o,ke.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ae.or([()=>ae.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.oi=new Ds(a=>KD(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=rN(this,n)}static ri(e,n){return new kh(e,n)}Zr(){}Xr(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return ae.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?ae.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(m=>{m||(a++,u.removeEntry(h,ke.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ae.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fh(e.data.value)),n}ar(e,n,a){return ae.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ae.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(e,n){let a=Je(),o=Je();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return X1()?8:FD(yn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,o,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new pN;return this._s(e,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,h,m.size)})}).next(()=>u.result)}us(e,n,a,o){return a.documentReadCount<this.es?(Eo()<=Ze.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ae.resolve()):(Eo()<=Ze.DEBUG&&ve("QueryEngine","Query:",To(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(Eo()<=Ze.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):ae.resolve())}rs(e,n){if(a0(n))return ae.resolve(null);let a=Xr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Xm(n,null,"F"),a=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const h=Je(...u);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.cs(n,m);return this.ls(n,g,h,p.readTime)?this.rs(e,Xm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,a,o){return a0(n)||o.isEqual(ke.min())?ae.resolve(null):this.ns.getDocuments(e,a).next(u=>{const h=this.cs(n,u);return this.ls(n,h,a,o)?ae.resolve(null):(Eo()<=Ze.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(n)),this.hs(e,h,n,zD(o,pu)).next(m=>m))})}cs(e,n){let a=new $t(Cb(e));return n.forEach((o,u)=>{nf(e,u)&&(a=a.add(u))}),a}ls(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,a){return Eo()<=Ze.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",To(n)),this.ns.getDocumentsMatchingQuery(e,n,Sa.min(),a)}hs(e,n,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="LocalStore",yN=3e8;class vN{constructor(e,n,a,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new Ct(Ge),this.Is=new Ds(u=>xp(u),Vp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function _N(r,e,n,a){return new vN(r,e,n,a)}async function Wb(r,e){const n=Ue(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],m=[];let p=Je();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function EN(r,e){const n=Ue(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const b=g.batch,S=b.keys();let I=ae.resolve();return S.forEach(V=>{I=I.next(()=>_.getEntry(p,V)).next($=>{const j=g.docVersions.get(V);dt(j!==null),$.version.compareTo(j)<0&&(b.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),_.addEntry($)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function Zb(r){const e=Ue(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function TN(r,e){const n=Ue(r),a=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((_,b)=>{const S=o.get(b);if(!S)return;m.push(n.Hr.removeMatchingKeys(u,_.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,_.addedDocuments,b)));let I=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?I=I.withResumeToken(hn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,a)),o=o.insert(b,I),function($,j,W){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=yN?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(S,I,_)&&m.push(n.Hr.updateTargetData(u,I))});let p=Pi(),g=Je();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(bN(u,h,e.documentUpdates).next(_=>{p=_.Vs,g=_.fs})),!a.isEqual(ke.min())){const _=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(_)}return ae.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function bN(r,e,n){let a=Je(),o=Je();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let h=Pi();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ve(qp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function wN(r,e){const n=Ue(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function SN(r,e){const n=Ue(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,e).next(u=>u?(o=u,ae.resolve(o)):n.Hr.allocateTargetId(a).next(h=>(o=new ga(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function tp(r,e,n){const a=Ue(r),o=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Fo(h))throw h;ve(qp,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function v0(r,e,n){const a=Ue(r);let o=ke.min(),u=Je();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const b=Ue(p),S=b.Is.get(_);return S!==void 0?ae.resolve(b.Ts.get(S)):b.Hr.getTargetData(g,_)}(a,h,Xr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,e,n?o:ke.min(),n?u:Je())).next(m=>(AN(a,hO(e),m),{documents:m,gs:u})))}function AN(r,e,n){let a=r.Es.get(e)||ke.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Es.set(e,a)}class _0{constructor(){this.activeTargetIds=yO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RN{constructor(){this.ho=new _0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new _0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="ConnectivityMonitor";class T0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ve(E0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ve(E0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function np(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RestConnection",CN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Nh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,n,a,o,u){const h=np(),m=this.bo(e,n.toUriEncodedString());ve(Dm,`Sending RPC '${e}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,a).then(g=>(ve(Dm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw No(Dm,`RPC '${e}' ${h} failed with error: `,g,"url: ",m,"request:",a),g})}Co(e,n,a,o,u,h){return this.So(e,n,a,o,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const a=CN[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class NN extends DN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,o){const u=np();return new Promise((h,m)=>{const p=new nb;p.setWithCredentials(!0),p.listenOnce(rb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const _=p.getResponseJson();ve(mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case hh.TIMEOUT:ve(mn,`RPC '${e}' ${u} timed out`),m(new _e(ie.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const b=p.getStatus();if(ve(mn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const V=function(j){const W=j.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(W)>=0?W:ie.UNKNOWN}(I.status);m(new _e(V,I.message))}else m(new _e(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new _e(ie.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{ve(mn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ve(mn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,a,15)})}Wo(e,n,a){const o=np(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=sb(),m=ab(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const _=u.join("");ve(mn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=h.createWebChannel(_,p);let S=!1,I=!1;const V=new ON({Fo:j=>{I?ve(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(S||(ve(mn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),ve(mn,`RPC '${e}' stream ${o} sending:`,j),b.send(j))},Mo:()=>b.close()}),$=(j,W,re)=>{j.listen(W,oe=>{try{re(oe)}catch(ge){setTimeout(()=>{throw ge},0)}})};return $(b,tu.EventType.OPEN,()=>{I||(ve(mn,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),$(b,tu.EventType.CLOSE,()=>{I||(I=!0,ve(mn,`RPC '${e}' stream ${o} transport closed`),V.Uo())}),$(b,tu.EventType.ERROR,j=>{I||(I=!0,No(mn,`RPC '${e}' stream ${o} transport errored:`,j),V.Uo(new _e(ie.UNAVAILABLE,"The operation could not be completed")))}),$(b,tu.EventType.MESSAGE,j=>{var W;if(!I){const re=j.data[0];dt(!!re);const oe=re,ge=(oe==null?void 0:oe.error)||((W=oe[0])===null||W===void 0?void 0:W.error);if(ge){ve(mn,`RPC '${e}' stream ${o} received error:`,ge);const k=ge.status;let me=function(R){const N=Bt[R];if(N!==void 0)return zb(N)}(k),O=ge.message;me===void 0&&(me=ie.INTERNAL,O="Unknown error status: "+k+" with message "+ge.message),I=!0,V.Uo(new _e(me,O)),b.close()}else ve(mn,`RPC '${e}' stream ${o} received:`,re),V.Ko(re)}}),$(m,ib.STAT_EVENT,j=>{j.stat===qm.PROXY?ve(mn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===qm.NOPROXY&&ve(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(r){return new PO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="PersistentStream";class ew{constructor(e,n,a,o,u,h,m,p){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Jb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{e(()=>{const o=new _e(ie.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ve(b0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ve(b0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MN extends ew{constructor(e,n,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=UO(this.serializer,e),a=function(u){if(!("targetChange"in u))return ke.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ke.min():h.readTime?Wr(h.readTime):ke.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=ep(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=Ym(p)?{documents:BO(u,p)}:{query:HO(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Hb(u,h.resumeToken);const g=Wm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(ke.min())>0){m.readTime=Lh(u,h.snapshotVersion.toTimestamp());const g=Wm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=FO(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.I_(n)}}class xN extends ew{constructor(e,n,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=jO(e.writeResults,e.commitTime),a=Wr(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=ep(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>zO(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{}class PN extends VN{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,Zm(n,a),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ie.UNKNOWN,u.toString())})}Co(e,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,Zm(n,a),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _e(ie.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class LN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Vi(n),this.N_=!1):ve("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="RemoteStore";class kN{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{a.enqueueAndForget(async()=>{Ns(this)&&(ve(As,"Restarting streams for network reachability change."),await async function(p){const g=Ue(p);g.W_.add(4),await xu(g),g.j_.set("Unknown"),g.W_.delete(4),await lf(g)}(this))})}),this.j_=new LN(a,o)}}async function lf(r){if(Ns(r))for(const e of r.G_)await e(!0)}async function xu(r){for(const e of r.G_)await e(!1)}function tw(r,e){const n=Ue(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Qp(n)?Kp(n):Ko(n).c_()&&Gp(n,e))}function Fp(r,e){const n=Ue(r),a=Ko(n);n.K_.delete(e),a.c_()&&nw(n,e),n.K_.size===0&&(a.c_()?a.P_():Ns(n)&&n.j_.set("Unknown"))}function Gp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ko(r).y_(e)}function nw(r,e){r.H_.Ne(e),Ko(r).w_(e)}function Kp(r){r.H_=new NO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ko(r).start(),r.j_.B_()}function Qp(r){return Ns(r)&&!Ko(r).u_()&&r.K_.size>0}function Ns(r){return Ue(r).W_.size===0}function rw(r){r.H_=void 0}async function UN(r){r.j_.set("Online")}async function zN(r){r.K_.forEach((e,n)=>{Gp(r,e)})}async function jN(r,e){rw(r),Qp(r)?(r.j_.q_(e),Kp(r)):r.j_.set("Unknown")}async function BN(r,e,n){if(r.j_.set("Online"),e instanceof Bb&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(a){ve(As,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Uh(r,a)}else if(e instanceof ph?r.H_.We(e):e instanceof jb?r.H_.Ze(e):r.H_.je(e),!n.isEqual(ke.min()))try{const a=await Zb(r.localStore);n.compareTo(a)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.K_.get(g);_&&u.K_.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u.K_.get(p);if(!_)return;u.K_.set(p,_.withResumeToken(hn.EMPTY_BYTE_STRING,_.snapshotVersion)),nw(u,p);const b=new ga(_.target,p,g,_.sequenceNumber);Gp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){ve(As,"Failed to raise snapshot:",a),await Uh(r,a)}}async function Uh(r,e,n){if(!Fo(e))throw e;r.W_.add(1),await xu(r),r.j_.set("Offline"),n||(n=()=>Zb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ve(As,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await lf(r)})}function iw(r,e){return e().catch(n=>Uh(r,n,e))}async function uf(r){const e=Ue(r),n=Ca(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:Op;for(;HN(e);)try{const o=await wN(e.localStore,a);if(o===null){e.U_.length===0&&n.P_();break}a=o.batchId,qN(e,o)}catch(o){await Uh(e,o)}aw(e)&&sw(e)}function HN(r){return Ns(r)&&r.U_.length<10}function qN(r,e){r.U_.push(e);const n=Ca(r);n.c_()&&n.S_&&n.b_(e.mutations)}function aw(r){return Ns(r)&&!Ca(r).u_()&&r.U_.length>0}function sw(r){Ca(r).start()}async function FN(r){Ca(r).C_()}async function GN(r){const e=Ca(r);for(const n of r.U_)e.b_(n.mutations)}async function KN(r,e,n){const a=r.U_.shift(),o=kp.from(a,e,n);await iw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await uf(r)}async function QN(r,e){e&&Ca(r).S_&&await async function(a,o){if(function(h){return DO(h)&&h!==ie.ABORTED}(o.code)){const u=a.U_.shift();Ca(a).h_(),await iw(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uf(a)}}(r,e),aw(r)&&sw(r)}async function w0(r,e){const n=Ue(r);n.asyncQueue.verifyOperationInProgress(),ve(As,"RemoteStore received new credentials");const a=Ns(n);n.W_.add(3),await xu(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await lf(n)}async function YN(r,e){const n=Ue(r);e?(n.W_.delete(2),await lf(n)):e||(n.W_.add(2),await xu(n),n.j_.set("Unknown"))}function Ko(r){return r.J_||(r.J_=function(n,a,o){const u=Ue(n);return u.M_(),new MN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:UN.bind(null,r),No:zN.bind(null,r),Lo:jN.bind(null,r),p_:BN.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Qp(r)?Kp(r):r.j_.set("Unknown")):(await r.J_.stop(),rw(r))})),r.J_}function Ca(r){return r.Y_||(r.Y_=function(n,a,o){const u=Ue(n);return u.M_(),new xN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:FN.bind(null,r),Lo:QN.bind(null,r),D_:GN.bind(null,r),v_:KN.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await uf(r)):(await r.Y_.stop(),r.U_.length>0&&(ve(As,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const h=Date.now()+a,m=new Yp(e,n,h,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(r,e){if(Vi("AsyncQueue",`${e}: ${r}`),Fo(r))return new _e(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||De.comparator(n.key,a.key):(n,a)=>De.comparator(n.key,a.key),this.keyedMap=nu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Co;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.Z_=new Ct(De.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Pe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class Lo{constructor(e,n,a,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Lo(e,n,Co.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class XN{constructor(){this.queries=A0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=Ue(n),u=o.queries;o.queries=A0(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(a)})})(this,new _e(ie.ABORTED,"Firestore shutting down"))}}function A0(){return new Ds(r=>Ib(r),tf)}async function Xp(r,e){const n=Ue(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new $N,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=$p(h,`Initialization of query '${To(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Zp(n)}async function Wp(r,e){const n=Ue(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function WN(r,e){const n=Ue(r);let a=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(o)&&(a=!0);h.ea=o}}a&&Zp(n)}function ZN(r,e,n){const a=Ue(r),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(e)}function Zp(r){r.ia.forEach(e=>{e.next()})}var rp,R0;(R0=rp||(rp={}))._a="default",R0.Cache="cache";class Jp{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Lo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.key=e}}class lw{constructor(e){this.key=e}}class JN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Je(),this.mutatedKeys=Je(),this.ya=Cb(e),this.wa=new Co(this.ya)}get Sa(){return this.fa}ba(e,n){const a=n?n.Da:new S0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,b)=>{const S=o.get(_),I=nf(this.query,b)?b:null,V=!!S&&this.mutatedKeys.has(S.key),$=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let j=!1;S&&I?S.data.isEqual(I.data)?V!==$&&(a.track({type:3,doc:I}),j=!0):this.va(S,I)||(a.track({type:2,doc:I}),j=!0,(p&&this.ya(I,p)>0||g&&this.ya(I,g)<0)&&(m=!0)):!S&&I?(a.track({type:0,doc:I}),j=!0):S&&!I&&(a.track({type:1,doc:S}),j=!0,(p||g)&&(m=!0)),j&&(I?(h=h.add(I),u=$?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{wa:h,Da:a,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((_,b)=>function(I,V){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return $(I)-$(V)}(_.type,b.type)||this.ya(_.doc,b.doc)),this.Ca(a),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new Lo(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new S0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Je(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new lw(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new ow(a))}),n}Oa(e){this.fa=e.gs,this.pa=Je();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Lo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const eg="SyncEngine";class eM{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class tM{constructor(e){this.key=e,this.Ba=!1}}class nM{constructor(e,n,a,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Ds(m=>Ib(m),tf),this.qa=new Map,this.Qa=new Set,this.$a=new Ct(De.comparator),this.Ua=new Map,this.Ka=new jp,this.Wa={},this.Ga=new Map,this.za=Po.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function rM(r,e,n=!0){const a=mw(r);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await uw(a,e,n,!0),o}async function iM(r,e){const n=mw(r);await uw(n,e,!0,!1)}async function uw(r,e,n,a){const o=await SN(r.localStore,Xr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await aM(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&tw(r.remoteStore,o),m}async function aM(r,e,n,a,o){r.Ha=(b,S,I)=>async function($,j,W,re){let oe=j.view.ba(W);oe.ls&&(oe=await v0($.localStore,j.query,!1).then(({documents:O})=>j.view.ba(O,oe)));const ge=re&&re.targetChanges.get(j.targetId),k=re&&re.targetMismatches.get(j.targetId)!=null,me=j.view.applyChanges(oe,$.isPrimaryClient,ge,k);return C0($,j.targetId,me.Ma),me.snapshot}(r,b,S,I);const u=await v0(r.localStore,e,!0),h=new JN(e,u.gs),m=h.ba(u.documents),p=Mu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);C0(r,n,g.Ma);const _=new eM(e,n,h);return r.ka.set(e,_),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function sM(r,e,n){const a=Ue(r),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(h=>!tf(h,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await tp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Fp(a.remoteStore,o.targetId),ip(a,o.targetId)}).catch(qo)):(ip(a,o.targetId),await tp(a.localStore,o.targetId,!0))}async function oM(r,e){const n=Ue(r),a=n.ka.get(e),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Fp(n.remoteStore,a.targetId))}async function lM(r,e,n){const a=pM(r);try{const o=await function(h,m){const p=Ue(h),g=Yt.now(),_=m.reduce((I,V)=>I.add(V.key),Je());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let V=Pi(),$=Je();return p.ds.getEntries(I,_).next(j=>{V=j,V.forEach((W,re)=>{re.isValidDocument()||($=$.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,V)).next(j=>{b=j;const W=[];for(const re of m){const oe=SO(re,b.get(re.key).overlayedDocument);oe!=null&&W.push(new Os(re.key,oe,_b(oe.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,W,m)}).next(j=>{S=j;const W=j.applyToLocalDocumentSet(b,$);return p.documentOverlayCache.saveOverlays(I,j.batchId,W)})}).then(()=>({batchId:S.batchId,changes:Ob(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new Ct(Ge)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(a,o.batchId,n),await Vu(a,o.changes),await uf(a.remoteStore)}catch(o){const u=$p(o,"Failed to persist write");n.reject(u)}}async function cw(r,e){const n=Ue(r);try{const a=await TN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ua.get(u);h&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?dt(h.Ba):o.removedDocuments.size>0&&(dt(h.Ba),h.Ba=!1))}),await Vu(n,a,e)}catch(a){await qo(a)}}function I0(r,e,n){const a=Ue(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,h)=>{const m=h.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ue(h);p.onlineState=m;let g=!1;p.queries.forEach((_,b)=>{for(const S of b.ta)S.sa(m)&&(g=!0)}),g&&Zp(p)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function uM(r,e,n){const a=Ue(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Ua.get(e),u=o&&o.key;if(u){let h=new Ct(De.comparator);h=h.insert(u,gn.newNoDocument(u,ke.min()));const m=Je().add(u),p=new sf(ke.min(),new Map,new Ct(Ge),h,m);await cw(a,p),a.$a=a.$a.remove(u),a.Ua.delete(e),tg(a)}else await tp(a.localStore,e,!1).then(()=>ip(a,e,n)).catch(qo)}async function cM(r,e){const n=Ue(r),a=e.batch.batchId;try{const o=await EN(n.localStore,e);fw(n,a,null),hw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Vu(n,o)}catch(o){await qo(o)}}async function hM(r,e,n){const a=Ue(r);try{const o=await function(h,m){const p=Ue(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(dt(b!==null),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(a.localStore,e);fw(a,e,n),hw(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Vu(a,o)}catch(o){await qo(o)}}function hw(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function fw(r,e,n){const a=Ue(r);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function ip(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.qa.get(e))r.ka.delete(a),n&&r.La.Ja(a,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(a=>{r.Ka.containsKey(a)||dw(r,a)})}function dw(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Fp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),tg(r))}function C0(r,e,n){for(const a of n)a instanceof ow?(r.Ka.addReference(a.key,e),fM(r,a)):a instanceof lw?(ve(eg,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,e),r.Ka.containsKey(a.key)||dw(r,a.key)):Pe()}function fM(r,e){const n=e.key,a=n.path.canonicalString();r.$a.get(n)||r.Qa.has(a)||(ve(eg,"New document in limbo: "+n),r.Qa.add(a),tg(r))}function tg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new De(At.fromString(e)),a=r.za.next();r.Ua.set(a,new tM(n)),r.$a=r.$a.insert(n,a),tw(r.remoteStore,new ga(Xr(ef(n.path)),a,"TargetPurposeLimboResolution",Wh.ae))}}async function Vu(r,e,n){const a=Ue(r),o=[],u=[],h=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{h.push(a.Ha(p,e,n).then(g=>{var _;if((g||n)&&a.isPrimaryClient){const b=g?!g.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Hp.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(h),a.La.p_(o),await async function(p,g){const _=Ue(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ae.forEach(g,S=>ae.forEach(S.Hi,I=>_.persistence.referenceDelegate.addReference(b,S.targetId,I)).next(()=>ae.forEach(S.Ji,I=>_.persistence.referenceDelegate.removeReference(b,S.targetId,I)))))}catch(b){if(!Fo(b))throw b;ve(qp,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const I=_.Ts.get(S),V=I.snapshotVersion,$=I.withLastLimboFreeSnapshotVersion(V);_.Ts=_.Ts.insert(S,$)}}}(a.localStore,u))}async function dM(r,e){const n=Ue(r);if(!n.currentUser.isEqual(e)){ve(eg,"User change. New user:",e.toKey());const a=await Wb(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new _e(ie.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Vu(n,a.Rs)}}function mM(r,e){const n=Ue(r),a=n.Ua.get(e);if(a&&a.Ba)return Je().add(a.key);{let o=Je();const u=n.qa.get(e);if(!u)return o;for(const h of u){const m=n.ka.get(h);o=o.unionWith(m.view.Sa)}return o}}function mw(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=cw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uM.bind(null,e),e.La.p_=WN.bind(null,e.eventManager),e.La.Ja=ZN.bind(null,e.eventManager),e}function pM(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hM.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return _N(this.persistence,new gN,e.initialUser,this.serializer)}Xa(e){return new Xb(Bp.ri,this.serializer)}Za(e){return new RN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class gM extends zh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){dt(this.persistence.referenceDelegate instanceof kh);const a=this.persistence.referenceDelegate.garbageCollector;return new tN(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new Xb(a=>kh.ri(a,n),this.serializer)}}class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>I0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=dM.bind(null,this.syncEngine),await YN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XN}()}createDatastore(e){const n=of(e.databaseInfo.databaseId),a=function(u){return new NN(u)}(e.databaseInfo);return function(u,h,m,p){return new PN(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,h,m){return new kN(a,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>I0(this.syncEngine,n,0),function(){return T0.D()?new T0:new IN}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,_){const b=new nM(o,u,h,m,p,g);return _&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ue(o);ve(As,"RemoteStore shutting down."),u.W_.add(5),await xu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="FirestoreClient";class yM{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=ub.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{ve(Da,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(ve(Da,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=$p(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),ve(Da,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Wb(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function D0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await vM(r);ve(Da,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>w0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>w0(e.remoteStore,o)),r._onlineComponents=e}async function vM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(Da,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await Nm(r,new zh)}}else ve(Da,"Using default OfflineComponentProvider"),await Nm(r,new gM(void 0));return r._offlineComponents}async function pw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(Da,"Using user provided OnlineComponentProvider"),await D0(r,r._uninitializedComponentsProvider._online)):(ve(Da,"Using default OnlineComponentProvider"),await D0(r,new ap))),r._onlineComponents}function _M(r){return pw(r).then(e=>e.syncEngine)}async function jh(r){const e=await pw(r),n=e.eventManager;return n.onListen=rM.bind(null,e.syncEngine),n.onUnlisten=sM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oM.bind(null,e.syncEngine),n}function EM(r,e,n={}){const a=new Ni;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new ng({next:S=>{_.su(),h.enqueueAndForget(()=>Wp(u,b));const I=S.docs.has(m);!I&&S.fromCache?g.reject(new _e(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&p&&p.source==="server"?g.reject(new _e(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Jp(ef(m.path),_,{includeMetadataChanges:!0,Ta:!0});return Xp(u,b)}(await jh(r),r.asyncQueue,e,n,a)),a.promise}function TM(r,e,n={}){const a=new Ni;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new ng({next:S=>{_.su(),h.enqueueAndForget(()=>Wp(u,b)),S.fromCache&&p.source==="server"?g.reject(new _e(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Jp(m,_,{includeMetadataChanges:!0,Ta:!0});return Xp(u,b)}(await jh(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(r,e,n){if(!n)throw new _e(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function bM(r,e,n,a){if(e===!0&&a===!0)throw new _e(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function N0(r){if(!De.isDocumentKey(r))throw new _e(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function M0(r){if(De.isDocumentKey(r))throw new _e(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Pe()}function hr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(r);throw new _e(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="firestore.googleapis.com",x0=!0;class V0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vw,this.ssl=x0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:x0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$b;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JO)throw new _e(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gw((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new OD;switch(a.type){case"firstParty":return new VD(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _e(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=O0.get(n);a&&(ve("ComponentProvider","Removing Datastore"),O0.delete(n),a.terminate())}(this),Promise.resolve()}}function wM(r,e,n,a={}){var o;const u=(r=hr(r,hf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==vw&&u.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!Ts(p,h)&&(r._setSettings(p),a.mockUserToken)){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=pn.MOCK_USER;else{g=q1(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new _e(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new pn(b)}r._authCredentials=new ND(new ob(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class In{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class ba extends Va{constructor(e,n,a){super(e,n,ef(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new De(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function sp(r,e,...n){if(r=vn(r),yw("collection","path",e),r instanceof hf){const a=At.fromString(e,...n);return M0(a),new ba(r,null,a)}{if(!(r instanceof In||r instanceof ba))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...n));return M0(a),new ba(r.firestore,null,a)}}function bu(r,e,...n){if(r=vn(r),arguments.length===1&&(e=ub.newId()),yw("doc","path",e),r instanceof hf){const a=At.fromString(e,...n);return N0(a),new In(r,null,new De(a))}{if(!(r instanceof In||r instanceof ba))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...n));return N0(a),new In(r.firestore,r instanceof ba?r.converter:null,new De(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="AsyncQueue";class L0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Jb(this,"async_queue_retry"),this.Su=()=>{const a=Om();a&&ve(P0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fo(e))throw e;ve(P0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(a);throw Vi("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Yp.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function k0(r){return function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Oa extends hf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new L0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L0(e),this._firestoreClient=void 0,await e}}}function SM(r,e){const n=typeof r=="object"?r:_T(),a=typeof r=="string"?r:Nh,o=_p(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=B1("firestore");u&&wM(o,...u)}return o}function ff(r){if(r._terminated)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AM(r),r._firestoreClient}function AM(r){var e,n,a;const o=r._freezeSettings(),u=function(m,p,g,_){return new $D(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,gw(_.experimentalLongPollingOptions),_.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new yM(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(hn.fromBase64String(e))}catch(n){throw new _e(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ko(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=/^__.*__$/;class IM{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}function Ew(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class sg{constructor(e,n,a,o,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new sg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ew(this.Lu)&&RM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class CM{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||of(e)}ju(e,n,a,o=!1){return new sg({Lu:e,methodName:n,zu:a,path:cn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function og(r){const e=r._freezeSettings(),n=of(r._databaseId);return new CM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Tw(r,e,n,a,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Sw("Data must be an object, but it was:",h,a);const m=bw(a,h);let p,g;if(u.merge)p=new br(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const S=OM(e,b,n);if(!h.contains(S))throw new _e(ie.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);MM(_,S)||_.push(S)}p=new br(_),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new IM(new cr(m),p,g)}function DM(r,e,n,a=!1){return lg(n,r.ju(a?4:3,e))}function lg(r,e){if(ww(r=vn(r)))return Sw("Unsupported field value:",e,r),bw(r,e);if(r instanceof _w)return function(a,o){if(!Ew(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let h=0;for(const m of a){let p=lg(m,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return vO(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Yt.fromDate(a);return{timestampValue:Lh(o.serializer,u)}}if(a instanceof Yt){const u=new Yt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,u)}}if(a instanceof ig)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ko)return{bytesValue:Hb(o.serializer,a._byteString)};if(a instanceof In){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ag)return function(h,m){return{mapValue:{fields:{[yb]:{stringValue:vb},[Mh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Pp(m.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${cf(a)}`)}(r,e)}function bw(r,e){const n={};return hb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(r,(a,o)=>{const u=lg(o,e.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function ww(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Yt||r instanceof ig||r instanceof ko||r instanceof In||r instanceof _w||r instanceof ag)}function Sw(r,e,n){if(!ww(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=cf(n);throw a==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+a)}}function OM(r,e,n){if((e=vn(e))instanceof rg)return e._internalPath;if(typeof e=="string")return Aw(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const NM=new RegExp("[~\\*/\\[\\]]");function Aw(r,e,n){if(e.search(NM)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rg(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new _e(ie.INVALID_ARGUMENT,m+r+p)}function MM(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xM extends Rw{data(){return super.data()}}function ug(r,e){return typeof e=="string"?Aw(r,e):e instanceof rg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _e(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class Cw extends cg{}function Dw(r,e,...n){let a=[];e instanceof cg&&a.push(e),a=a.concat(n),function(u){const h=u.filter(p=>p instanceof fg).length,m=u.filter(p=>p instanceof hg).length;if(h>1||h>0&&m>0)throw new _e(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class hg extends Cw{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new hg(e,n,a)}_apply(e){const n=this._parse(e);return Nw(e._query,n),new Va(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=og(e.firestore);return function(u,h,m,p,g,_,b){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){z0(b,_);const V=[];for(const $ of b)V.push(U0(p,u,$));S={arrayValue:{values:V}}}else S=U0(p,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||z0(b,_),S=DM(m,h,b,_==="in"||_==="not-in");return Ht.create(g,_,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class fg extends cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fg(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Nw(h,p),h=$m(h,p)}(e._query,n),new Va(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dg extends Cw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dg(e,n)}_apply(e){const n=function(o,u,h){if(o.startAt!==null)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(u,h)}(e._query,this._field,this._direction);return new Va(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Go(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Ow(r,e="asc"){const n=e,a=ug("orderBy",r);return dg._create(a,n)}function U0(r,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new _e(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rb(e)&&n.indexOf("/")!==-1)throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(At.fromString(n));if(!De.isDocumentKey(a))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return JE(r,new De(a))}if(n instanceof In)return JE(r,n._key);throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function z0(r,e){if(!Array.isArray(r)||r.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nw(r,e){const n=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VM{convertValue(e,n="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Cs(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[Mh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>Pt(h.doubleValue));return new ag(u)}convertGeoPoint(e){return new ig(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Jh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const n=Aa(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=At.fromString(e);dt(Yb(a));const o=new yu(a.get(1),a.get(3)),u=new De(a.popFirst(5));return o.isEqual(n)||Vi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(r,e,n){let a;return a=r?r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xw extends Rw{constructor(e,n,a,o,u,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(ug("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class gh extends xw{data(e={}){return super.data(e)}}class Vw{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new gh(this._firestore,this._userDataWriter,a.key,a,new iu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:PM(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r){r=hr(r,In);const e=hr(r.firestore,Oa);return EM(ff(e),r._key).then(n=>Lw(e,r,n))}class mg extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function LM(r){r=hr(r,Va);const e=hr(r.firestore,Oa),n=ff(e),a=new mg(e);return Iw(r._query),TM(n,r._query).then(o=>new Vw(e,a,r,o))}function kM(r,e,n){r=hr(r,In);const a=hr(r.firestore,Oa),o=Mw(r.converter,e);return pg(a,[Tw(og(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,wr.none())])}function UM(r){return pg(hr(r.firestore,Oa),[new Lp(r._key,wr.none())])}function zM(r,e){const n=hr(r.firestore,Oa),a=bu(r),o=Mw(r.converter,e);return pg(n,[Tw(og(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,wr.exists(!1))]).then(()=>a)}function jM(r,...e){var n,a,o;r=vn(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||k0(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(k0(e[h])){const b=e[h];e[h]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[h+1]=(a=b.error)===null||a===void 0?void 0:a.bind(b),e[h+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,_;if(r instanceof In)g=hr(r.firestore,Oa),_=ef(r._key.path),p={next:b=>{e[h]&&e[h](Lw(g,r,b))},error:e[h+1],complete:e[h+2]};else{const b=hr(r,Va);g=hr(b.firestore,Oa),_=b._query;const S=new mg(g);p={next:I=>{e[h]&&e[h](new Vw(g,S,b,I))},error:e[h+1],complete:e[h+2]},Iw(r._query)}return function(S,I,V,$){const j=new ng($),W=new Jp(I,j,V);return S.asyncQueue.enqueueAndForget(async()=>Xp(await jh(S),W)),()=>{j.su(),S.asyncQueue.enqueueAndForget(async()=>Wp(await jh(S),W))}}(ff(g),_,m,p)}function pg(r,e){return function(a,o){const u=new Ni;return a.asyncQueue.enqueueAndForget(async()=>lM(await _M(a),o,u)),u.promise}(ff(r),e)}function Lw(r,e,n){const a=n.docs.get(e._key),o=new mg(r);return new xw(r,o,e._key,a,new iu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ho=o})(zo),Do(new bs("firestore",(a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new Oa(new MD(a.getProvider("auth-internal")),new PD(h,a.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),_a(BE,HE,e),_a(BE,HE,"esm2017")})();const BM={apiKey:"AIzaSyAQaVXkuuPpw_kLg8acYZnb6C0Ta6DLdLk",authDomain:"reactlinks-c66d9.firebaseapp.com",projectId:"reactlinks-c66d9",storageBucket:"reactlinks-c66d9.firebasestorage.app",messagingSenderId:"650900376249",appId:"1:650900376249:web:160b263252334a56a1a968"},kw=vT(BM),gg=CD(kw),_s=SM(kw);function HM(){const[r,e]=K.useState([]),[n,a]=K.useState();return K.useEffect(()=>{function o(){const u=sp(_s,"links"),h=Dw(u,Ow("create","asc"));LM(h).then(m=>{const p=[];m.forEach(g=>{p.push({id:g.id,name:g.data().name,url:g.data().url,bg:g.data().bg,color:g.data().color})}),e(p)})}o()},[]),K.useEffect(()=>{function o(){const u=bu(_s,"social","link");Pw(u).then(h=>{var m,p,g;h.data()!==void 0&&a({facebook:(m=h.data())==null?void 0:m.facebook,instagram:(p=h.data())==null?void 0:p.instagram,youtube:(g=h.data())==null?void 0:g.youtube})})}o()},[]),fe.jsxs("div",{className:"flex flex-col w-full py-4 items-center justify-center",children:[fe.jsx("h1",{className:"md:text-4xl text-3xl font-bold text-white mt-20",children:"Mateus Demartino"}),fe.jsx("span",{className:"text-gray-50 mb-5 mt-3",children:"Veja meus links "}),fe.jsxs("main",{className:"flex flex-col w-11/12 max-w-xl text-center ",children:[r.map(o=>fe.jsx("section",{style:{backgroundColor:o.bg},className:"bg-white mb-4 w-full py-2 rounded-lg select-none transition-transform hover:scale-105 cursor-pointer",children:fe.jsx("a",{href:o.url,target:"_blank",children:fe.jsx("p",{className:"text-base md:text-lg",style:{color:o.color},children:o.name})})},o.id)),n&&Object.keys(n).length>0&&fe.jsxs("footer",{className:"flex justify-center gap-3 my-4",children:[fe.jsx(Em,{url:n==null?void 0:n.facebook,children:fe.jsx(O1,{className:"transform-transition hover:scale-110",size:35,color:"#fff"})}),fe.jsx(Em,{url:n==null?void 0:n.youtube,children:fe.jsx(M1,{className:"transform-transition hover:scale-110",size:35,color:"#fff"})}),fe.jsx(Em,{url:n==null?void 0:n.instagram,children:fe.jsx(N1,{className:"transform-transition hover:scale-110",size:35,color:"#fff"})})]})]})]})}function qM(r){return Au({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"},child:[]},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"},child:[]}]})(r)}function Uw(){async function r(){await y2(gg)}return fe.jsx("header",{className:"w-full max-w-2xl mt-4 px-1",children:fe.jsxs("nav",{className:"w-full bg-white h-12 flex items-center justify-between rounded-md px-3",children:[fe.jsxs("div",{className:"flex gap-4 font-medium",children:[fe.jsx(vs,{to:"/",children:"Home"}),fe.jsx(vs,{to:"/admin",children:"links"}),fe.jsx(vs,{to:"/admin/social",children:"Redes Sociais"})]}),fe.jsx("button",{onClick:r,children:fe.jsx(qM,{className:"cursor-pointer",size:28,color:"#db2629"})})]})})}function Es(r){return fe.jsx("input",{className:"border-0 h-9 rounded-md outline-none px-2 mb-3 bg-white",...r})}function FM(r){return Au({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(r)}function GM(){const[r,e]=K.useState(""),[n,a]=K.useState(""),[o,u]=K.useState("#f1f1f1"),[h,m]=K.useState("#121212"),[p,g]=K.useState([]);K.useEffect(()=>{const S=sp(_s,"links"),I=Dw(S,Ow("create","asc")),V=jM(I,$=>{let j=[];$.forEach(W=>{j.push({id:W.id,name:W.data().name,url:W.data().url,bg:W.data().bg,color:W.data().color}),console.log(j)}),g(j)});return()=>{V()}},[]);function _(S){if(S.preventDefault(),r===""||n===""){alert("Preencha todos os campos!");return}zM(sp(_s,"links"),{name:r,url:n,bg:h,color:o,create:new Date}).then(()=>{e(""),a("")}).catch(I=>{console.log("Error na requisio"+I)})}async function b(S){const I=bu(_s,"links",S);await UM(I)}return fe.jsxs("div",{className:"flex items-center flex-col pb-7 px-2 min-h-screen",children:[fe.jsx(Uw,{}),fe.jsxs("form",{className:"w-full flex flex-col mt-8 mb-3 max-w-xl",onSubmit:_,children:[fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Nome do Link"}),fe.jsx(Es,{placeholder:"Digite o nome do link...",value:r,onChange:S=>e(S.target.value)}),fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Url do Link"}),fe.jsx(Es,{type:"url",placeholder:"Digite a Url...",value:n,onChange:S=>a(S.target.value)}),fe.jsxs("section",{className:"flex my-4 gap-5",children:[fe.jsxs("div",{className:"flex gap-2",children:[fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Cor do Link"}),fe.jsx("input",{className:"mt-1",type:"color",value:o,onChange:S=>u(S.target.value)})]}),fe.jsxs("div",{className:"flex gap-2",children:[fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Fundo do Link"}),fe.jsx("input",{className:"mt-1",type:"color",value:h,onChange:S=>m(S.target.value)})]})]}),r!==""&&fe.jsxs("div",{className:"flex items-center justify-start flex-col mb-7 p-1 border-gray-100/25 border rounded-md",children:[fe.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Veja como est ficando:"}),fe.jsx("article",{className:"w-11/12 max-w-lg flex flex-col items-center justify-between bg-zinc-900 rounded px-1 py-3",style:{marginBottom:8,marginTop:8,background:h},children:fe.jsx("p",{className:"font-medium",style:{color:o},children:r})})]}),fe.jsx("button",{type:"submit",className:"mb-7 flex justify-center items-center bg-blue-600 text-white font-medium gap-4 h-9 rounded-md cursor-pointer",children:"Cadastrar"})]}),fe.jsx("h2",{className:"font-bold text-white mb-4 text-2xl",children:"Meus Links"}),p.map(S=>fe.jsxs("article",{className:"flex items-center justify-between w-11/12 max-w-xl rounded py-3 px-2 mb-2 select-none",style:{backgroundColor:S.bg,color:S.color},children:[fe.jsx("p",{children:S.name}),fe.jsx("div",{children:fe.jsx("button",{className:"border border-dashed p-1 rounded bg-neutral-900",onClick:()=>b(S.id),children:fe.jsx(FM,{size:18,color:"#fff",cursor:"pointer"})})})]},S.id))]})}function KM(){const[r,e]=K.useState(""),[n,a]=K.useState(""),o=fp();function u(h){if(h.preventDefault(),r===""||n===""){alert("Preencha todos os campos!");return}d2(gg,r,n).then(()=>{o("/admin",{replace:!0})}).catch(m=>{console.log(m),console.log("Houve um error com a requisio!")})}return fe.jsxs("div",{className:"flex w-full h-screen items-center justify-center flex-col ",children:[fe.jsx(vs,{to:"/",children:fe.jsxs("h1",{className:"mt-11 text-white mb-7 font-bold text-5xl",children:["Dev",fe.jsx("span",{className:"bg-gradient-to-r from-yellow-500 to-orange-400 bg-clip-text text-transparent",children:"Link"})]})}),fe.jsxs("form",{onSubmit:u,className:"w-full max-w-xl flex flex-col  px-2",children:[fe.jsx(Es,{placeholder:"Digite seu email...",type:"email",value:r,onChange:h=>e(h.target.value)}),fe.jsx(Es,{placeholder:"*******",type:"password",value:n,onChange:h=>a(h.target.value)}),fe.jsx("button",{type:"submit",className:"h-9 bg-blue-600 rounded text-lg border-0 font-medium text-white cursor-pointer ",children:"Acessar"})]})]})}function QM(){const[r,e]=K.useState(""),[n,a]=K.useState(""),[o,u]=K.useState("");K.useEffect(()=>{function m(){const p=bu(_s,"social","link");Pw(p).then(g=>{var _,b,S;g.data()!==void 0&&(e((_=g.data())==null?void 0:_.facebook),a((b=g.data())==null?void 0:b.instagram),u((S=g.data())==null?void 0:S.youtube))})}m()},[]);function h(m){if(m.preventDefault(),r!==""||n!==""||o!=="")return kM(bu(_s,"social","link"),{facebook:r,instagram:n,youtube:o}).then(()=>{console.log("requisio com sucesso!")}).catch(p=>{console.log("error ao fazer a requisio!",p)});alert("Preencha pelo menos um dos campos!")}return fe.jsxs("div",{className:"flex flex-col items-center max-h-screen pb-7 px-2",children:[fe.jsx(Uw,{}),fe.jsx("h1",{className:"text-white font-medium text-2xl mt-8 mb-4",children:"Minhas Redes Sociais"}),fe.jsxs("form",{className:"flex flex-col max-w-xl w-full",onSubmit:h,children:[fe.jsx("label",{className:"text-white font-medium mt-2 mb-3",children:"Link do Facebook"}),fe.jsx(Es,{type:"url",placeholder:"Digite a url do facebook...",value:r,onChange:m=>e(m.target.value)}),fe.jsx("label",{className:"text-white font-medium mt-2 mb-3",children:"Link do Instagram"}),fe.jsx(Es,{type:"url",placeholder:"Digite a url do instagram...",value:n,onChange:m=>a(m.target.value)}),fe.jsx("label",{className:"text-white font-medium mt-2 mb-3",children:"Link do Youtube"}),fe.jsx(Es,{type:"url",placeholder:"Digite a url do youtube...",value:o,onChange:m=>u(m.target.value)}),fe.jsx("button",{type:"submit",className:"text-white bg-blue-600 flex items-center justify-center rounded-md h-9 mb-7 mt-2 font-medium",children:"Salvar links"})]})]})}function j0({children:r}){const[e,n]=K.useState(!0),[a,o]=K.useState(!1);return K.useEffect(()=>{const u=g2(gg,h=>{if(h){const m={user:h==null?void 0:h.uid,email:h==null?void 0:h.email};localStorage.setItem("@reactlinks",JSON.stringify(m)),n(!1),o(!0)}else n(!1),o(!1)});return()=>{u()}},[]),e?fe.jsx("div",{}):a?r:fe.jsx(zR,{to:"/login"})}function YM(){return fe.jsxs("div",{className:"w-full min-h-screen flex items-center justify-center flex-col text-white",children:[fe.jsx("h1",{className:"font-bold text-6xl mb-2",children:"404"}),fe.jsx("h1",{className:"font-bold text-4xl mb-4",children:"Pagina no encontrada"}),fe.jsx("p",{className:"italic text-1xl mb-4",children:"Voc caiu em uma pgina que no existe!"}),fe.jsx(vs,{className:"bg-gray-50/20 py-1 px-4 rounded-md",to:"/",children:"Voltar para Home"})]})}const $M=u1([{path:"/",element:fe.jsx(HM,{})},{path:"/login",element:fe.jsx(KM,{})},{path:"/admin",element:fe.jsx(j0,{children:fe.jsx(GM,{})})},{path:"admin/social",element:fe.jsx(j0,{children:fe.jsx(QM,{})})},{path:"*",element:fe.jsx(YM,{})}]);vA.createRoot(document.getElementById("root")).render(fe.jsx(K.StrictMode,{children:fe.jsx(b1,{router:$M})}));
